#+TITLE: Análisis funcional
#+AUTHOR: Mario Román
#+EMAIL: mromang08@gmail.com

#+SETUPFILE: config.setup
#+LANGUAGE: es

* 1. Espacios normados
** Espacios normados
*** Norma y seminorma
*Norma*. Función $\|\cdot\| : X \longrightarrow \mathbb{R}$ verficando:

  - $\|x\| = 0 \Leftrightarrow x = 0$
  - $\|ax\| = |a| \|x\|$
  - $\|x+y\| \leq \|x\|+\|y\|$

**** Seminorma
Cuando $\|x\| = 0$ no implica $x = 0$, se llama *seminorma*. Define
una norma en un espacio cociente.

  - $\|ax\| = |a| \|x\|$
  - $\|x+y\| \leq \|x\|+\|y\|$

**** Sublineal
Cuando además $\|\alpha x\| = \alpha\|x\|$ sólo se cumple para reales positivos, 
se llama funcional *sublineal*.

  - $\|ax\| =  a \|x\|$ para $a \in \mathbb{R}^+$
  - $\|x+y\| \leq \|x\|+\|y\|$

**** Distancia de la norma
Desde la norma se puede definir una *distancia* asociada 
$d(x,y) = \|x-y\|$, que hace a $X$ un *espacio métrico*. La distancia 
cumple:

  - $d(x+a,y+a) = d(x,y)$
  - $d(\lambda a) = |\lambda| d(a)$

**** Topología de la norma
La distancia hace a un espacio normado un *espacio topológico*
con abiertos:

\[\tau = \{G \subset X \;|\; \forall a \in G: \exists r > : B(a,r) \subset G\}\]

Dos normas que generan el mismo espacio topológico son 
*equivalentes*.

**** Equivalencia proporcional
Dos normas $\|.\|$ y $\|.\|_\ast$ generan topologías equivalentes cuando:

\[\exists m,M \in \mathbb{R^+}:\; m \|x\| \leq \|x\|_\ast \leq M \|x\|\]

***** Demostración
Se demuestra por mutua inclusión de bolas.

*** Espacios vectoriales topológicos
Cualquier espacio vectorial sobre $\mathbb{R}$ o $\mathbb{C}$ es normado.

**** Demostración
Dada una base \(\{e_i\}\) del espacio, podemos escribir $x = \sum \alpha_i e_i$ 
y definirla como:

\[ \|x\| = \sum |\alpha_i|\]

La suma es finita por definición de base.

*** Continuidad de la norma, suma y producto
La norma es continua en su espacio por ser lipschitziana:

\[ |\|x\| -  \|y\|| \leq \|x-y\| \]

**** Continuidad de suma y producto
La suma y el producto por escalares son continuos, usando que la
convergencia en el producto equivale a la convergencia por
coordenadas.

**** Continuidad de homotecias y translaciones
Como corolario, lo son las *homotecias* y *translaciones*, todas las
bolas cerradas son homeomorfas a la bola unidad.

*** Operaciones sobre conjuntos
Para $X$ espacio normado:

  1. $A$ abierto $\Rightarrow$ $A+B$ abierto.
  2. $A$ cerrrado, $B$ compacto $\Rightarrow$ $A+B$ cerrado.
  3. $A,B$ compactos $\Rightarrow$ $A+B$ compacto.
  4. $M$ subespacio $\Rightarrow$ $\overline{M}$ subespacio.

**** Demostración de 1
Es la unión de abiertos, $A + B = \bigcup_{b \in B} (b + A)$.

**** Demostración de 2
Sea $x \in \overline{A+B}$, $\exists \{a_n,b_n\} : \{a_n,b_n\} \longrightarrow x$, por compacidad
tenemos $\{b_{\sigma_n}\} \longrightarrow b \in B$ y por tanto $\{a_{\sigma_n}\} \longrightarrow x-b \in A$.

**** Demostración de 3
Se tiene $A\times B$ compacto, y la suma es continua, luego
$A+B$ es compacto.

**** Demostración de 4
Usando la continuidad de la suma y del producto por 
escalares:

\[(+)(\overline{M}\times\overline{M}) 
= (+)\overline{(M\times M)}
\subset \overline{(+)(M \times M)}\]
\[(*)(\mathbb{K}\times\overline{M})
= (*)\overline{(\mathbb{K}\times M)}
\subset \overline{(*)(\mathbb{K} \times M)}\]
      
**** Contraejemplo de suma de cerrados
La suma de dos cerrados puede no ser cerrado:

\[\left\{n + \frac{1}{n} \mid n \in \mathbb{N}\right\} + 
\left\{-n \mid n \in \mathbb{N}\right\} = 
\left\{\frac{1}{n} \mid n \in \mathbb{N}\right\}\]

*** Conexión de espacios normados
Todo espacio normado es *conexo* y *localmente arcoconexo*;
por tanto *arcoconexo*. De hecho, la bola unidad es *convexa*.

*** Espacios de Banach
Un *espacio de Banach* es un espacio normado completo.

** Desigualdades básicas
*** Desigualdad de Young
Para $a,b\in\mathbb{R}^+$ y $p>1$ con $\frac{1}{p}+\frac{1}{q} = 1$ se tiene:

\[ab \leq \frac{a^p}{p}+\frac{b^q}{q}\]

**** Demostración
Se demuestra aplicando desigualdad de Taylor al logaritmo con 
pesos $1/p$ y $1/q$.

\[\log(ab) = \frac{1}{p}\log(a^p) + \frac{1}{q}\log(b^q) \leq 
\log\left(\frac{a^p}{p} + \frac{b^q}{q}\right)\]

*** Desigualdad de Hölder
Para $a_1\dots a_nb_1\dots b_n \in \mathbb{R}^+_0$ con $\frac{1}{p} +\frac{1}{q} = 1$ se verifica:

\[\sum a_kb_k \leq \left(\sum a_k^p\right)^{1/p}\left(\sum b_k^q\right)^{1/q}\]

**** Demostración
Se demuestra aplicando Young a la división de ambos lados y
cuidando el caso $0$. Llamamos $\alpha = \left(\sum_k a^p_k\right)^{1/p}$, $\beta = \left(\sum_k \beta^q_k\right)^{1/q}$:

\[\frac{a_kb_k}{\alpha\beta}
\leq \frac{a_k^p}{p\alpha^p} + \frac{b_k^q}{q\beta^q}\]

Sumando cada desigualdad tenemos:

\[\frac{1}{\alpha\beta} \sum a_kb_k \leq 
\frac{1}{p\alpha^p}\sum a_k^p +
\frac{1}{q\beta^q}\sum b_k^q = 1\]

*** Desigualdad de Minkowski
Para $a_1\dots a_nb_1\dots b_n \in \mathbb{R}^+_0$, $p>1$, se verifica:

\[\left(\sum_{k=1}^n (a_k+b_k)^p \right)^{1/p} \leq 
\left(\sum_{k=1}^n a_k^p \right)^{1/p} + 
\left(\sum_{k=1}^n b_k^p \right)^{1/p} \]

Dicho de otra forma:

\[\|a+b\|_p \leq \|a\|_p + \|b\|_p\]

**** Demostración
Aplicando Hölder con $p$, $1 - 1/p$ para tener:

\[\begin{aligned}
\left( \sum_{k=1}^n (a_k+b_k)^p \right)^{1/p} 
&=
\left( \sum_{k=1}^n (a_k+b_k)(a_k+b_k)^{p-1} \right)^{1/p}
\\&=
\left( \left( \sum_{k=1}^n a_k^p \right)^{1/p} + \left( \sum_{k=1}^n b_k^p \right)^{1/p} \right)
\left( \sum_{k=1}^n (a_k+b_k)^{\frac{p(p-1)}{p-1}} \right)^{1-1/p}
\end{aligned}\]

** Ejemplos de espacios normados
*** Espacios de dimensión finita
Solemos notar por ${l}_p^n = (\mathbb{K}^n,\|.\|_p)$ al espacio de Banach sobre $\mathbb{R}^n$ o $\mathbb{C}^n$ 
que da la norma:

\[\|x\|_p = \left(\sum |x_{(k)}|^p \right)^{1/p}\]

Nótese el caso especial $l^n_\infty$ que da la norma del máximo.

**** Normas
Todas estas normas lo son gracias a la [[*Desigualdad de Minkowski][desigualdad de Minkowski]].

**** Equivalencia
Todas las normas son equivalentes y generan el mismo espacio de
Banach:

\[ \|x\|_\infty \leq \|x\|_p \leq \|x\|_1 \leq N \|x\|_\infty\]

***** Demostración
Aplicamos la desigualdad de las medias.

*** Espacios de sucesiones
Las *sucesiones* tales que su p-suma es convergente,
con las normas $\|.\|_p$, dan los siguientes espacios de Banach:

\[\ell_p = \left\{ x : \mathbb{N} \longrightarrow \mathbb{K} \,\middle|\,
\sum_{n=1}^\infty |x(n)|^p < \infty \right\}\]

siendo un caso particular el de la norma del supremo
sobre *sucesiones acotadas*:

\[{\cal \ell}_\infty = \left\{ x : \mathbb{N} \longrightarrow \mathbb{K}\ \left|\ x(n) \text{ acotada} \right\}\]

**** Forman un subespacio vectorial
Pasando la desigualdad de Minkowski al límite, tenemos:

\[\left(\sum^\infty_{k=1} (a_k+b_k)^p \right)^{1/p} \leq 
\left(\sum^\infty_{k=1} a_k^p \right)^{1/p} + 
\left(\sum^\infty_{k=1} b_k^p \right)^{1/p} \]

Por tanto, es un subespacio vectorial y se obtiene una norma
como:

\[\|x\|_p = \left(\sum_{n=1}^\infty |x(n)|^p \right)^{1/p}\]

**** Son espacios de Banach
Como tenemos $|x_n(k)-x_m(k)| \leq \|x_n-x_m\|$, cuando $\{x_n\}$ es 
Cauchy en $\ell_p$, también es Cauchy $\{x_n(k)\}$. Y por tanto, es
convergente por componentes $x(k) = \lim_{n\to\infty}x_n(k)$.

Usamos $\{x_n\}$ de Cauchy para tener:

\[\exists n_0 : \forall m,n\geq n_0 :
\|x_n-x_m\| < \varepsilon\]

Es decir,

\[\sum_{k=1}^N |x_n(k)-x_m(k)|^p \leq (\|x_n-x_m\|_p)^p < \varepsilon^p\]

Tomando $m \to \infty$, y luego tomando $N \to \infty$:

\[\sum_{k=1}^\infty |x_n(k)-x(k)|^p \leq \varepsilon^p\]

Así, tenemos que $x = x_n - (x_n-x) \in \ell_p$, y como $\|x_n-x\|_p \leq \varepsilon$,
tenemos $\{x_n\} \to x$.

*** Subespacios del espacio de sucesiones
El espacio de sucesiones cuenta con subespacios usando la misma 
norma:

**** Sucesiones convergentes
Es un subespacio de $\ell_\infty$ cerrado, y por tanto, de Banach.

\[c = \left\{ x : \mathbb{N} \longrightarrow \mathbb{K}\ 
\left|\ \{x(n)\} \text{ convergente } \right\}\]
 
**** Sucesiones nulas
Otro subespacio de $\ell_\infty$, también cerrado y por tanto, de Banach.

\[c_0 = \left\{ x : \mathbb{N} \longrightarrow \mathbb{K}\ 
\left|\ \{x(n)\} \longrightarrow 0 \right\}\]

**** Sucesiones casi-nulas o de soporte finito
Es un subespacio para todo $\ell_p$.

\[c_{00} = \left\{ x : \mathbb{N} \longrightarrow \mathbb{K}\ 
\left|\ \exists m: \forall n \geq m:\  x(n) = 0 \right\}\]

Este es un subespacio denso ya que toda sucesión es límite de
sucesiones de soporte finito. Pero no es el total, así que no
será completo.

*** Espacios de funciones continuas acotadas
Dado $T$ espacio topológico, tomamos el espacio de funciones
continuas y acotadas:

\[{\cal C}_b(T) = \left\{f : T \longrightarrow \mathbb{K} \mid
f \text{ continua, acotada}\right\}\]

Y lo dotamos de la *norma del supremo*:

\[ \|f\|_\infty = \sup\{ |f(t)| \mid t \in T\}\]

Que da la *convergencia uniforme*.

**** Es espacio de Banach
Si tenemos $\{f_n\}$ de Cauchy, $\{f_n(x)\}$ es de Cauchy y converge a $f(x)$.
Como tenemos algún $n$ para el que $\forall p\geq n: \|f_n-f_p\|_\infty \leq \varepsilon$, entonces:

\[|f_n(x)-f_p(x)| \leq \|f_n-f_p\|_\infty \leq \varepsilon\]

Y tomando límite en $p$ se tiene $|f_n(x) - f(x)| \leq \varepsilon$, luego
$\|f_n-f\|_{\infty} \leq \varepsilon$.

**** Anuladas en infinito
Sea $L$ compacto y separado. Una función se *anula en el infinito*
cuando:

\[\forall \varepsilon: 
\{t\in L \mid |f(t)|\geq\varepsilon\} 
\text{ es compacto}\]

Las funciones continuas que se anulan en el infinito forman 
${\cal C}_0(L)$, subespacio de ${\cal C}_b(L)$. Es espacio cerrado 
y por tanto de Banach.

**** Funciones de soporte compacto
El soporte de $f : L \longrightarrow \mathbb{K}$ para $L$ localmente compacto 
separado es:

\[sop(f) = 
\overline{\{t \in L \mid f(t) \neq 0\}} \subset
L \]

Las funciones con soporte compacto forman ${\cal C}_{00}(L)$, subespacio
vectorial de ${\cal C}_0(L)$.

**** Relación entre ambas
Tenemos que ${\cal C}_{00}(L)$ no es completo en general y que:

\[\overline{{\cal C}_{00}(L)} = {\cal C}_0(L)\]

*** Espacios de funciones derivables
Consideraremos el espacio de funciones sobre un intervalo que sean $d$
veces derivables con derivadas continuas, ${\cal C}^n([a,b],\mathbb{K}^d)$. Escritas:

\[f^{k)} = \left(f^{k)}_1,f^{k)}_2,\dots,f^{k)}_d\right)\]

Sobre él defimos una norma del supremo sobre cada derivada
$\|f^{k)}\| = max \{\|f^{k)}_i\|_\infty\}$. La norma del espacio es la suma de la de 
cada una de las derivadas.

\[ \|f\|_\infty = \sum \|f^{k)}\|_\infty\]

**** Es espacio de Banach
Esto, por el *teorema de la convergencia uniforme* nos lleva a que una
sucesión de Cauchy converja de manera que respete la derivada. Este
será un espacio de Banach.

*** Espacios de funciones integrables
Consideramos el *espacio de funciones p-integrables* como:

\[ L_p(\Omega) =
\left\{ f \in L(\Omega) \;\middle|\; \int_\Omega |f(t)|^p dt < \infty \right\}
\]

Normándolas con:

\[ \|f\|_p =
\left( \int_\Omega |f(t)|^p dt \right)^{1/p}\]

Debemos /identificar funciones que coinciden c.p.d./ para
deducir $\|f\|_p = 0 \Rightarrow f = 0$. Estos espacios son siempre completos.

**** Desigualdades integrales de Hölder y Minkowski
A partir de la desigualdad de Young llegamos
a la *desigualdad integral de Hölder* para funciones
tales que $|f|^p, |g|^p$ son Lebesgue-integrables:

\[\int_\Omega |f(t)g(t)| dt \leq
\left( \int_\Omega |f(t)|^p dt \right)^{1/p}
\left( \int_\Omega |g(t)|^q dt \right)^{1/q}\]

Y desde ella, la *desigualdad integral de Minkowski*:

\[\left( \int_\Omega |f(t) + g(t)|^p dt \right)^{1/p} \leq
\left( \int_\Omega |f(t)|^p dt \right)^{1/p} +
\left( \int_\Omega |g(t)|^p dt \right)^{1/p}\]

Esto nos da la naturaleza de norma.

**** Complitud en el caso real
Usando el Teorema de Riesz-Fisher.

*** Espacios de funciones esencialmente acotadas
Una función es *esencialmente acotada* cuando es $f : [0,1] \longrightarrow \mathbb{K}$:

\[\exists M: |f| \leq M \text{ c.p.d.}\]

Al espacio de funciones esencialmente acotadas lo llamamos ${\cal L}_\infty[0,1]$ y 
le damos una seminorma:

\[\phi_\infty(f) = \inf\{ M
 \mid |f|\leq M \text{ c.p.d.}\}\]

**** Naturaleza de seminorma
Se cumple por un lado que:

\[\phi_\infty(\alpha f) = |\alpha|\phi_\infty(f)\]

Y por otro lado que:

\[ \phi_\infty(f+g) \leq \phi_\infty(f) + \phi_\infty(g) \]

**** Estructura de espacio normado
Podemos convertirlo en espacio normado si tomamos cociente sobre:

\[ N = \{ f \in {\cal L}_\infty[0,1] \mid
\phi_\infty(f)=0 \} \]

Esto es espacio de Banach con la norma $\phi_\infty$.

** Categoría de espacios normados
*** Homomorfismos topológicos
Los morfismos de la categoría de espacios normados son los
*homomorfismos topológicos*, operadores lineales y continuos que
además son abiertos en su imagen. Hablamos igualmente de
*monomorfismos topológicos*, *epimorfismos topológicos* o de
*isomorfismos topológicos*.

*** Producto de espacios normados
Dados $X_1,\dots,X_n$ espacios normados, podemos definir normas 
sobre su producto cartesiano $\prod X_i$:

 - *Norma del máximo*: $\|x\|_\infty = \max\{\|x_i\|\}$
 - *Norma p*: $\|x\|_p = (\sum \|x_i\|^p)^{1/p}$

**** Topología del producto
La convergencia es trivialmente coordenada a coordenada, y
las topologías asociadas son equivalentes a la topología
producto. El espacio es *Banach* ssi lo son las componentes.

*** Cociente de un espacio normado
Sea $M$ subespacio vectorial cerrado de $X$. Podemos hacer a $X/M$ 
normado con:

\[ \|x+M\| 
= \inf\left\{ \|x - m\| \mid m \in M \right\} 
= d(x,M)\]

**** Topología del cociente
Este espacio es de Banach ssi $X$ es de Banach y $M$ completo. 
La topología coincidirá con la topología cociente.

**** Proyecciones
La proyección $Q: X \longrightarrow X/M$ es lineal, sobreyectiva, abierta
y continua.

** Operadores y funcionales lineales
*** Operadores lineales continuos
Para $T : X \longrightarrow Y$ lineal entre espacios normados, equivalen:

- $T$ lipschitziana
- $T$ uniformemente continua
- $T$ continua
- $T$ continua en $0$
- $\exists M: \|Tx\| \leq M\|x\|$
- $T$ preserva acotación, $A$ acotado da $TA$ acotado
- $TB_X$ acotado
- $TS_X$ acotado

Y lo llamamos *operador lineal continuo*, $T \in L(X,Y)$.

**** Demostración
***** Lipschitzianidad
La lipschitzianidad implica hasta la continuidad en $0$.

***** Continuidad en 0 implica acotación
Si hay continuidad en $0$ existe $\|x\| < \delta \implies \|Tx\| \leq 1$. Tenemos
entonces:

\[ \left\|\frac{\delta}{\|x\|}x\right\| = \delta \implies
T\left( \frac{\delta}{\|x\|}x \right) \leq 1\]

Luego $\|Tx\| \leq \|x\|/\delta$.

***** Acotación
La acotación implica todo lo demás excepto lipschitzianidad.

***** Acotación de la esfera implica lipschitzianidad.
Como tenemos $\frac{x-y}{\|x-y\|} \in S_X$, lo tenemos acotado por algún $\alpha$ y:

\[T(x-y) \leq \alpha\|x-y\|\]

Por lo tanto, es lispchiztiano.
**** Norma de operadores
Se define la *norma de operadores* como:

\[\begin{aligned}
\|T\| =& \sup_{x \in B_X}\left\{\|Tx\|\right\} \\
=& \sup_{x \in S_X}\left\{\|Tx\|\right\} \\
=& \min\{k \mid \|Tx\| \leq k\|x\| \}
\end{aligned}\]

Y cumple que $\|Tx\| \leq \|T\|\|x\|$.

***** TODO Está bien definida
*** Cuatro teoremas sobre la norma de operadores
Dados $X,Y$ espacios normados:

 1. $(L(X,Y),\|.\|)$ es espacio normado.
 2. $\{T_n\}\longrightarrow T$ ssi $\{T_n\}\longrightarrow T$ uniformemente en $B_X$.
 3. Si $Y$ es de Banach, $L(X,Y)$ es de Banach.
 4. Para $X \overset{T}\longrightarrow Y \overset{S}\longrightarrow Z$, se tiene $\|S \circ T\| \leq \|S\|\|T\|$.

**** Demostración
***** Primer punto
La norma de operadores es norma porque hereda la desigualdad
triangular y la linealidad de la norma del espacio. Nótese
que si $\sup_{x \in B_X} \|Tx\|=0$, es porque $T = 0$.

***** Segundo punto
Nótese que la norma de operadores mide el supremo en la bola
unidad y por homotecias se extiende al espacio.

\[\begin{aligned}
\{T_n\} \longrightarrow T 
&\iff \{\|T_n-T\|\} \longrightarrow 0 
\\&\iff 
\sup_{x \in B_X}\{\|T_n(x) - T(x)\|\} \longrightarrow 0 
\\&\iff 
\sup_{x \in X}\left\{ \left\|T_n\left(\frac{x}{\|x\|}\right) - T\left(\frac{x}{\|x\|}\right) \right\|\right\}
\longrightarrow 0
\end{aligned}\]

***** Tercer punto
Sea $\{T_n\}$ Cauchy. Tenemos $\|T_p(x) - T_q(x)\| \leq \|T_p - T_q\|\|x\|$, por lo que
sabemos $\{T_n(x)\}$ Cauchy; por complitud  $\{T_n(x)\} \longrightarrow T(x)$. Es lineal:

\[T(\alpha x + \beta y) = 
\lim \left( \alpha T_n(x) + \beta T_n(y) \right)
\longrightarrow
\alpha T(x) + \beta T(y)
\]

Tomando límites en la condición de Cauchy, vemos que es acotada
la función $T_p - T$:

\[\|T_p(x) - T(x)\| \leq \varepsilon\]

Luego $T$ es lineal y continua. Y además, $\{T_n\} \longrightarrow T$.

***** Cuarto punto
$\|S \circ T (x)\| \leq \|S\|\|T\|\|x\|$

*** Espacio dual topológico
Sea $X$ normado, su *dual topológico* es el espacio de funciones al
cuerpo con la norma de operadores:

\[ X^\ast = 
L(X,\mathbb{K}) 
= \left\{ f : X \longrightarrow \mathbb{K} \mid
f \text{ lineal y continua} \right\}
\]

*** Extensión desde un subespacio denso
Sea $M$ subespacio denso en $X$, para cada $T \in L(M,Y)$ existe
un $S \in L(X,Y)$ tal que $S|_M = T$ y $\|S\| = \|T\|$

**** Demostración
Podemos extenderla por continuidad, y comprobamos que es lineal:

\[\begin{aligned}
S(\alpha x_n + \beta y_n) = 
T(\alpha x_n + \beta y_n) = 
\alpha Tx_n + \beta Ty_n 
\longrightarrow \alpha Sx_n + \beta Ty_n
\end{aligned}\]

Como la norma es continua y el supremo invariante a clausuras,
hay igualdad entre las normas.

*** Caracterización de operadores abiertos
Sea $T : X\longrightarrow Y$ lineal. Equivalen:

 - $T$ es abierta.
 - $T(B_X)$ es entorno de $0$.

**** Sobreyectividad
Una función lineal y abierta debe ser sobreyectiva ya que la imagen
es subespacio vectorial abierto, y por tanto el total.

**** Demostración
Si es abierta, trivialmente $T(B_X)$ es abierto.

Sea $O \subseteq X$ abierto. Sea $x \in O$, con $B(x,r) \subseteq O$. Como $T(B_X)$ es entorno 
de $0$, tenemos $T(x) + T(B_X)r = T(B(x,r)) \subseteq T(O)$ entorno de $x$, por ser
la translación y homotecia [[*Continuidad de homotecias y translaciones][homeomorfismos]].

*** Caracterización de operadores abiertos sobre la imagen
Sea $T : X \longrightarrow Y$ lineal. Equivalen:

 - $T$ abierta sobre $TX$.
 - $\exists r>0:\quad TX \cap rB_Y \subset TB_X$.
 - $\exists\alpha>0: \forall y\in TX: \exists x\in X: 
  \quad \|x\| \leq \alpha\|y\|$, cumpliendo $Tx = y$.

**** Demostración
Aplicando la caracterización anterior a $TX$ tenemos que
equivalen el primer y segundo apartado.

Por el apartado 2, tengo que dado un $y$, $y\frac{\delta}{\|y\|} \in \delta B_Y$.
Por tanto, $\exists x: Tx = y \frac{\delta}{\|y\|}$. Tomamos $x' = x \frac{\|y\|}{\delta}$, y tenemos
que $T(x') = y$, y además que $\|x'\| = \|x\|\frac{\|y\|}{\delta} \leq \frac{\|y\|}{\delta}$.

*** Descomposición canónica: proyección al cociente
Sea $X$ un espacio normado, $M$ subespacio cerrado y $\pi$ la proyección.
Entonces $\pi \in L(X,X/M)$ es sobreyectiva y abierta, con $\|\pi\| = 1$ cuando
$M \neq X$.

**** Demostración
***** Es continua
Por caracterización de [[*Operadores lineales continuos][operadores lineales continuos]]:

\[ \|\pi(x)\| = \|x+M\| \leq \|x\|\]

***** Tiene norma unidad
Para ver que tiene norma 1, tomamos $x_0 \notin M$.

\[\forall m \in M: \|x+M\| = \|\pi(x+m)\| \leq \|\pi\|\|x+m\|\]

En particular,

\[ \|x+M\| \leq \|\pi\| \inf\{\|x+m\|\} = \|\pi\|\|x+M\| \]

***** Sobreyectiva y abierta
Trivialmente es sobreyectiva. Usamos la caracterización de 
[[*Caracterización de operadores abiertos][operadores abiertos]], comprobando que:

\[\pi^{-1}(B(r,0)) = \{x \in X \mid \|x+m\| < r\} = \bigcup_{m \in M} B(r,m)\]

Por tanto, $B(r,0) \subseteq \pi(B(1,0))$ es un entorno de $0$ por contener un 
abierto.

*** Descomposición canónica: isomorfismo
Sea $T: X\longrightarrow Y$ lineal con $\ker(T)$ cerrado. Se define:

\[\begin{tikzcd}
X \rar[two heads]{\pi} & X/\ker T \rar{\widehat T}[swap]{\cong} & \im T \rar[hook]{i} & Y
\end{tikzcd}\]

Y se tiene:

  - $\hat{T}$ continua ssi $T$ continua. En cuyo caso $\|T\| = \|\hat{T}\|$.
  - $T$ abierta en $TX$ ssi $\hat{T}$ abierta en $TX$.

**** TODO Demostración
** Teorema de Tychonoff. Dimensión finita
*** Lema a Tychonoff
Toda aplicación lineal desde $\ell_2^n$ es continua.

**** Demostración
Comprobamos que está acotada. Dada una base finita y las coordenadas
sobre ella:

\[
\|Tx\|
=
\left\|\sum_{k=1}^n T(e_k)x_k \right\| 
\leq 
\sum_{k=1}^n |x_k| \|T(e_k)\|
\leq
\|x\| \sum_{k=1}^n \|T(e_k)\|
\]

*** Teorema de Tychonoff
Sea $X$ espacio normado. Toda biyección lineal de $\ell^n_2$ sobre $X$ es 
isomorfismo topológico.

**** Demostración
Por el lema es continua. La esfera de $\ell^n_2$ es compacta; y podemos 
aplicar la caracterización de aplicaciones abiertas anterior.

*** Corolarios al teorema de Tychonoff
Se cumple que:

  1. $T:X\longrightarrow Y$ lineal con $dim(X) < \infty$ nos da $T$ lipschiztiana.
  2. Dos espacios de dimensión finita son isomorfos ssi tienen igual
     dimensión.
  3. En un espacio de dimensión finita, todas las normas son
     equivalentes.
  4. Todo espacio de dimensión finita es Banach.
  5. Todo subespacio de dimensión finita de espacio normado es cerrado.
  6. Un subconjunto de un espacio normado de dimensión finita es
     compacto ssi es cerrado y acotado.

**** Demostración
***** Punto 1
Tenemos $X \cong \ell^n_2 \longrightarrow Y$, [[*Lema a Tychonoff][continua]].

***** TODO Punto 2

*** Dual topológico en dimensión finita
Sea $X$ normado de dimensión finita, su *dual topológico* es:

\[X^\ast =
\left\{ f:X \longrightarrow \mathbb{K} \mid
f \text{ lineal } \right\}\]

**** Demostración
Toda lineal es continua si sale de dimensión finita.

*** Compacidad relativa y precompacidad
Llamamos $A$ *relativamente compacto* cuando $\overline{A}$ es compacto.
Llamamos $A$ *precompacto* cuando, dado un $\varepsilon$, existen $x_1,\dots,x_n$:

\[ A \subset \bigcup_{k=1}^n B(x_n,\varepsilon) \]

**** Cadena de implicaciones
Compacidad implica compacidad relativa, que a su vez implica
precompacidad, que implica acotación.

**** Corolario de Tychonoff de compacidad
En un espacio normado de dimensión finita, un subconjuto es
relativamente compacto ssi es acotado y ssi es precompacto.

*** Corolario de caracterización de continuas
Sea $T : X \longrightarrow Y$ lineal con $TX$ de dimensión finita.
Equivalen:

  1. $T$ es continua.
  2. $\ker T$ cerrado en $X$.

**** Demostración
Cuando $\ker T$ es [[*Descomposición canónica: isomorfismo][cerrado]], $X/\ker T \cong TX$ dimensión finita. $\widehat T$ será
continua.

*** Corolario de caracterización de abiertas
Sea $T : X \longrightarrow Y$ lineal con $X$ de dimensión finita.
Equivalen:

  1. $T$ es abierta.
  2. $T$ es sobreyectiva.

**** Demostración
***** Primera implicación
$TX$ sería abierto y [[*Corolarios al teorema de Tychonoff][cerrado]] a la vez.

***** Segunda implicación
$T$ es continua, luego $\ker T$ [[*Corolario de caracterización de continuas][cerrado]]. $\widehat T : X/\ker T \cong Y$ biyección lineal,
que es por tanto isomorfismo topológico y abierta.

*** Corolario de caracterización de la dimensión finita.
Equivalen:

  1. Todo cerrado y acotado es compacto.
  2. Bola unidad compacta.

** Teorema de Riesz
*** Lema al teorema de Riesz
Sea $X$ espacio normado con $M$ subespacio propio cerrado. Si
$\varepsilon \in (0,1)$, existe $x \in \mathbb{S}_X$ tal que:

\[ \|x+M\| = d(x,M) > 1-\varepsilon \]

**** Demostración
Sea $x_0 \notin X-M$. Por ser $M$ cerrado $d(x_0,M)>0$. Por ser
el ínfimo, tengo que existe $m_0$ tal que:

\[\frac{1}{1-\varepsilon}\| x_0 - M\| > \| x_0-m_0 \| \]

Por tanto, tomando $x = \frac{x_0-m_0}{\|x_0-m_0\|} \in \mathbb{S}_X$, tenemos:

\[ \| x + M \| 
=  \left\| \frac{x_0-m_0}{\|x_0-m_0\|} + M \right\|
= \frac{\|x_0-M\|}{\|x_0-m_0\|} > 0\]

*** Teorema de Riesz
Son equivalentes:

1. $X$ de dimensión finita.
2. $X$ es localmente compacto.
3. $B_X$ es compacta.
4. $B_X$ es [[*Compacidad relativa y precompacidad][precompacta]].

**** Demostración
1. Cuando la dimensión es finita, $X \cong \mathbb{K}^n$, que es localmente
   compacto.
2. Sea $U$ entorno compacto de $0$, $\exists r>0: \overline{B}(0,r) \subset U$. Por ser un cerrado
   en compacto, es compacto. Por homeomorfismo, lo es $B_X$.
3. Compacidad implica precompacidad.
4. Por ser $B_X$ precompacta,

   \[B_X \subseteq \bigcup B\left(x_i,\frac{1}{2}\right)\]
   
   Como $M = \langle x_1,x_2,\dots,x_k \rangle$ es de dimensión finita, es un subespacio 
   cerrado y propio en $X$. Por el lema de Riesz, existe $x_0 \in \mathbb{S}_X$ 
   tal que:

   \[ \|x_0 - x_i\| \leq d(x_0,M) > \frac{1}{2} \]
   
   Teniendo entonces $x \notin \bigcup B(x_i,\frac{1}{2})$, que nos lleva a 
   contradicción.

* 2. Principios fundamentales del análisis funcional
** Teorema de Hahn-Banach
*** Versión analítica de Hahn-Banach
Sea $M \subseteq X$ subespacio con $p$ sublineal y $g : M \longrightarrow \mathbb{K}$ lineal 
verificando:

\[Re(g(m)) \leq p(m)\]

Entonces existe $f : X \longrightarrow \mathbb{K}$ lineal extendiéndolo y verificando:

\[Re(f(x)) \leq p(x)\]

Cuando $p$ es [[*Seminorma][seminorma]], se tiene además que $|f(x)|\leq p(x)$.

**** Demostración
***** Primera extensión en los reales
En un primer caso, sea $\mathbb{K} = \mathbb{R}$. Podemos tomar $x_0 \notin X-M$, 
crear $Y = M\oplus x_0\mathbb{R}$ y extender como:

\[ f(m + \lambda x_0) = g(m) + \lambda\alpha\]

***** Elegir el coeficiente de la extensión
Nos falta elegir el $\alpha$. Sabemos que debe cumplir:

\[\alpha \leq \frac{1}{\lambda}\left( p(m+\lambda x_0) - g(m) \right)\]

Tomando un $\lambda$ positivo y negativo llegamos a dos 
condiciones:

\[ g(v) - p(v-x_0) 
\leq \alpha 
\leq p(u+x_0) - g(u)\]

Y tenemos un $\alpha$ cumpliendo esta condición por ser 
equivalente a:

\[ g(u+v) \leq p(u+v) \leq p(u+x_0) + p(v-x_0)\]

Y lo sacamos partiendo la desigualdad, minimizando
y maximizando cada lado de la desigualdad, y dando
la vuelta a todas las desigualdades:

\[ g(u) - p(v-x_0) \leq \alpha \leq p(u+x_0) - g(u)\]

***** Lema de Zorn
Puedo ordenar las extensiones por inclusión, teniendo
además que una cadena de extensiones tiene por maximal a
la unión de todos los espacios, con la función definida
por el primer conjunto en el que aparece el primer elemento.

Si $Y \neq X$ fuera el maximal, podría añadir $x_0 \in X-Y$ y
contravenir la maximalidad de $Y$ extendiendo una dimensión.

***** Caso complejo
Como todo espacio sobre los complejos lo es sobre los reales,
aplicamos el caso real a $g_0 = Re(g)$, y obtenemos $f_0$ cumpliéndolo
y siendo lineal en los reales.

Creo $f$ siendo lineal en los complejos como:

\[f(x) = f_0(x) - if_0(xi)\]

Que cumple las condiciones

***** Caso de la seminorma
Cuando $p$ es seminorma tengo, para $|\alpha|=1$ dando el giro
apropiado:

\[f(\alpha x) = |f(x)| = Re(f(\alpha x)) \leq p(\alpha x) = p(x)\]

*** Extensión equinórmica de Hahn-Banach
Sea $M \subseteq X$ subespacio vectorial, con $g \in M^\ast$. 
Existe $f\in X^\ast$ tal que $f|_M = g$ y $\|f\| = \|g\|$.

**** Demostración
Sea $p(x) = \|g\|\|x\|$, es una seminorma y cumple $Re(g(m)) \leq p(x)$.
Por *Hahn-Banach*, tenemos una extensión $f$, cumpliendo $\|f\| \geq \|g\|$
por ser extensión y:

\[ \|f\| 
= \sup\left\{ \frac{|f(x)|}{\|x\|} \mid x\in X-\{0\}\right\} 
\leq \|g\|\]

*** Separación en el dual topológico
Sea $x_0 \in X$, entonces existe $f \in \mathbb{S}_{X^\ast}$, tal que $f(x_0) = \|x_0\|$.
En consecuencia:

 1. Si $x \neq y$, existe $f \in X^\ast: f(x) \neq f(y)$.
 2. $\forall x \in X: \|x\| = max_{f \in B_{X^\ast}} \{ |f(x)| \}$

**** Demostración
Podemos aplicar Hahn-Banach a $g : x_0\mathbb{K} \longrightarrow \mathbb{K}$ con $g(\lambda x_0) = \lambda \|x_0\|$,
para obtener una extensión de norma $1$.

**** Corolario 1
Aplicamos el resultado para $f(x-y) = \|x-y\| = 0$.

**** Corolario 2
Tenemos $|f(x)| \leq \|x\|$. El mínimo se alcanza en un $f$ dado por
la proposición.

*** Corolario para subespacios finitos
Sea $X$ un espacio normado $\{x_1,\dots,x_n\} \subseteq X$ linealmente independientes
y $\alpha_1,\dots,\alpha_n \in \mathbb{K}$, entonces existe $f \in X^\ast$ tal que $f(x_i) = \alpha_i$.

**** Demostración
Puedo crear una función lineal, sobre $\langle x_1,\dots,x_n \rangle$ que lo cumpla.
Por venir de dimensión finita será continua, así que podemos
aplicar Hahn-Banach para obtener una extensión.

*** Corolario: L(X,Y) es Banach ssi Y es Banach
El espacio $L(X,Y)$ con la norma de operadores es Banach ssi
el espacio $Y$ es Banach.

**** Demostración
***** Primera implicación
[[*Cuatro teoremas sobre la norma de operadores][Cuatro teoremas sobre la norma de operadores]]

***** Segunda implicación
[[http://math.stackexchange.com/questions/1023681/y-is-a-banach-space-if-bx-y-is-a-banach-space][Y is a Banach space if B(X,Y) is a Banach spacea]]

** Inyección canónica e isometrías
*** Inyección canónica
Se define $J_X(x_0) : X^\ast \longrightarrow \mathbb{K}$ como:

\[J_X(x_0)(f) = f(x_0)\]

**** La inyección es isométrica
Se verifica:

  1. $\forall x \in S_X: J_X(x)$ es lineal y de módulo $1$.
  2. $J_X : X \longrightarrow X^{\ast\ast}$ es isométrica y lineal.

***** TODO Demostración
*** Completación de un espacio
$X^\ast$ es completo para cualquier espacio normado $X$. Cuando $X$ no es 
completo, $J_X$ no es sobreyectivo y podemos completarlo como:

\[ X \subset \overline{J_X(X)} \]

Que lo será por ser cerrado en $X^{\ast\ast}$, que sí es completo.

*** Polar de un subespacio
Dado $M \subset X$, el *polar* de $M$ se define como:

\[M^0 = \left\{ f\in X^\ast \mid f(M) = \{0\} \right\}\]

**** Definición equivalente
Para la restricción $S : X^\ast \longrightarrow M^\ast$, $M^0 = \ker S$.

*** Primer teorema de isometría
Sea $M \subseteq X$ subespacio, \[\cdot|_M : {X^\ast}/{M^0} \longrightarrow M^\ast \] es biyección lineal 
isométrica.

**** Demostración
Tenemos $\|f|_M\| \leq \|f+M^0\|$, y hay igualdad por extensión 
equinórmica.

*** Segundo teorema de isometría
Sea $M\subseteq X$ subespacio vectorial cerrado. Para $\pi_{X/M}$ proyección, 
$\_ \circ \pi : (X/M)^\ast \longrightarrow M^0$ es una biyección lineal isométrica.

**** Demostración
Claramente es lineal. Tenemos que es lipschitziana por:

\[ \|T(f)\| = \| f \circ \pi \| \leq \|f\|\|\pi\| = \|f\| \]

Y por otro lado,

\[ \|T(f)\|\|x+m\| \geq 
\|T(f)(x+m)\| = 
\|f(x+M)\|\]

Por tanto, $\|T(f)\| \geq \|f\|$.

*** Función de aproximación
Sea $M \subseteq X$ subespacio con $x_0 \in X-\overline{M}$. Existe $f\in X^\ast$ con $\|f\|=1$,
tal que $f \in M^0$ y $f(x_0) = d(x_0,\overline{M}) = d(x_0,M)$.

**** Demostración
Como $\overline{M}$ es subespacio cerrado, tenemos $g \in (X/M)^\ast$ con $\|g\|=1$ y
$g(x_0+\overline{M}) = \|x_0+\overline{M}\|$. Entonces $T(g) \in \overline{M}^0$ y $T(g)(x) = g(x+\overline{M})$.
Tenemos $\|T(g)\|= \|g\|=1$ y $f(x_0) = g(x_0+\overline{M}) = \|x_0+\overline{M}\|$.

*** Clausura desde el polar
Sea $M \subseteq X$ subespacio. Entonces:

\[ \overline{M} = \bigcap_{f \in M^0} \ker(f)\]

*** Distancia a un kernel
Sea $X$ espacio normado, $f \in X^\ast - \{0\}$ y $x_0 \in X$. Entonces,

\[d(x_0,\ker(f)) = \frac{|f(x_0)|}{\|f\|}\]

**** Demostración
Por el [[*Función de aproximación][teorema de aproximación]] con $M = \ker(f)$, tenemos una $g$ con
$\|g\| = 1$ tal que $g(x_0) = d(x_0,M)$; tenemos $\ker(f) \subseteq \ker(g)$.

\[\exists u\in X: f(u)=1\]. Para $x\in X$, tenemos $x -f(x)u \in \ker(f)$ y entonces:

\[ 0 = g(x-f(x)u) = g(x) - f(x)g(u)\]

Aplicando esto en $x_0$ tenemos $g(x_0) = g(u)f(x_0)$, que tomando módulos,
nos da $\|g\| = \|f\| |g(u)|$.

** Funcional de Minkowski
*** Funcional de Minkowski
Se define $p_U : X \longrightarrow \mathbb{R}^+$ para $U$ entorno de $0$ como:

\[ p_U(x) = \inf\{ \lambda \in \mathbb{R}^+_0 \mid x \in \lambda U\} \]

**** Sublinealidad
Para $U$ convexo, $p_U$ es sublineal.

*** Separación de un punto
Sea $U$ entorno de $0$ convexo con $x_0 \notin U$, existe $f \in X^\ast$ tal que 
$Re(f(x)) \leq 1$ para todo $x \in U$; mientras $Re(f(x_0)) \geq 1$.

Se cumple además:

\[ \{x \in X \mid p_U(x)<1\} \subset
U \subset
\{ x \in X \mid p_U(x) \leq 1\}\]

**** Demostración
Tomamos $g : x_0\mathbb{R} \longrightarrow \mathbb{R}$ definido por $g(\alpha x_0) = \alpha p_U(x_0)$.
Aplicamos [[*Versión analítica de Hahn-Banach][Hahn-Banach]] sobre $x_0\mathbb{R}$ y tenemos un $f$ extensión de $g$
verificando que $f(x_0) = p_U(x_0) \geq 1$, y que para $x \in U$ se tiene 
$f(x) \leq p_U(x) \leq 1$.

Ahora para el caso complejo, tenemos $f_0$ lineal y continuo
cumpliendo que $f_0(x_0)\geq 1$, pero $f_0(x) \leq 1$ para todo $x \in U$.
Definimos $f(x) = f_0(x) - if_0(ix)$, y entonces es lineal en los
complejos cumpliendo lo pedido.

*** Separación de convexos (para un abierto)
Sean $A,B \subset X$ convexos con $A \cap B = \varnothing$ con $A$ abierto. Existe $f \in X^\ast$ 
con $\alpha \in \mathbb{R}$ tal que:

\[ Re(f(a)) < \alpha \leq Re(f(b)) \quad \forall a \in A, b \in B\]

*** Existencia de funcionales de soporte
Sea $X$ normado, $A \subset X$ convexo cerrado con $\mathring{A} \neq \varnothing$. Para cada 
$x_0 \in Fr(A)$; existe $f \in X^\ast$ tal que:

  - $\|f\| = 1$
  - $Re(f(x_0)) = \max\{Re(f(x)) \mid x \in A\}$

**** TODO Demostración

*** Separación de convexos (para un compacto)
Sean $A,B \subset X$ convexos con $A \cap B = \varnothing$ con $A$ compacto y 
$B$ cerrado. Existe $f \in X^\ast$ con $\alpha \in \mathbb{R}$ tal que:

\[ Re(f(a)) < \alpha < Re(f(b)) \quad \forall a \in A, b \in B\]

**** TODO Demostración

** Lema de categoría de Baire
*** Teorema de Baire
Sea $E$ espacio métrico completo y $G_n \subset E$ abiertos densos.
$\bigcap_{n \in \mathbb{N}} G_n$ es denso.

**** Demostración
Empezando con un abierto $G$ y con $G_1$, puedo a cada paso tomar el 
abierto anterior, tomar un abierto dentro de él como 
$\overline{B}(a_i,r_i) \subset G_i \cap B(a_{i-1},r_{i-1})$, y construir una sucesión $\overline{B}(a_n,r_n)$.

Esta sucesión podemos tomarla para que cumpla $\{r_n\} \to 0$. Desde
aquí tenemos que converge $\{a_n\} \to a \in \bigcap \overline{B}(a_n,r_n) \cap G$ por ser de 
Cauchy.

*** Corolario al teorema de Baire
Sea $E$ espacio métrico completo y $F_n \subset E$ cerrados con:

\[E = \bigcup_{n \in \mathbb{N}} F_n\]

Entonces, $\exists n \in \mathbb{N}$ tal que $\mathring{F}_N \neq \varnothing$.

**** Demostración
Aplicando el teorema de Baire en sus complementos.

*** Dimensión en espacios de Banach
Todo espacio de Banach tiene dimensión finita o no numerable.

**** Demostración
Si fuera $X$ espacio de Banach con base numerable, cualquier
subespacio de dimensión finita sería cerrado, pero entonces,
tomando $F_n = \langle e_1,\dots,e_n \rangle$:

\[ X = \bigcup F_n \]

Luego para algún $n$, se tiene $\mathring{F_n} \neq \varnothing$; así que debe ser 
$X=F_n$.

** Teorema de la aplicación abierta
*** Teorema de la aplicación abierta
Sean $X,Y$ Banach con $T \in L(X,Y)$ sobreyectiva. 
Entonces $T$ epimorfismo topológico (abierta).

**** Demostración
***** La imagen de bola tiene interior no vacío
Como $X = \bigcup_{n \in \mathbb{N}} n B_X$, tenemos que:

\[ Y 
= T\left(\bigcup_{n \in \mathbb{N}} n B_X \right)
= \bigcup_{n \in \mathbb{N}} n T(B_X) 
\subseteq \bigcup_{n \in \mathbb{N}} \overline{n T(B_X)}
= Y
\]

Aplicando corolario a Baire, $\exists N: \mathring{\overline{NT(B_X)}} \neq \varnothing$, luego
$\mathring{\overline{T(B_X)}} \neq \varnothing$. 

***** La imagen de la bola es entorno de 0
Sea ahora, $y_0 \in \mathring{\overline{T(B_X)}}$, se tendrá que:

\[ 0 \in \mathring{\overline{T(B_X)}} - y_0
\subset \overline{T(B_X)} - \overline{T(B_X)}
\subset 2\overline{T(B_X)}\]

Siendo por tanto $\overline{T(B_X)}$ un entorno de 0.

***** Acotación de la bola
Tenemos $\exists\delta > 0: \delta B_Y \subset \overline{T(B_X)}$, y en general:

\[ \forall n \in \mathbb{N}: \frac{\delta}{2^n}B_Y \subseteq \overline{T\left(\frac{1}{2^n}B_X\right)}\]

***** Sucesión
Tomamos $x_0 = 0$, $y \in \overline{T(\frac{1}{2}B_X)}$, y construimos sabiendo:

\[ y - T(x_i) \in
\frac{\delta}{2^i} B_Y \subseteq
T\left(\frac{1}{2^i} B_X\right)\]

Luego existe un $x_{i+1}$ verificando $\|x_{i+1}\|\leq \frac{1}{2^{i+1}}$ y que:

\[ \left\| y - \sum_{k=1}^{i+1} T(x_k) \right\| < \frac{\delta}{2^{i+2}} \]

***** La suma converge
Definimos la suma de la sucesión:

\[ S_n = \sum_{k=1}^n x_k \in X\]

Es de Cauchy por ser convergente $\sum_{n=1}^\infty \frac{1}{2^n}$. Por complitud,
converge, $S_n \to x$, con:

\[ \|S_n\| \leq \sum \|x_k\| \leq \sum \frac{1}{2^n} = 1 \]

Luego $\|x\| \leq 1$, $x \in B_X$. Como además se tiene:

\[\| y - T(S_n) \| \leq  
\|y - \sum T(x_k) \| < 
\frac{\delta}{2^{n+1}} \]

Tenemos $\lim\{T(S_n)\} = T(x)$ y concluimos $y \in T(B_X)$.

***** Conclusión
Hemos probado $\overline{T(\frac{1}{2} B_X)} \subseteq T(B_X)$, y finalmente,

\[ \frac{\delta}{2} B_Y \subset \overline{T\left(\frac{1}{2} B_X\right)} \subset T(B_X)\]

Así que $T(B_X)$ es un entorno de $0$ y $T$ es abierta.

*** Teorema de los isomorfismos de Banach
Sean $X,Y$ Banach con $T \in L(X,Y)$ biyectiva.
Entonces $T$ es isomorfismo topológico.

**** Demostración
Por [[*Teorema de la aplicación abierta][teorema de la aplicación abierta]] $T$ y $T^{-1}$ son abiertas;
luego $T^{-1}$ y $T$ son continuas.

*** Teorema del homomorfismo de Banach
Sean $X,Y$ espacios de Banach con $T \in L(X,Y)$. Será homomorfismo 
topológico ssi $TX$ es cerrado en $Y$.

**** TODO Demostración
*** Equivalencia de normas en espacios de Banach
Sean $\|\cdot\|_1, \|\cdot\|_2$ dos normas en un espacio de Banach. Si cumplen que:

\[\exists M>0 : \|x\|_1 \leq M \|x\|_2\]

Entonces son equivalentes.

**** Demostración
Sea $T(x)=x$ biyección lineal entre las dos normas. Es lipschitziana
por la condición. Por el [[*Teorema de los isomorfismos de Banach][teorema de los isomorfismos de Banach]], es 
isomorfismo topológico.

** Teorema de la gráfica cerrada
*** Gráfica de una función
La *gráfica* de una función $f$ se define como:

\[ Graf(f) = 
\{(x,f(x)) \mid x \in A\} \subseteq
A \times B\]

Una $T$ es lineal ssi $Graf(T)$ es subespacio vectorial, y
cuando $f$ es continua en Hausdorff, $Graf(f)$ es cerrada.

*** Teorema de la gráfica cerrada
Sean $X,Y$ Banach con $T : X \longrightarrow Y$ lineal. Si la gráfica 
de $T$ es cerrada, $T$ es continua.

**** Demostración
Si tomamos $\|x+y\| = \|x\|+\|y\|$, que genera la topología
producto en $X \times Y$, tenemos un Banach. Como $T$ es lineal,
$G(T)$ es subespacio lineal de $X \times Y$, y como $G(T)$ es cerrado,
es de Banach con la norma inducida.

Sea $\Phi : GT \longrightarrow X$ definida por:

\[ \Phi(x,Tx) = x\]

Como $\Phi$ es lineal, su restricción es continua, lineal y biyectiva.
Por [[*Teorema de los isomorfismos de Banach][teorema de isomorfismo de Banach]], $\Phi^{-1}$ es continua; y entonces
$T = \pi_2 \circ \Phi^{-1}$ es continua.

*** Caracterización de la gráfica cerrada en espacios normados
Sean $X,Y$ normados con $T: X \longrightarrow Y$ lineal. Equivalen:

- $T$ con gráfica cerrada.
- Si $\{x_n\} \longrightarrow 0$ y $\{Tx_n\}\longrightarrow y$; entonces $y=0$. Cuasicontinuidad en 0.

**** TODO Demostración

** Teorema de Banach-Steinhaus
*** Teorema de Banach-Steinhaus para funcionales
Sea ${\cal A} \subset L(X,Y)$ para $X$ de Banach e $Y$ normado; una familia de 
operadores acotada puntualmente:

\[ \forall x : \exists M(x): \forall T \in A: \quad \|T(x)\| \leq M(x)\]

Entonces está acotada:

\[\exists M : \forall T \in A: \quad \|T\| \leq M \]

**** Demostración
Tomamos $F_n$ como intersección de conjuntos que son cerrados
por la continuidad de $T$:

\[F_n = \bigcap_{T \in {\cal A}} \{ x \in X \mid \|Tx\| \leq n\}\]

Como está acotada puntualmente, $\bigcup F_n = X$; así que aplicamos
el [[*Corolario al teorema de Baire][corolario a Baire]] para tener un $\mathring{F_N} \neq \varnothing$. Eso quiere decir
que $\exists a: \exists r: a + rB_X \subseteq F_n$. Para $T \in {\cal A}$ se tiene:

\[\begin{aligned}
\|Tx\| =& \frac{1}{r} \| T(a+rx) - Ta\| \\
\leq& \frac{1}{r} (\| T(a+rx) \| + \|Ta\|) \\
\leq& \frac{N}{r} + \|Ta\|\frac{1}{r} \\ 
\leq& \frac{N}{r} + M(a)\frac{1}{r}
\end{aligned}\]

Acotación independiente de $X$.

*** Teorema del cierre de Steinhaus
Sea $X$ de Banach, $Y$ normado, y una sucesión $\{T_n\} \in L(X,Y)$ 
convergiendo puntualmente. La convergencia puntual da un operador 
lineal y continuo:

\[ T(x) = \lim_{n \longrightarrow \infty} T_n(x) \in L(X,Y)\]

**** Demostración
La linealidad se tiene trivialmente:

\[ T(\alpha x_1 + \beta x_2) 
= \lim T_n (\alpha x_1 + \beta x_2)
= \alpha T(x_1) + \beta T(x_2) \]

Como $\{T_n\}$ es una familia acotada puntualmente por converger
puntualmente, se tiene por [[*Teorema de Banach-Steinhaus para funcionales][Banach-Steinhaus]] que está acotada.

Entonces para $x \in B_X$, tenemos $\|T_n(x)\| \leq M$, así que:

\[ \|\lim T_n(x)\| =
\lim \|T_n(x)\| \leq M\]

Luego $\|T(x)\| \leq M$, y por estar acotada en la bola unidad
y ser lineal, $T$ es continua.

*** Corolario a Banach-Steinhaus para el dual
Sea $X$ espacio de Banach y $A \subseteq X^\ast$, equivalen:

1. $A$ acotado, $\exists M>0: \forall f \in A: \|f\| \leq M$
2. $A$ puntualmente acotado, $\forall x\in X: \{f(x) \mid f \in A\}$ acotado.

**** Demostración
Por [[*Teorema de Banach-Steinhaus para funcionales][teorema Banach-Steinhaus]] con $X^\ast = L(X,\mathbb{K})$ se tiene
la segunda implicación. La primera se tiene simplemente por
tenerse:

\[ \|f(x)\| \leq \|f\|\|x\| \leq M \|x\| \]

*** Corolario a Banach-Steinhaus para el doble dual
Sea $X$ espacio normado con $A \subseteq X$. Equivalen:

1. $A$ acotado.
2. $\{ f(x) \mid x \in A\}$ acotado para cualquier $f \in X^\ast$.

**** Demostración
Sabemos $J_X$ isometría, luego $J_X(A)$ está acotado. Como 
la acotación equivale a la acotación puntual, para cualquier
punto del espacio $f \in X^\ast$ se tiene acotado:

\[ \{J_X(x)(f) \mid x \in A \} \]

* 3. Espacios de Hilbert I
** Espacios prehilbertianos
*** Producto escalar
Sea $H$ un K-espacio vectorial. Un producto escalar es: $\langle \cdot,\cdot\rangle : H \times H \longrightarrow \mathbb{K}$
cumpliendo:

  1. $\langle \alpha u + \beta v, w\rangle = \alpha\langle u,w \rangle + \beta\langle v,w \rangle$, lineal en la primera variable.
  2. $\langle u,\alpha v + \beta w\rangle = \overline{\alpha}\langle u,v\rangle + \overline{\beta}\langle u,w\rangle$, conjugadalineal en la segunda variable.
  3. $\langle u,v \rangle = \overline{\langle v,u \rangle}$, hermítica.
  4. $\langle u,u \rangle \geq 0$, definida positiva.
  5. $\langle u,u \rangle = 0$ ssi $u=0$, no nula.

**** Observaciones
Cuando $\mathbb{K}=\mathbb{R}$, 3 es conmutatividad; cuando $\mathbb{K}=\mathbb{C}$, implica que 4 está 
bien definido por ser $\langle u,u \rangle$ real.

*** Espacio prehilbertiano
Llamamos espacio prehilbertiano a un espacio vectorial dotado de un 
producto escalar.

*** Ejemplos de espacios prehilbertianos
**** Espacio euclídeo complejo
Para el espacio $\mathbb{C}^n$:

\[\langle (x_1,\dots,x_n), (y_1,\dots,y_n) \rangle =
\sum_{i=0}^n x_i\overline{y_i} \]

**** Espacio de sucesiones
Para el espacio $\ell^2$, de sucesiones de cuadrado sumable:

\[\langle \{x_i\},\{y_i\} \rangle = \sum^\infty_{n=0} x_n\overline{y_n}\]

Nótese que es sumable por tenerse $2|x_n||y_n| \leq |x_n|^2+|y_n|^2$.

**** Espacio de funciones continuas
Para ${\cal C}([0,1],\mathbb{K})$ funciones continuas:

\[
\langle f,g \rangle = \int_{[0,1]} f\overline{g}
\]

**** Espacio de funciones de cuadrado integrable
Para funciones de cuadrado integrable $L^2(\mu)$, tenemos:

\[\langle f,g \rangle = \int_\Omega f\overline{g} \;d\mu\]

Donde por Hölder tenemos la integrabilidad:

\[
\int_\Omega |f\overline{g}| \;d\mu \leq
\sqrt{
\int_\Omega |f|^2 d\mu
}
\sqrt{
\int_\Omega |g|^2 d\mu
}
\]

*** Desigualdad de Cauchy-Schwarz
Para $H$ prehilbertiano, si notamos $\|u\| = \sqrt{\langle u,u \rangle}$,

\[ |\langle u,v \rangle| \leq \|u\|\|v\|
\]

Con caso de igualdad $u = v$.

**** Demostración
Elevando al cuadrado los dos números positivos:

\[\begin{aligned}
0 
&\leq 
\|u\|^2\|v\|^2 - 2|\langle u,v \rangle|^2  + |\langle u,v \rangle|^2
\\ 0 &\leq
\|v\|^2 - \frac{2|\langle u,v \rangle|^2}{\|u\|^2}  + \frac{|\langle u,v \rangle|^2}{\|u\|^2}
\\ 0 &\leq
\left\langle 
\frac{\overline{\langle u,v \rangle}}{\|u\|^2}u + v,
\frac{\overline{\langle u,v \rangle}}{\|u\|^2}u + v
\right\rangle
\end{aligned}\]

*** Desigualdad de Minkowski
Para $H$ prehilbertiano, si notamos $\|u\| = \sqrt{\langle u,u \rangle}$,

\[
\| u + v \| \leq \|u\| + \|v\|
\]

**** Demostración
Desarrollando llegamos a $\langle u,v \rangle + \langle v,u \rangle \leq 2\|u\|\|v\|$, que es cierto por:

\[
\langle u,v \rangle + \langle v,u \rangle \leq
2Re(\langle u,v \rangle) \leq 
2|\langle u,v \rangle| \leq
2 \|u\|\|v\|
\]

Aplicando Cauchy-Schwarz en la última desigualdad.

*** Espacio prehilbertiano es normado
Todo espacio prehilbertiano es normado con norma:

\[
\| u \| = \sqrt{\langle u,u \rangle}
\]

**** Cumple propiedades de la norma
Tenemos trivialmente:

  1. $\|u\| = 0 \iff u =0$
  2. $\|\alpha u\| = |\alpha| \|u\|$
  3. $\|u+v\| \leq \|u\|+\|v\|$

Donde la última se deduce de la desigualdad de Minkowski.

*** El producto escalar es continuo
En un espacio prehilbertiano:

\[\{u_n\} \longrightarrow u, \{v_n\} \longrightarrow v 
\implies
\{ \langle u_n, v_n \rangle\} \longrightarrow \langle u,v \rangle\]

**** Demostración
Se tiene:

\[\begin{aligned} |\langle u_n,v_n \rangle - \langle u,v \rangle| 
&\leq |\langle u_n-u,v \rangle| + |\langle u,v_n-v \rangle| \\
&\leq \|u_n-u\|\|v\| + \|u\|\|v_n-v\| \longrightarrow 0
\end{aligned}\]

** Identidades de polarización
*** Identidades de polarización
Sea $H$ prehilbertiano:

  1. $\langle u,v \rangle = \frac{1}{4}\left( \|u+v\|^2 - \|u-v\|^2 \right)$, cuando $\mathbb{K} = \mathbb{R}$.
  2. $\langle u,v \rangle = \frac{1}{4}\left( \|u+v\|^2 - \|u-v\|^2 \right) + \frac{i}{4}\left( \|u+iv\|^2 - \|u-iv\|^2 \right)$, cuando $\mathbb{K} = \mathbb{C}$.

**** Demostración
La segunda es trivial calculando y la primera es un caso particular.

*** Identidad del paralelogramo
Sea $H$ normado, es prehilbertiano ssi se verifica:

\[
\|u+v\|^2 + \|u-v\|^2 = 2\left( \|u\|^2 + \|v\|^2\right)
\]

Con el producto escalar dado por la [[*Identidades de polarización][identidad de polarización]]:

\[ \langle u,v\rangle = 
\frac{1}{4}\left(\|u+v\|^2-\|u-v\|^2 \right) +
\frac{i}{4}\left(\|u+iv\|^2-\|u-iv\|^2 \right)
\]

**** Demostración
Cuando es prehilbertiano, se verifica la ecuación trivialmente.
Cuando se verifica la ecuación, podemos ver que la identidad de 
polarización nos da un producto escalar que es conjugadolineal,
hermítico, definido positivo y no nulo.

# ¿En cuál de estas comprobaciones se usa paralelogramo?
# Parecen largas de comprobar.

*** Ejemplos de normados prehilbertianos
**** Contraejemplo: funciones continuas con el máximo
El espacio ${\cal C}[0,1]$ con la norma del máximo no es prehilbertiano.
Hay un contraejemplo a la identidad del paralelogramo en $f(t) = 1$ y
$g(t) = t$.

**** Espacio de sucesiones de cuadrado sumable
El espacio $\ell_p$ es prehilbertiano ssi $p=2$, con:

\[\|x\| = \left(\sum_{i=1}^\infty |x_n|^2 \right)^{1/2}\]

***** Demostración
Se cumple que:

\[
\sum_{n=1}^k |a_n + b_n|^2 + \sum_{n=1}^k |a_n-b_n|^2
= 2\left(\sum_{n=1}^k |a_n|^2+|b_n|^2\right)
\]

Y tomando límites tenemos lo pedido.

** Espacios de Hilbert
*** Espacios de Hilbert
Un espacio prehibertiano completo es un espacio de Hilbert.
Equivalentemente, un espacio de Banach con norma asociada a un producto
escalar.

*** Hilbert de dimensión finita
Todo prehilbertiano de dimensión finita es Hilbert.

**** Demostración
Todo espacio normado de dimensión finita es de Banach.

*** Compleción de prehilbertianos
La completación de un espacio prehilbertiano es espacio de Hilbert.

**** Demostración
La [[*Completación de un espacio][completación]] restringida al espacio orginal tiene su norma. Y la
norma es [[*Continuidad de la norma, suma y producto][continua]]. Por tanto, será prehilbertiano al cumplir la
[[*Identidad del paralelogramo][identidad del paralelogramo]]:

\[
\lim_{n \to \infty} \|u_n+v_n\|^2 + \|u_n-v_n\|^2
=
2\left(\|\lim_{n \to \infty} u_n\|^2+\|\lim_{n \to \infty} v_n\|^2\right)
\]

** Ortogonalidad
*** Ley de los cosenos
La ley de los cosenos puede reinterpretarse como una definición del
ángulo para espacios distintos de $\mathbb{R}^2$.

\[
cos(\theta) = \frac{\langle u,v \rangle}{\|u\|\|v\|}
\]

*** Ortogonalidad
Dos vectores se dicen *ortogonales* $u \perp v$ cuando su producto escalar 
es nulo:

\[\langle u,v \rangle = 0\]

*** Espacio ortogonal
Para $H$ hilbertiano, $S \subseteq H$; definimos el ortogonal de $S$ como:

\[
S^\perp = \left\{
u \in H \mid \forall s \in S: u \perp s
\right\}
\]

*** Propiedades del espacio ortogonal
Para $0 \subset S \subset H$, tenemos:

  1. $0 \in S^\perp$.
  2. $S \cap S^\perp \subseteq \{0\}$.
  3. $\{0\}^\perp = H$, $H^\perp = \{0\}$.
  4. $S_1 \subseteq S_2 \implies S_1^\perp \supseteq S_2^\perp$.
  5. $S^\perp$ es subespacio vectorial cerrado.
  6. $S \subseteq S^{\perp\perp}$.
 
**** Demostración
Triviales. La quinta se tiene por núcleo de una función lineal y
continua.

*** Suma directa
Sea $X$ normado con $M,N$ subespacios. Se dice que hay suma directa
$X = M \oplus N$, cuando:

  1. $X = M + N$
  2. $M \cap N = \{0\}$

*** Suma directa topológica
Se dice que hay suma directa topológica cuando $M \oplus N$ cumplen que
$x_n = m_n + n_n$ respeta la convergencia $x = m + n$ con $m \in M, n \in N$.

**** Suma directa topológica en Banach
En un espacio de Banach, la suma directa es topológica cuando
ambos espacios $M,N$ son cerrados.

*** Lema de aproximación óptima
Sea $S$ un cerrado y convexo de $H$ prehilbertiano. Hay un sólo elemento
en el conjunto que realiza la mínima norma.

\[\exists! s_0 \in S:\quad \|s_0\| = \min\{\|s\| \mid s\in S\}\]

**** Demostración
***** Existencia
Sea $t$ el ínfimo. Por convexidad tenemos: $\|\frac{1}{2}(u+v)\| \geq t$. Dada una
sucesión $\{\|s_n\|\} \longrightarrow t$; vemos que es de Cauchy:

\[\begin{aligned}
\|s_n-s_m\|^2 &\leq \|s_n+s_m\|^2 + \|s_n-s_m\|^2 - 4t^2 \\&=
2(\|s_n\|^2 -t^2) + 2(\|s_m\|^2 - t^2) \longrightarrow 0
\]

Luego converge en el cerrado.

***** Unicidad
Si hubiese dos mínimos, se tendría:

\[
\|s+s'\|^2 + \|s-s'\|^2 = 2\left(\|s\|^2 + \|s'\|^2 \right) 
= 4t^2 \leq \|s+s'\|^2
\]

Por lo que $\|s-s'\| = 0$.

*** Teorema de la aproximación óptima
Sea $H$ Hilbert, $M \subseteq H$ subespacio cerrado y $u \in H$. Entonces, existe 
una única mejor aproximación a $M$, esto es:

\[\exists! \pi_M(u) \in M:\quad d(u, \pi_M(u)) = d(u,M) \]

**** Demostración
Aplicaremos el [[*Lema de aproximación óptima][lema de aproximación óptima]] a $u+M$. Tenemos que probar
que es convexo, y para ello:

\[\lambda (u+m) + (1-\lambda)(u+m') = u + m\lambda + m'(1-\lambda) \in u+M\]

Sea $s_0 \in u+M$ la mínima norma en $u+M$:

\[ \|s_0\| = \min\{\| u + m \| \mid m \in M\}\]

Tomamos $\pi_M(u) = u - s$, y tenemos:

\[ \| u - \pi_M(u)\| = \|s \| \leq \|u + m\|\]

La unicidad la da la unicidad en el lema de aproximación óptima.

** Proyecciones y proyección ortogonal
*** Proyecciones
Sea $H$ Hilbert y $p : H \longrightarrow H$ lineal. Se llama proyección cuando $p \circ p = p$.

*** Suma directa de una proyección
Sea $p:H \longrightarrow H$ proyección, entonces $H = \ker(p) \oplus \im(p)$.

**** Demostración
Para $h \in H$ tenemos la descomposición $p(h) + (h-p(h))$. Dado $p(g) \in \ker(p)$,
se tiene $p(g) = p(p(g)) = 0$.

*** Proyecciones ortogonales
Se dice proyección ortogonal a una proyección $p$ en la que $\ker(p) \perp \im(p)$.

*** Lemas al teorema de la proyección ortogonal
Sea $H$ Hilbert y $M$ subespacio cerrado. Entonces:

  1. $u-\pi_M(u) \in M^\perp$.
  2. $\pi_M(\alpha u) = \alpha \pi_M(u)$.
  3. $\pi_M(u + v) = \pi_M(u)+\pi_M(v)$.
  4. $\pi_M(\pi_M(u)) = \pi_M(u)$.

**** Demostración
***** Punto 1
Para cualquier $t \in \mathbb{R}$ y $m \in M$ tenemos:

\[
0 \leq 
\| u - \pi u + tm \| - \| u - \pi u \| \leq
2t\; Re \langle u-\pi u, m\rangle + t^2 \|m\|^2
\]

Pero para que esto sea cierto, debe ser $Re \langle u-\pi u, m \rangle = 0$.
Tomando $im$ se tiene la parte imaginaria también nula, luego
debe ser $\langle u-\pi u, m \rangle = 0$.

***** Punto 2
Tenemos:

\[
\| \alpha u - m \| 
= |\alpha| \left\|u - \frac{m}{\alpha}\right\| \geq |\alpha| \|u- \pi u\|
\]

Dándose la igualdad con $m = \alpha \pi u$.

***** Punto 3
La ortogonalidad del primer punto:

\[
\|u + v - m\| = 
\|(u -\pi u) + (v - \pi v) - \widetilde m\| =
\|u - \pi u+  v - \pi v \| + \|\widetilde m\|
\]

Para el mínimo debe tenerse $\widetilde m = 0$.

***** Punto 4
Usando de nuevo la ortogonalidad del primer punto:

\[
\pi_M(u) - \pi_M\pi_M(u) \in M^\perp \cap M = \{0\}
\]

*** Teorema de la proyección ortogonal
Para $H$ Hilbert y $M$ subespacio cerrado:

  1. $H = M \oplus M^\perp$.
  2. La proyección a $M$ es la aproximación óptima.
  3. $\|u\|^2 = \|\pi_M(u)\|^2 + \| u - \pi_M(u) \|^2$.

Análogamente, $\pi_{M^\perp}$ da la aproximación óptima a $M^\perp$.

**** Demostración
Por el [[*Lemas al teorema de la proyección ortogonal][lema]] sabemos que $\pi_M$ es una proyección. Como además tiene 
$\ker(\pi_M) = M^\perp$ e $\im(\pi_M) = M$, se tiene que es la buscada.

Por ser ortogonales:

\[
\|u\|^2 = 
\|u - \pi_M(u) + \pi_M(u)\|^2 =
\|u-\pi_M(u)\|^2 + \|\pi_M(u)\|^2
\]

*** Nota: Unicidad de la descomposición ortogonal
Sea $H = M \oplus N$ con $\langle m, n \rangle = 0$ para $m \in M,\; n \in N$. Se tiene que $N = M^\perp$.

**** Demostración
Tenemos $N \subseteq M^\perp$ y además, para $m+n \in M^\perp$, se tiene 
$0 = \langle m, m+n \rangle = \|m\|^2$, luego $m = 0$.

*** Corolario: clausura del doble ortogonal
Para $H$ Hilbert, $M$ subespacio, $M^{\perp\perp} = \overline{M}$.

**** Demostración
El espacio puede partirse de dos formas distintas como suma ortogonal 
de cerrados:

\[ H = \overline{M} \oplus \overline{M}^\perp \]
\[ H = M^{\perp\perp} \oplus M^{\perp}\]

Como $M^\perp = \overline{M}^\perp$, debe ser $\overline{M} = M^{\perp\perp}$.

*** Corolario: caracterización de la densidad
Para $H$ Hilbert, $M$ subespacio, $M$ es denso ssi $M^\perp = \{0\}$.

**** Demostración
Si es denso, $M^\perp = \overline{M}^\perp = \{0\}$. 
Si $M^\perp = \{0\}$, tenemos $H = \overline{M} \oplus \{0\}$.

*** Teorema de Lindestrauss-Tzafriri
Un espacio de Banach es Hilbert ssi todo subespacio cerrado suyo admite
un complemento topológico. Es decir, para cada $M$ cerrado hay un $N$ cerrado
tal que:

\[
X = M \overset{t}{\oplus} N
\]

**** TODO Demostración

** Teorema de Riesz-Frechet
*** Recordatorio: por Teorema de Hahn-Banach
Sea $X$ espacio normado sobre $\mathbb{K}$. Entonces $\exists f: X \longrightarrow \mathbb{K}$ lineal y continua
no nula. Además, dado $x \in X\setminus\{0\}$, tenemos $\exists f \in X^\ast: f(x) \neq 0$. De hecho,

\[
\|x\| = \sup\{ |f(x)| \mid f \in X^\ast \}
\]

**** Demostración
Hemos reenunciado la [[*Separación en el dual topológico][separación en el dual topológico]], que era 
consecuencia de la [[*Versión analítica de Hahn-Banach][versión analítica de Hahn-Banach]].

**** Relación en el caso prehilbertiano
Cada vector tiene asociada una función lineal y continua en el dual
dada por su producto escalar: $v \mapsto \langle \cdot,v \rangle$.

*** Teorema de Riesz-Fréchet
Sea $H$ Hilbert y $f : H \longrightarrow \mathbb{K}$ lineal y continuo. Existe un único $v \in H$ 
tal que:

\[f(u) = \langle u,v \rangle\]

De otra forma, $v \mapsto \langle \cdot,v \rangle$ es una biyección conjugada-lineal de $H$ en $H^\ast$.

**** Demostración
***** Existencia: caso nulo
En el caso $f=0$, simplemente tomamos $v=0$.

***** Existencia: caso general
Dado $f$, $\ker(f)$ será propio, luego necesitamos $\ker(f)^\perp$ espacio propio
para que la suma directa sea el total. Sea $w \in \ker(f)^\perp$ no nulo, tenemos:

\[
0 = \langle f(u)w - f(w)u , w \rangle = \|w\|^2f(u) - f(w)\langle u,w \rangle
\]

Por lo que tenemos:

\[
f(u) = \left\langle u, \frac{f(w)}{\|w\|^2} w \right\rangle
\]

***** Unicidad: caso nulo
Debe ser un vector en $H^\perp = \{0\}$.

***** Unicidad: caso general
Simplemente notando que $f(u) = \langle u,v \rangle = \langle u,w \rangle$ nos daría $\langle u,v-w \rangle = 0$.
Un vector perpendicular a todo el espacio es nulo.

*** Corolario: el dual es de Hilbert
Si $H$ es Hilbert, $H^\ast$ con la norma de operadores es de Hilbert.

**** Demostración
Tomamos como producto escalar:

\[
\langle f_v,f_w \rangle = \langle w,v \rangle
\]

Y comprobamos que cumple los axiomas. Nótese que es necesario invertir
el orden para que sea hermítico. Por otro lado, la norma es la misma
que la norma de operadores:

\[ \sqrt{\langle f_v,f_v \rangle} = \|v\|
\]

mientras que si $\|u\| = 1$, por Cauchy-Schwarz hay caso de igualdad en:

\[ |f_v(u)| = |\langle u,v \rangle| \leq \|v\|\]

*** Corolario: el doble dual es Hilbert
Si $H$ es Hilbert, $H^{\ast\ast}$ es Hilbert.

**** Demostración
Componemos dos veces lo que hemos hecho con el dual. Tenemos una
biyección lineal en este caso.

*** Corolario: completación de prehilbertianos
Si $H$ es prehilbertiano, $H^{\ast\ast}$ es su completación.

**** Demostración
Veremos que si $\widehat H$ es su completación, $H^\ast \cong \widehat{H}^\ast$, por lo que tendrá que
tenerse $H^{\ast\ast} \cong \widehat{H}^{\ast\ast} \cong \widehat{H}$.

Pero $H^\ast \cong \widehat{H}^\ast$ es cierto simplemente porque la única extensión continua y
la restricción serán inversas.

*** Corolario: extensión única
Sea $H$ Hilbert con $M \subset H$ subespacio y $f \in M^\ast$. Existe una única extensión
lineal y continua cumpliendo:

\[ \|f_H\| = \|f\| \]

**** Demostración
***** Existencia
Podemos extender la función de $M$ a $\overline{M}$ por continuidad. Como es cerrado
y subespacio de Hilbert, será Hilbert. Entonces aplicamos Riesz-Frechet
para tener que la función será de la forma $f(x) = \langle x,m \rangle$ para algún
$m \in M$. Ahora, $f_m = \langle \cdot,m \rangle$ es extensión y cumple:

\[
\|f_m\| = \|m\| = \|f\|
\]

***** Unicidad
Si hubiera otra extensión $\langle \cdot,u \rangle$, se tendría $\langle \cdot,m \rangle - \langle \cdot,u \rangle = 0$ en $M$. 
Y entonces, $m - u \in M^\perp$, lo que implicaría:

\[ \|u\|^2 = \|m\|^2 + \|m-u\|^2 \geq \|m\|^2\]

Con caso de igualdad sólo si $\|m-u\| = 0$.

 - [[http://math.stackexchange.com/questions/332350/hilbert-spaces-and-unique-extensions-of-linear-functions][functional analysis - Hilbert spaces and unique extensions of
   linear functions. - Mathematics Stack Exchange]]

* 4. Espacios de Hilbert II
** Convergencia débil
*** Convergencia débil
En $H$ Hilbert, se dice que $\{u_n\}$ converge débilmente a $u$ cuando:

\[\{u_n\} \overset{w}\longrightarrow u 
\iff \forall v \in H: \{\langle u_n,v \rangle\} \longrightarrow \langle u,v \rangle \]

De otra forma, $\forall f \in H^\ast: \{f(u_n)\} \longrightarrow f(u)$.

**** Unicidad del límite débil
La unicidad se tiene porque si $\forall v: \langle u,v \rangle = \langle u',v \rangle$, entonces $f_u = f_{u'}$,
que por [[*Teorema de Riesz-Frechet][Riesz-Frechet]] nos da $u = u'$.

*** Convergencia implica convergencia débil
En $H$ Hilbert, la convergencia implica la convergencia débil: 

\[\{u_n\} \longrightarrow u \implies \{u_n\} \overset{w}\longrightarrow u\]

**** Demostración
Trivial por continuidad del producto escalar.

**** Contraejemplo del recíproco
En el espacio de sucesiones cuadrado sumables $\ell_2$, sabemos que los
términos de toda sucesión tienden a $0$, por eso:

\[ \{e_n\} \overset{w}\longrightarrow 0\]

Pero no se tiene $\{e_n\} \longrightarrow 0$.

*** Compacidad débil
Un conjunto es débilmente compacto si toda sucesión suya tiene una
parcial débilmente convergente.

*** Compacidad de la bola unidad
Sea $H$ Hilbert, entonces la bola $\overline{B(0,1)}$ es débilmente compacta.

**** TODO Demostración

*** Espacio vectorial topológico
Un espacio vectorial topológico es un espacio vectorial con una topología
que hace continuos a la norma y el producto por escalares.

** Ortonormalidad
*** Ortogonalidad y ortonormalidad
Sea dice $S \subset H$ ortogonal cuando $\forall u,v \in S: \; u \perp v$. Se dice que es además
ortonormal cuando $\forall u \in S : \|u\| = 1$.

*** Independencia de ortogonales
Si hay un conjunto ortogonal $S$, es linealmente independiente.

**** Demostración
Supongamos que tenemos $e_1,\dots,e_n \in S$ y una combinación lineal suya.
Entonces para cada $e_k$:

\[
0 = \left\langle \sum \alpha_i e_i, e_k \right\rangle
= \alpha_k \|e_k\| = \alpha_k
\]

*** Gram-Schmidt
Sea $H$ prehilbertiano de dimensión $n$, finita:

  1. $\{e_1,\dots,e_n\}$ ortogonal $\implies$ $\{e_1,\dots,e_n\}$ base
  2. Existe una base ortonormal.

**** Demostración
***** Punto 1
Son linealmente independientes y generan un espacio de dimensión $n$,
que debe ser el total.

***** Punto 2
Sabemos que existe una base $u_1,\dots,u_n$, podemos generar una base
ortonormal tomando a cada paso:

\[ e_i = u_i - \sum_{j < i} \langle u_i,e_j \rangle e_j\]

Para tener una base ortogonal. Dividiendo por la norma para tener una
base ortonormal.

*** Base ortonormal finita
Sea $e_1,\dots,e_n$ una base ortonormal de un Hilbert. Cada elemento puede
escribirse en coordenadas de sus productos escalares:

\[
u = \sum_{i=1}^n \langle u,e_i \rangle e_i
\]

Y su norma será:

\[
\|u\| = \sqrt{\sum^n_{i=1} |\langle u,e_i \rangle|^2}
\]

**** Demostración
Si escribimos las coordenadas $u = \sum \alpha_ie_i$ tenemos que $\alpha_i = \langle u,e_i \rangle$.
La norma se obtiene desde la descripción de coordenadas por 
ortonormalidad.

** Familias sumables
*** Familia sumable
Sea $X$ normado y $\{x_i\}_{i\in I}$ familia; se dice sumable si:

\[\exists x \in X: 
\forall \varepsilon > 0:
\exists J_\varepsilon:
\forall J \text{ finito} \supseteq J_\varepsilon: 
\quad
\left\|\; \sum_{i \in J} x_i - x \;\right\| < \varepsilon
\]

Llamamos suma de la familia a $\sum_{i \in I} x_i = x$.

**** Redes
Nótese que esto es una generalización del concepto de sucesión.
Las [[https://es.wikipedia.org/wiki/Red_(matem%25C3%25A1tica)][redes]] son una generalización de las secuencias para una
cantidad no numerable de elementos.

# Quizá podríamos ver que toda red es Cauchy ssi es convergente.
# Eso nos ahorraría las demostraciones posteriores de familias sumables.

*** Unicidad de la suma
La suma de una familia sumable es única.

**** Demostración
Si tuviera dos sumas $x$ y $x'$, tomaríamos los $J_\varepsilon, J_\varepsilon'$ para tener:

\[
\| x - x' \| \leq
\left\| x - \sum_{x_i \in J_\varepsilon \cup J_\varepsilon'} x_i \right\| +
\left\| \sum_{x_i \in J_\varepsilon \cup J_\varepsilon'} x_i - x' \right\|
\leq 2\varepsilon
\]

*** Propiedades de las familias sumables
Sea $X$ normado con $\{x_i\}_{i \in I}$ familia con suma $x$:

  1. $\sum_{i \in I} x_{\sigma(i)} = x$, para cualquier permutación $\sigma$.
  2. $\sum_{i \in I} \alpha x_i + \beta y_i = \alpha x + \beta y$, siendo la suma lineal.
  3. $\sum_{i \in I} Tx_i = Tx$, para $T$ lineal continua.

**** Demostración
Nótese que cuando coinciden en subsumas finitas, deben coincidir
en la suma total, por definición.

***** Punto 1
Trivial por la definición.

***** Punto 2
Tomando el conjunto $J_{\frac{\varepsilon}{2\alpha}}^x \cup J_{\frac{\varepsilon}{2\beta}}^y = K$, tenemos que:

\[ \left\| \alpha x + \beta y - \left(\sum_{i \in K} \alpha x_i + \beta y_i \right)\right\| 
\leq |\alpha| \left\| x - \sum_{i \in K} x_i \right\| + |\beta| \left\|y - \sum_{i \in K} y_i \right\| 
\leq \varepsilon\]

***** Punto 3
Si tomo unos $\varepsilon \longrightarrow 0$ tendré:

\[
\left\| Tx - \sum_{i \in J_\varepsilon} Tx_i \right\| = 
\left\| T\left( x - \sum_{i \in J_\varepsilon} x_i \right) \right\| \leq
\|T\|\varepsilon \longrightarrow 0
\]

*** Caracterización de familia sumable real
En los reales positivos, una familia $\{r_i\}_{i \in I} \in \mathbb{R}^+$ es sumable ssi:

\[\sup\left\{\;
\sum_{i \in J} r_i \;\middle|\; J \;\mtext{ finito } \subset I
\;\right\} < \infty\]

donde además, $\sum_{i \in I} r_i$ es el supremo.

**** Demostración
Por la definición de supremo, dado cualquier $\varepsilon$ podemos encontrar:

\[s \geq \sum_{J} r_i \geq \sum_{J_\varepsilon} r_i\]

Cumpliendo por tanto para $J_\varepsilon \subset J$:

\[ 
\left|s - \sum_J r_i\right| \leq 
\left|s - \sum_{J_\varepsilon} r_i \right| \leq
\varepsilon\]

*** Condición de Cauchy en familias sumables
Una familia $\{x_i\}_{i \in I}$ verifica la condición de Cauchy cuando:

\[\forall \varepsilon > 0:
\exists J_\varepsilon \text{ finito}:
\forall J \text{ finito}: J \cap J_\varepsilon = \varnothing \implies
\left\|\; \sum_{i \in J} x_i \;\right\| < \varepsilon\]

*** Toda sumable es Cauchy
Si $\{x_i\}_{i \in I}$ es sumable, verifica la condición de suma de Cauchy.

**** Demostración
Suponiendo que suman $s$, podemos tomar $J_\varepsilon$ cumpliendo que, dado $J \cap J_\varepsilon = \varnothing$:

\[
\left\|\; s - \sum_{J_\varepsilon \cup J} x_i \;\right\| < \varepsilon
\]

Y por tanto, aplicando Minkowski:

\[
\left\|\; \sum_{J} x_i \;\right\|
\leq
\left\|\; \left(s - \sum_{J_\varepsilon} x_i \right) - \sum_J x_i \;\right\| +
\left\|\; s - \sum_{J_\varepsilon} x_i \; \right\|
\leq
2\varepsilon
\]

*** Toda Cauchy en un Hilbert es sumable
Si $\{x_i\}_{i \in I} \in H$ Hilbert verifica la condición de suma de Cauchy, 
es sumable.

**** Demostración
Primero tomamos la sucesión de Cauchy siguiente, que por complitud
del espacio es convergente:

\[
\left\{
\sum_{i \in J_{\frac{1}{n}}} x_i
\right\}
\longrightarrow
s
\]

Tenemos, para $J \supseteq J_{\frac{1}{n}}$, para $n$ suficientemente grande, que:

\[
\left\|\sum_{i \in J} x_i - s \right\| \leq
\left\|\sum_{i \in J} x_i - \sum_{i \in J_{\frac{1}{n}}} x_i \right\| +
\left\|\sum_{i \in J_{\frac{1}{n}}} x_i - s \right\| \leq 
\frac{1}{n} + \varepsilon
\]

Siendo por tanto sumable.

*** Numerabilidad de familias de Cauchy
Toda familia de Cauchy tiene $\{ i \in I \mid x_i \neq 0\}$ numerable.

**** Demostración
Si verifica Cauchy, para cada $n$ podemos tomar, $J_n$ tal que 
para $J \cap J_n =\varnothing$:

\[\left\| \sum_{J} x_i \right\| \leq \frac{1}{n}\]

Si tenemos un $x \notin J_n$ para todo $n$, debe cumplir $\|x\| < \frac{1}{n}$, luego $x = 0$.
Como $\bigcup_{n \in \mathbb{N}} J_n$ es numerable. El conjunto de elementos no nulos es 
numerable.

*** Sumable es esencialmente numerable
En un espacio normado cualquiera equivalen:

  1. $\{x_i\}_{i \in I}$ sumable.
  2. $I_0 = \{ i \in I \mid x_i \neq 0\}$ numerable y para toda biyección $G : \mathbb{N} \longrightarrow I_0$:

     \[\sum_{i \in I_0} x_i = \sum_{n \in \mathbb{N}} x_{G(n)}\]

**** Demostración
***** Primera implicación
Si es sumable cumple la condición de Cauchy y por tanto,
su conjunto de elementos no nulos es numerable.

Además, si suma $s$, fijado $\varepsilon$, tengo un conjunto finito $J$.
Como $\{0,1,\dots,\max_{j \in J}\{G(j)\},\dots,m\} \supseteq G(J)$, se tiene:

\[
\left\| s - \sum_{i=0}^m x_{G(i)} \right\| \leq \varepsilon
\]

Por lo que la suma converge a $s$ para cualquier biyección.

***** TODO Segunda implicación
# Me gustaría probar que la convergencia incondicional da la convergencia
# absoluta, y entonces usar directamente la convergencia absoluta para
# probar que es sumable.

*** Corolario: convergencia conmutativa
Cuando $I = \mathbb{N}$, ser sumable equivale a converger conmutativamente,
esto es:

\[
\sum_{k \in \mathbb{N}} x_k = \sum_{k \in \mathbb{N}} x_{\sigma k}
\]

**** Demostración
Por el [[*Sumable es esencialmente numerable][teorema]] anterior.

*** Corolario: suma de particiones
En $X$ Banach, $I = \bigcup_{\lambda \in \Lambda} I_\lambda$ partición arbitraria nos da que si $\{x_i\}_{i \in I}$
es sumable, $\{x_i\}_{i \in I_\lambda}$ es sumable; además:

\[ \sum_{i\in I} x_i = \sum_{\lambda \in \Lambda} \left(\sum_{i \in I_\lambda} x_i \right)\]

**** TODO Demostración

** Familias absolutamente sumables
*** Familia absolutamente sumable
Una familia $\{x_i\}_{i \in I}$ es absolutamente sumable cuando $\{\|x_i\|\}_{i \in I}$ es sumable
en $\mathbb{R}^+$:

\[
\sup_{J \subseteq I} 
\left\{ 
\sum_J \|x_i\| \;\middle|\; J \text{ finito}
\right\} < \infty
\]

*** Criterio de Abel
Sea $X$ Banach, $\{x_i\}_{i \in I} \in X$ y $\|x_i\| < |\alpha_i|$ cumpliendo $\sum |\alpha_i| < \infty$. Entonces
$\{x_i\}$ es sumable con:

\[
\left\|\sum_{i \in I} x_i\right\| \leq \sum_{i \in I} |\alpha_i|
\]

**** TODO Demostración
*** Absolutamente sumable implica sumable
En particular, absolutamente sumable implica sumabilidad en Banach, con:

\[
\left\|\sum x_i\right\| \leq \sum \|x_i\|
\]

**** Demostración
Trivialmente desde el [[*Criterio de Abel][criterio de Abel]].

** Familias ortonormales
*** Suma ortogonal
Sea $\{e_i\}_{i\in I}$ familia ortogonal en un espacio de Hilbert $H$. Entonces
$\{e_i\}_{i \in I}$ es sumable ssi $\{\|e_i\|^2\}_{i \in I}$ es sumable en $\mathbb{R}^+$, en cuyo caso:

\[
\left\| \sum_{i \in I} e_i \right\| = \sqrt{\sum_{i \in I} \|e_i\|^2}
\]

**** Demostración
Coinciden en cualquier suma finita:

\[
\left\|\; \sum_{i \in I} e_i \;\right\|^2 = \sum_{i \in I} \|e_i\|^2
\]

Por lo tanto, coinciden sobre la condición de Cauchy.

*** Corolario: suma ortogonal con coeficientes
Sea $\{e_i\}_{i \in I}$ familia ortonormal con $f : H \longrightarrow \mathbb{K}$ aplicación. Entonces
$\{f(e_i)e_i\}$ es sumable ssi $\{|f(e_i)|^2\}$ es sumable en $\mathbb{R}^+$; en cuyo caso:

\[
\left\| \sum_{i \in I} f(e_i) e_i \right\| =
\sqrt{\sum_{i \in I} |f(e_i)|^2}
\]

**** Demostración
Trivial desde lo anterior viendo $\{f(e_i)e_i\}$ como familia ortogonal.

*** Corolario: suma ortogonal con productos escalares
Sea $H$ Hilbert, $\{e_i\}_{i \in I}$ familia ortonormal. Para $u \in H$ se tiene que
$\{\langle u,e_i \rangle e_i\}$ es sumable ssi $\{|\langle u,e_i \rangle|^2\}$ es sumable en $\mathbb{R}^+$.

**** Demostración
Caso particular de lo [[*Suma ortogonal][anterior]] con $f(x) = \langle u,x \rangle$.

*** Desigualdad de Bessel
Sea $\{e_i\}_{i \in I}$ ortonormal en $H$ Hilbert, entonces existe la suma siguiente
y está acotada:

\[
\sum_{i \in I} |\langle u,e_i \rangle|^2 \leq
\|u\|^2
\]

**** Demostración
En el caso finito:

\[
0 \leq
\left\| u - \sum_{J} \langle u,e_i \rangle e_i \right\|^2 =
\|u\|^2 - \sum_J \langle u,e_i \rangle^2 - \sum_J |\langle u,e_i \rangle|^2  + \sum_{J} \langle u,e_i \rangle^2
\]

Por tanto:

\[\sum_J |\langle u,e_i \rangle|^2 \leq \|u\|^2\]

Pero como estamos estudiando sumabilidad en los reales, basta haber
encontrado una cota sobre el [[*Caracterización de familia sumable real][supremo]] para acotar la suma.

*** Corolario de Bessel
Sea $\{e_i\}_{i \in I}$ ortonormal en $H$ Hilbert, y sea $M$ el subespacio cerrado 
generado: $M = \overline{lin\{e_i \mid i \in I\}}$. Dado $u \in H$, la mejor aproximación de $u$ a $M$ 
es:

\[ \pi_M(u) = \sum_{i \in I} \langle u,e_i \rangle e_i
\]

En consecuencia se tiene:

\[
\|u\| 
= 
\sqrt{\;\sum_{i \in I} |\langle u,e_i \rangle|^2 + 
\left\|u - \sum_{i \in I} \langle u,e_i \rangle e_i\right\|^2\;}
\]

Y además, equivalen:

  1. \[u \in M\]
     
  2. \[u = \sum \langle u,e_i \rangle e_i\]
     
  3. \[\|u\|^2 = \sum_{i \in I} |\langle u,e_i \rangle|^2\]

**** Demostración
***** Existe la suma
Por desigualdad de Bessel, comprobando la igualdad de ambas sumas
en los casos finitos, tenemos que existe la suma:

\[
\left\|\; \sum_{i \in I} \langle u,e_i \rangle e_i \;\right\|= 
\sqrt{\sum_{i \in I} |\langle u,e_i \rangle|^2} \leq \|u\|
\]

Ya que es una suma de positivos acotada. Ambas sumas cumplen
la misma condición de [[*Corolario: suma ortogonal con productos escalares][Cauchy]].

***** Hay ortogonalidad
Tomamos $m = \sum_{i \in I} \langle u,e_i \rangle e_i$, y comprobamos que $u - m \in M^\perp$. Como la
familia ortonormal genera el espacio, basta comprobar que es 
ortonormal a ella:

\[
\langle u-m,e_k \rangle = 0
\]

Por tanto, tenemos una descomposición $u = m + (u-m)$ y por teorema
de la [[*Teorema de la proyección ortogonal][proyección ortogonal]], $m$ es la mejor aproximación, y se tiene
la igualdad dada.

***** Equivalencias
Cuando $u \in M$, él mismo es su mejor aproximación y su norma puede
calcularse directamente. La igualdad de normas implica que la
norma de $u-m$ sea $0$, haciendo $u \in M$.
*** Existencia de familias ortonormales maximales
Existen sistemas ortonormales maximales.

**** Demostración
Lema de Zorn.

*** Caracterización de bases ortonormales
En $H$ Hilbert equivalen:

  1. $u = \sum \langle u,e_i \rangle e_i$ para cualquier $u$.
  2. $\langle u,v \rangle = \sum \langle u,e_i \rangle \langle e_i,v \rangle$, identidad de Parseval.
  3. $\|u\|^2 = \sum_{i \in I} |\langle u,e_i \rangle|^2$.
  4. $\{e_i\}$ sistema ortonormal maximal.
  5. $\forall e_i : v \perp e_i \implies v =0$.
  6. $H = \overline{lin\{e_i\}}$

**** Demostración
Directamente desde el corolario de Bessel en el caso de $M$ denso,
donde no hay ningún ortonormal a él. Podemos comprobar la implicación
en cada uno de los puntos.

** Bases de Hilbert
*** Base de Hilbert
Se llama base de Hilbert a una familia ortonormal maximal.

**** Desarrollo en serie de Fourier
Una familia ortonormal maximal debe tener un subespacio cerrado
generado que sea [[*Corolario: caracterización de la densidad][denso]], ya que si no fuera así, tendría un $M^\perp$ no 
nulo. Por tanto cumple el corolario a Bessel y se tiene:

\[ u = \sum_{i \in I} \langle u,e_i \rangle e_i\]

llamada *Serie de Fourier*.

*** Dimensión Hilbertiana
El cardinal de las bases de Hilbert de un espacio es inveriante y
se llama *dimensión Hilbertiana*.

**** Demostración
[[http://math.stackexchange.com/questions/232166/showing-the-basis-of-a-hilbert-space-have-the-same-cardinality][Showing the basis of a Hilbert Space have the same cardinality]].

*** Isomorfía entre espacios de igual dimensión
Dos espacios de Hilbert con la misma dimensión Hilbertiana son
topológicamente isomorfos.

**** Demostración
Dado un isomorfismo entre las bases, definimos la aplicación lineal
que extiende el isomorfismo. Por el desarrollo en serie de Fourier,
sabemos que es equinórmica y por tanto continua.

Por el Teorema de los [[*Teorema de los isomorfismos de Banach][isomorfismos de Banach]], son isomorfos 
topológicamente.

** Operadores adjuntos
*** Operadores adjuntos
Dado $T \in L(H_1,H_2)$ entre espacios de Hilbert, existe:

\[\exists! T^\ast \in L(H_2,H_1):  \langle Tx,y \rangle = \langle x,T^\ast y\rangle\]

Llamado el *operador adjunto*.

**** Demostración
Por Riesz-Fréchet, tenemos una aplicación $T^\ast y$ única cumpliendo:

\[\langle T \cdot, y \rangle = \langle \cdot , T^\ast y \rangle\]

***** Es lineal
La función es lineal ya que, aplicando unicidad de Riesz-Fréchet:

\[
\langle \cdot, T^\ast( \alpha y + y') \rangle =
\langle T \cdot, \alpha y + y' \rangle =
\overline{\alpha} \langle T \cdot, y \rangle + \langle T \cdot, y' \rangle =
\langle \cdot, \alpha T^\ast y + T^\ast y' \rangle
\]

***** Es continuo
La continuidad se tiene por acotación en la bola unidad:

\[
\| T^\ast y \|^2 \leq \|y\| \|TT^\ast y\| \leq \|T\| \|T^\ast y\|
\]

*** Propiedades de operadores adjuntos
Los adjuntos cumplen:

  1. $T^{\ast\ast} = T$.
  2. $\|T\| = \|T^\ast\| = \|TT^\ast\|^{1/2} = \|T^\ast T\|^{1/2}$.
  3. $(T_1+T_2)^\ast = T_1^\ast+T_2^\ast$
  4. $(\alpha T)^\ast = \overline{\alpha}T^\ast$.
  5. $(RT)^\ast = T^\ast R^\ast$.

**** Demostración
***** Punto 1
Aplicando unicidad de Riesz-Frechet a:

\[\overline{\langle y, T\cdot \rangle} = \overline{\langle y, T^{\ast\ast} \cdot \rangle}\]

***** Punto 2
Tenemos $\|T\| = \|T^{\ast\ast}\| \leq \|T^\ast\| \leq \|T\|$, como acotamos anteriormente.

Además, tenemos doble acotación para los dos operadores:

\[\|TT^\ast\| \leq \|T\|\|T^\ast\| = \|T\|^2\]
\[\|Tx\|^2 \leq \|x\|^2 \|TT^\ast\|\]

***** Puntos 3, 4 y 5
Trivialmente por linealidad, usando la unicidad de Riesz-Frechet.

*** Relación con el adjunto
Sea $T \in L(H,H)$; se cumple:

  1. $\ker T^\ast = T(H)^\perp$.
  2. $\ker T = T^\ast(H)^\perp$.
  3. $T^\ast$ inyectivo $\iff$ $T(H)$ denso.

**** Demostración
***** Punto 1 y 2
Trivial por doble inclusión y por reflexividad del adjunto.

***** Punto 3
Uniendo las condiciones de densidad y ortogonalidad con la 
caracterización de inyectividad por núcleo nulo.

*** Operador autoadjunto
Un operador $T \in L(H,H)$ es autoadjunto si $T^\ast = T$.

*** Propiedades de los autoadjuntos
Para $T \in L(H)$:

  1. $TT^\ast,T^\ast T, T+T^\ast$ son autoadjuntos.
  2. $T$ autoadjunto da $\alpha T$ autoadjunto.
  3. $\{ T = T^\ast\}$ es cerrado.
  4. Todo operador se divide en dos partes real e imaginaria:

     \[R = \frac{T+T^\ast}{2}\qquad S = \frac{T-T^\ast}{2}\]

** Espectro y operadores compactos
*** Espectro
El espectro de un operador es el conjunto de valores propios,
llamamos:

**** Espectro

\[G(T) = \{\lambda \in \mathbb{C} \mid T - \lambda I \mbox{ invertible}\}\]

**** Espectro puntual

\[
G_p(T) =
\{
\lambda \in \mathbb{C} 
\mid
T - \lambda I \text{ no inyectivo}
\}
\]

**** Espectro comprimido

\[G_{com}(T) 
= 
\{\lambda \in \mathbb{C} \mid T - \lambda I \mbox{ con imagen no densa}\}
\]

**** Espectro aproximado

\[G_{ap}(T) =
\{\lambda \in \mathbb{C} \mid T-\lambda I \mbox{ no acotado por debajo}\}
\]

**** Relación
Equivalen ser invertible a tener imagen densa y estar acotado por 
debajo. Así,

\[G(T) = G_{com}(T) \cup G_{ap}(T)\]

Además, en *dimensión finita* y en compactos, equivalen inyectividad, 
sobreyectividad y biyectividad, luego:

\[G(T) = G_p(T)\]

***** TODO Demostración

*** Rango de un operador
El rango de $T$ es $n$ cuando puede escribirse con $u_i,w_i \in H$:

\[T = \sum u_i \otimes w_i\]

Es decir, como una matriz finita de ese rango.

**** Operadores de rango finito son compactos
Los operadores de rango finito son compactos.

***** Demostración
En dimensión finita las bolas son compactas. Al ser continuo,
la sucesión imagen es siempre acotada y con parcial convergente.

*** Operador compacto
Si $T \in L(H)$ es compacto si para cualquier acotada, la $\{T(u_n)\}$ tiene
una parcial convergente.

**** Caracterización de compactos
Un $T$ es compacto ssi $T(\overline{B(0,1)})$ es compacto.

**** Compactos como límite de los de rango finito
Los operadores de rango finito son compactos. De hecho, son su clausura.
Si tenemos:

 - \[KL(H) = \{T: H\longrightarrow H \mid \mbox{ compacto}\}\]
 - \[FL(H) = \{T : H\longrightarrow H \mid \mbox{ rango finito}\}\]

Se cumple $\overline{FL(H)} = KL(H)$.

***** TODO Demostración

**** El adjunto de un compacto es compacto
Si tenemos $T = \lim T_n$, con $T_n = \sum u_i \otimes w_i$. Podemos comprobar que
el adjunto es límite de $T_n^\ast = \overline{\sum w_i \otimes u_i}$, de rango finito.

*** Teorema de la aplicación espectral
Para $H$ Hilbert, un polinomio no constante puede aplicarse a operadores
para tener:

\[G(p(T)) = \{p(\lambda) \mid \lambda \in G(T)\}\]

*** Teorema del núcleo
Si $T \in L(H)$ compacto, $\ker(T - \lambda I)$ tiene dimensión finita.

**** TODO Demostración
*** Teorema del rango
Si $T \in L(H)$ compacto, $\im(T-\lambda I)$ es cerrado.

**** TODO Demostración
*** Biyectividad en compactos
Si $T \in L(H)$ compacto, para $\lambda \neq 0$, $T-\lambda I$ es inyectivo ssi es 
sobreyectivo ssi es biyectivo.

\[G(T) \setminus \{0\} 
=
G_p(T) \setminus \{0\}
= 
G_{ap}(T) \setminus \{0\}
\]

*** Alternativa de Fredholm
Sea $T \in L(H)$ compacto y $\lambda \neq 0$. Consideramos las ecuaciones:

  1. $(T - \lambda I)x = 0$.
  2. $(T^\ast - \overline{\lambda} I)z = 0$.
  3. $(T-\lambda I)x = y$.
  4. $(T^\ast - \overline{\lambda} I)z = w$.

Y sabemos que se cumple una de estas dos alternativas:

  - O bien $x=0,z=0$ son las únicas soluciones de 1 y 2; en
    cuyo caso 3 y 4 tienen solución única, que además depende 
    continuamente.
  - O bien hay soluciones no nulas de 1 y 2 y entonces 3 tiene
    solución si $y \perp \ker(T^\ast - \overline{\lambda} I)$ y 4 tiene solución si $w \perp \ker(T-\lambda I)$.

**** Alternativamente
En resumen, para $T$ compacto:

  - $img(T - \lambda I) = \ker(T^\ast - \lambda I)^\perp$.
  - $img(T^\ast - \lambda I) = \ker(T-\lambda I)^\perp$.

Y si uno es nulo ambos lo son.

**** Demostración
***** Caso sin valor propio
Si $\lambda \notin G(T)$, entonces es invertible, así como su adjunta.

***** Caso con valor propio
Si $\lambda \in G(T)$, entonces $\ker(T-\lambda I) \neq 0$ y $\ker(T^\ast-\lambda I) \neq 0$, porque
para compactos coinciden los espectros. Se tiene además:

  - $y \in img(T - \lambda I) = (\ker(T^\ast-\lambda I)^\perp)$
  - $w \in img(T^\ast - \lambda I) = (\ker(T-\lambda I)^\perp)$

*** Diagonalización de autoadjuntos compactos
Sea $T \in L(H)$, compacto y autoadjunto, entonces es *diagonalizable*.
Hay una base ortonormal con \[\lambda_n \longrightarrow 0\] de vectores propios, teniendo
convergencia uniforme sobre los compactos:

\[Tu = \sum \lambda_i \langle u,e_i \rangle e_i\]

Teniendo $G_p(T) \setminus \{0\} = \{\lambda_1,\dots,\lambda_n\}$, y coincide la dimensión del 
espacio propio y el número de veces que aparece $\lambda_i$.

** Extra
*** Extra: El espectro de un autoadjunto es real
*** Extra: El espectro del adjunto es el conjugado en caso finito
**** Contraejemplo caso infinito
Pero en el caso general no. Un ejemplo es el siguiente:

\[
T(a_1,a_2,\dots) = (a_2,a_3,\dots)
\]

Que tiene cualquier valor en el espectro mientras su adjunto
no tiene ningún valor propio.

*** Extra: En el caso finito, el adjunto es la conjugada de la traspuesta
*** Extra: [[https://en.wikipedia.org/wiki/Spectral_theorem][Teorema espectral]]
* Ejercicios
** 1. Espacios normados
*** Ejercicio 3
La sucesión no puede tener ninguna parcial convergente a $0$, porque si no, 
al ser de Cauchy, convergería a $0$. Por tanto, a partir de un cierto $n$, 
todos los términos deben alejarse de $0$ más de un determinado $\alpha$.

Sean ahora $\|x - y\| \leq \epsilon$, por desigualdad triangular inversa tenemos:

\[ \bigg|\|x\|-\|y\|\bigg| \leq \|x-y\| \leq \epsilon\]

Y por tanto:

\[1 - \frac{\epsilon}{\|x\|} \leq \frac{\|x\|}{\|y\|} \leq 1 + \frac{\epsilon}{\|x\|}\]

Ahora, por otro lado, comprobaremos que podemos demostrar a la función 
$f(x) = \frac{x}{\|x\|}$ uniformemente continua:

\[ 
\bigg| \frac{x}{\|x\|} - \frac{y}{\|y\|} \bigg| =
\frac{1}{\|x\|} \|(x-y) + \left(1 - \frac{\|x\|}{\|y\|}y\right) \leq
\frac{\epsilon}{\|x\|} + \frac{\|y\|}{\|x\|} \left|1-\frac{\|x\|}{\|y\|}\right|
\]

Pero como tenemos acotaciones uniformes de $\|x\|^{-1}$ y de $\frac{\|y\|}{\|x\|}$, hemos 
terminado.
*** Ejercicio 4
#+begin_statement
Sea $X$ espacio normado. Probar que equivalen:

  1. $X$ completo.
  2. $B_X$ completo.
  3. $S_X$ completo.
#+end_statement

**** Primera y segunda implicaciones
Cerrados dentro de un completo.

**** Tercera implicación
Sea $\{x_n\}$ una sucesión de Cauchy. Descartamos el caso $\{\|x_n\|\} \longrightarrow 0$, 
que lleva a la convergencia a $0$. Podemos asumir $\|x_n\| \geq 0$ para
alguna cola de la sucesión.

La sucesión $\left\{\frac{x_n}{\|x_n\|}\right\}$ es de Cauchy (puede comprobarse acotando en el
caso en el que hemos descartado el $0$). Por tanto converge. Nótese
que las normas también son de Cauchy y también convergen. Así,
podemos escribir un $x/\|x\|$ al que converja la sucesión sobre $S_X$.

La distancia de cada elemento queda acotada por la distancia sobre
la bola unidad y la distancia en norma:

\[
\|x_n-x\| \leq
\|x_n\| 
\left( 
\left\| \frac{x_n}{\|x_n\|} - \frac{x}{\|x\|} \right\| +
\left\| \frac{x}{\|x\|} - \frac{x}{\|x_n\|} \right\|
\right)
\leq
\varepsilon
\]

El teorema es que si algo converge en la bola unidad y converge en
norma a distinto de $0$, converge a eso.

*** Ejercicio 7
#+begin_statement
Probar que, en un espacio normado, el interior de un subespacio
vectorial propio es vacío.
#+end_statement

Simplemente notando que si $B(m,r) \subseteq M$, entonces $B(0,1) \subseteq M$, y eso
lleva a $X = M$.

*** Ejercicio 16
**** Punto a
     Es de hecho una isometría por tenerse: 

     \[\|Tx\| = \left(\sum_{n=0} |Tx_n|^p\right)^{1/p} = 
     0 + \left(\sum_{n=1} |x_n|^p\right)^{1/p} =
     \|x\|\]

     Así que es continua y su norma es $1$.

**** Punto b
     Vemos que es lipschitziana trivialmente con $\|Tx\| \leq \|x\|$. Como además realiza la cota
     sobre la bola unidad al tener: $\|T(0,1,0,\dots)\| = \|(1,0,\dots)\| = 1$.

**** Punto c
     Vemos que es isometría $\|Tx\| = \|x\|$, por lo que es continua y de norma $1$.
** 2. Hahn-Banach
*** Ejercicio 1
#+begin_statement
Sea $X$ espacio vectorial sobre $\mathbb{K}$, y sean $p_1,p_2 : X \longrightarrow \mathbb{R}$ seminormas.
Probar que si $f : X \longrightarrow \mathbb{K}$ es un funcional lineal verificando que 
$|f(x)|\leq p_1(x)+p_2(x)$ para todo $x\in X$, entonces existen $f_1,f_2 : X\longrightarrow\mathbb{K}$
funcionales lineales tales que $f = f_1+f_2$, y $|f_1(x)|\leq p_1(x)$, $|f_2(x)|\leq p_2(x)$
para todo $x\in X$.
#+end_statement

Sobre el espacio $X \times X$ definimos una seminorma desde las
dos seminormas anteriores:

\[ p(x,y) = p_1(x) + p_2(x)\]

Por otro lado, consideramos el subespacio diagonal:

\[ \Delta = \{(x,x) \mid x \in X\} \]

Y definimos sobre él un funcional lineal:

\[ h(x,x) = f(x) \leq p(x,y)\]


Ahora, podemos aplicar Hahn-Banach para obtener una extensión
de $h$ definida para todo el espacio cumpliendo:

\[ |h(x,y)| \leq p(x,y)\]

Ahora, si definimos $f_1(x) = h(x,0)$ y $f_2(x) = h(0,x)$, las 
desigualdades se obtienen trivialmente desde la anterior.

*** Ejercicio 2
#+begin_statement
Sean $X$ un espacio normado, $M$ un subespacio vectorial de $X$, y
$u \in X$. Probar que existe $f \in X^\ast$ tal que $|f(x)| \leq dist(x,M)$ para todo
$x \in X$ y $f(u) = dist(u,M)$.
#+end_statement

Sobre el espacio $\langle u \rangle$ definimos el funcional $g(x) = dist(x,M)$, que es
lineal y continuo. Y por otro lado, definimos la seminorma $p(x) = dist(x,M)$
en todo el espacio. Por Hahn-Banach, existe un funcional que extiende
a $g$ y que cumple además:

\[ |f(x)| \leq dist(x,M) \]

*** Ejercicio 3
#+begin_statement
Para cada $n \in \mathbb{N}$, sea $T_n : \ell_\infty \longrightarrow \mathbb{K}$ definido por $T_n(x) = \frac{1}{n}(x_1+\dots+x_n)$.
Sea $M = \{x \in \ell_\infty : \{T_n(x)\}\text{ converge} \}$ y definamos $T(x) = \lim\{T_n(x)\}$ sobre él.

 1. Probar que $T_n \in (l_\infty)^\ast$ y que $\|T_n\| = 1$ para todo $n \in \mathbb{N}$.
 2. Probar que $M$ es un subespacio vectorial de $\ell_\infty$ que contiene al espacio
    $c$ de las sucesiones convergentes.
 3. Probar que $T \in M^\ast$ con $\|T\| = 1$ y que $T(x) = \lim\{x_n\}$ para todo $x \in c$.
 4. Sea $\tau(x) = (x_2,x_3,\dots)$ para todo $x \in l_\infty$. Probar que 
    $x - \tau(x) \in \ker(T) \subseteq M$ para todo $x \in l_\infty$.
 5. Deducir que existe $S \in (l_\infty)^\ast$, extensión de $T$ tal que $\|S\| = 1$ y
    $S(x) = S(\tau^n(x))$ para todo $x \in l_\infty$ y para todo $n \in \mathbb{N}$.
 6. Probar que $S(0,\frac{1}{2},0,\frac{1}{2},\dots) = \frac{1}{4}$.
#+end_statement

**** Punto 1
Tenemos que demostrar que es lineal y continua. Pero sabemos
que es suma y multiplicación por escalar de las proyecciones, que
lo son. Por otro lado, por desigualdad de las medias sabemos:

\[ \frac{1}{n}(x_1+\dots+x_n)
\leq \max\{x_1,\dots,x_n\}
\leq \|x_n\|_\infty\]

Por tanto $x \in B_{\ell_\infty}$ implica $T(x) \leq 1$. Y la desigualdad se realiza
en el caso $(1,1,1,\dots)$.

**** Punto 2
Tenemos que es subespacio vectorial porque si $T_n(x)$ y $T_n(y)$ convergen,
también lo hace $T_n(x+\alpha y) = T_n(x) + \alpha T_n(y)$ por ser lineal.

**** Punto 3
El $T$ es el límite puntual de los $T_n$. Por teorema del cierre de
Steinhaus, $T$ es lineal y continuo. Veamos que tiene norma unidad.
Por desigualdad de las medias la norma no puede ser mayor que $1$.
Tenemos para $x \in S_M$:

\[ T_n(x) \leq 1 \Rightarrow T(x) \leq 1\]

Y además, para $u = (1,1,1,\dots)$ se tiene que $T_n(u) \to 1 = T(u)$.

**** Punto 4
Se ve que está en el núcleo.

**** Punto 5
Por extensión equinórmica de Hahn-Banach.

**** Punto 6
Sale desde la $T$.

*** Ejercicio 4
#+begin_statement
Fijado $n \in \mathbb{N}$, probar que existe un funcional lineal y continuo $f$ en
${\cal C}[0,1]$ tal que $f(p) = p'(0)$ para todo polinomio $p$ de grado menor o igual
que $n$. Probar que no existe un funcional lineal y continuo $f$ en ${\cal C}[0,1]$
tal que $f(p) = p'(0)$ para todo polinomio $p$.
#+end_statement

Fijado $n \in \mathbb{N}$ podemos crear una base del subespacio de polinomios
de grado menor o igual que $n$ y definir un $f$ sobre ella que cumple
lo pedido. Por Hahn-Banach, lo extenderemos a todo ${\cal C}[0,1]$. Es decir,

\[ \{1,x,x+x^2,x+x^3,\dots,x+x^n\} \overset{f}\longrightarrow \{0,1,1,\dots,1\}\]

Supongamos que existiera el funcional que lo cumple para todo polinomio.
Comprobamos que no es continuo, ya que si lo fuera debería dejar acotada
la bola unidad. Sin embargo tenemos,

\[ \frac{d}{dx}(x-1)^n|_{x=0} = n\]

Mientras que $(x-1)^n \leq 1$ para $x \in [0,1]$; lo que nos da $\|(x-1)^n\| \leq 1$.

*** Ejercicio 5
#+begin_statement
Sean $X$ un espacio normado y $M$ un subespacio vectorial de $X$. Probar que 
para cada $T \in L(M,l_\infty)$, existe $S \in L(M,l_\infty)$ tal que $S|_M = T$ y $\|S\| = \|T\|$.
#+end_statement

Si aplico la extensión equinórmica a cada una de las $\pi_i \circ T$, obtenemos
funciones $S_i \in X^\ast$ que extienden $T$ y tienen su misma norma. Ahora, la
función $S(x_1,x_2,\dots) = (S_1(x_1),S_2(x_2),\dots)$ es continua y lineal por serlo por
componentes; su restricción a $M$ es trivialmente $T$, y además, su
norma debe ser:

\[ \|S\| = \max\{ (S_1(x_1),S_2(x_2),\dots) \mid x \in B_X\} 
         = \max\{ \|S_1\|, \|S_2\|, \dots\} = \|T\| \]

*** Ejercicio 6
#+begin_statement
Sean $A$ y $B$ subconjuntos no vacíos, abiertos, convexos y disjuntos de un 
espacio normado $X$. Probar que existen $f \in X^\ast$ con $\|f\| = 1$ y $\alpha \in \mathbb{R}$ tales
que $Re(f(a)) < \alpha < Re(f(b))$ para todo $a \in A$ y $b \in B$. Mostrar con un ejemplo
que, en general, no es posible encontrar $f$ tal que 
$\sup Re(f(A)) < \inf Re(f(B))$.
#+end_statement

Por el lema de separación de convexos tenemos que existen con
$\|f\|$ no necesariamente $1$. Dividiendo por la norma obtenemos el $f$
buscado.

Podemos tomar $A$ y $B$ como los dos semiplanos de $\mathbb{R}^2$ dados por
$\{x > 0\}$ y por $\{x < 0\}$. Por continuidad de $f$ se tendría que:

$\sup Re(f(A)) \geq f(0) \leq \inf Re(f(B))$

Por lo que se tendría la igualdad.
** 3. Teoremas fundamentales
*** Ejercicio 2
#+begin_statement

#+end_statement
*** Ejercicio 3
#+begin_statement
Sean $X$ e $Y$ espacios de Banach y $T : X\longrightarrow Y$ una aplicación lineal y 
continua. Probar que $T$ es inyectiva y $T(X)$ es cerrado en $Y$ si y sólo
si, existe $m > 0$ tal que $\|T(x)\| \geq m \|x\|$ para todo $x \in X$.
#+end_statement

**** TODO Primera implicación
Si $T$ es inyectiva y además $TX$ es cerrado en $Y$, entonces tenemos
que es un monomorfismo topológico.

Si tomamos $\| x \|_2 = \|T x\|$, podemos observar que es norma porque cumple
la desigualdad triangular y la inyectividad nos da la condición en
$0$.

**** Segunda implicación 
Si tenemos que se cumple lo segundo, el núcleo es trivial porque
para todo $x \neq 0$, se tiene $\|T(x)\| \geq m \|x\| > 0$. Es inyectiva.

Ahora, como $T$ es inyectiva la aplicación $T : X \longrightarrow TX$ es
biyectiva, luego es isomorfismo topológico por el teorema de los
isomorfismos de Banach. Por el teorema del homomorfismo de
Banach, $TX$ es cerrado.

*** Ejercicio 4
#+begin_statement
Sea $M$ un subespacio cerrado de $l_p$ y de $l_q$. Probar que las normas inducidas
en $M$ por $l_p$ y $l_q$ son equivalentes.
#+end_statement

Tenemos $M$ un espacio normado y cerrado dentro de Banach, luego Banach.
Dentro de este espacio podemos usar equivalencia de normas en espacios
de Banach para tener que ambas son equivalentes a la norma inducida por
la norma del máximo.

\[ \| x\|_p 
= \sqrt[p]{\sum^\infty x_i^p} 
\geq \sqrt[p]{\max\{x_i\}^p}
= \| x\|_\infty \]

*** Ejercicio 5
#+begin_statement
Sean $X,Y$ espacios de Banach, y $A \subset Y^\ast$ tal que $A$ separa los puntos de $Y$.
Probar que si $T : X \longrightarrow Y$ es una aplicación lineal tal que $f \circ T \in X^\ast$ para
todo $f \in A$, entonces $T$ es continua.
#+end_statement

Comprobaremos que la gráfica de $T$ es cerrada, y por teorema de la gráfica
cerrada, tendremos que es continua. Sean $(x_i,Tx_i) \to (x,y)$; si fueran
distintos tendríamos que existe alguna función en $A$ que separe $f(y) \neq f(Tx)$.

Pero como $f \circ T$ es continua y $f$ es continua, tenemos:

\[ f(T(x_i)) \longrightarrow f(T(x))\]
\[f(Tx_i) \to f(y)\]

Por lo que deben ser iguales, contraviniendo separación.

*** Ejercicio 6
#+begin_theorem
Sea $X$ un espacio de Banach real. Dada una aplicación lineal 
$T: X \longrightarrow L_1([0,1])$ se considera, para cada $A \subset [0,1]$ medible, el funcional
lineal $T_A : X \longrightarrow \mathbb{R}$ definido por:

\[ T_A(x) = \int_A T(x)\]

Probar que si $T_A \in X^\ast$ para todo $A \subset [0,1]$ medible, entonces $T$ es continua.
#+end_theorem

**** Familia de funcionales que separan
Definimos $i_A \in L_1[0,1]^\ast$ para cualquier $A \subset [0,1]$ medible como:

\[ i_A(f) = \int_A f \]

Y comprobamos que separa las funciones de $L_1[0,1]$, ya que si dos funciones
integran igual en cualquier conjunto medible, su diferencia integra $0$ en
todo conjunto medible. Cuando esto ocurre, si fuera distinta de $0$ en un
conjunto de medida no nula, sería mayor que algún $\varepsilon$ en un conjunto de medida
no nula, luego su integral no sería nula.

**** Desarrollo
Ahora aplicamos el ejercicio anterior, siendo $i_A$ la familia que separa
los puntos de $L_1[0,1]$. Como $i_A \circ T$ son todas lineales continuas, entonces
$T$ es continua.

*** Ejercicio 7
#+begin_statement
Sean $X$ un espacio de Banach sobre $\mathbb{K}$ e $I$ un conjunto no vacío. Dada una
aplicación lineal $T: X \longrightarrow l_\infty(I)$ se considera, para cada $i \in I$, el funcional
lineal $T_i : X \longrightarrow \mathbb{K}$ definido por:

\[ T_i(x) = T(x)(i)\]

Probar que si $T_i \in X^\ast$ para todo $i \in I$, entonces $T$ es continua.
#+end_statement

**** Familia de funcionales que separan
Llamamos $e_i \in l_\infty(I)^\ast$ a los funcionales lineales continuos siguientes,
definidos para cada $i \in I$:

\[ e_i(x) = x(i) \]

Trivialmente, si $x \neq y$, deben ser distintas en algún $x(i) \neq y(i)$.

**** Aplicación del ejercicio anterior
Aplicamos el [[*Ejercicio 5][ejercicio anterior]] sabiendo $l_\infty(I)$ de Banach. Como
$e_i \circ T$ es siempre continua, se tiene $T$ continua.

*** Ejercicio 8
#+begin_statement
Sean $X$ un espacio de Banach real y $T : X \longrightarrow C([0,1],\mathbb{R})$ una aplicación
lineal. Se considera, para cada $n \in \mathbb{N} \cup \{0\}$, el funcional lineal 
$T_n : X \longrightarrow \mathbb{R}$ definido por:

\[ T_n(x) = \int_0^1 t^n T(x)(t) dt\]

Probar que si $T_n \in X^\ast$ para todo $n \in \mathbb{N} \cup \{0\}$, entonces $T$ es continua.
#+end_statement

**** Separación
Definimos los $e_n$ para cada natural como:

\[ e_n(f) = \int_0^1 t^n f(t) dt\]

Si una función fuera nula bajo todos los $e_n$ debería ser ortogonal
a todos los polinomios, que son densos en $C([0,1],\mathbb{R})$; por lo que
debería ser $0$ casi por doquier.

*** Ejercicio 9
#+begin_statement
Sean $X$ un espacio de Banach, $A \subset X$ tal que $X = \overline{Lin(A)}$, y $\{f_n\}$ una
sucesión de elementos de $X^\ast$. Probar que equivalen:

 1. $\{f_n(x)\} \longrightarrow 0$ para todo $x \in X$
 2. $\sup \{ \|f_n\| \mid n \in \mathbb{N} \} < \infty$ y $\{f_n(a)\} \longrightarrow 0$ para todo $a\in A$.
#+end_statement

**** Primera implicación
Los $f_n$ forman una familia de operadores acotada puntualmente. Aplicando
el Teorema de Banach-Steinhaus a $X$ Banach, sabemos que debe estar 
acotada. Particulariza para los elementos de $a \in A$.

**** Segunda implicación
La convergencia a cero se mantiene por combinaciones lineales finitas,
así que se tiene para cualquier $a \in Lin(A)$. Ahora, para $b \in \overline{Lin(A)}$, 
sea $a_n \longrightarrow b$; tenemos:

\[ \|f_n(b)\| 
\leq \|f_n(b - a_m)\| + \|f_n(a_m)\|
\leq M \|b - a_m\| + \|f_n(a_m)\| \to 0
\]

Puedo tomar un $m$ que haga suficientemente pequeño el primer sumando
y luego tomar un $n$ que haga suficientemente pequeño el segundo.

*** Ejercicio 10
#+begin_statement
Sea $\{x_n\}$ una sucesión de escalares tal que la serie $\sum x_n y_n$ es convergente
para toda sucesión $\{y_n\} \in c_0$. Probar que $\{ x_n \} \in l_1$.
#+end_statement

Definimos los funcionales $f_n \in c_0^\ast$ tales que:

\[ f_n(\{y_i\}) = \sum^n_{k=0} |x_k|y_k \leq \sum^\infty_{k=0} x_k \left(y_k \frac{x_k}{|x_k|} \right)\]

Donde usamos que si $y_k$ es convergente a $0$ también lo será si la 
multiplicamos por escalares de valor absoluto $1$.

Como están acotados puntualmente, se tiene por Banach-Steinhaus que están
acotados. Esto es:

\[ \sup\left\{ \sum^n_{k=0} |x_k|y_k \middle| \|\{y_i\}\|_\infty = 1 \right\} 
= M < \infty\]

Y ahora, tenemos que las sucesiones con los $n$ primeros términos iguales
a $1$ y el resto nulos, están en la bola unidad y hacen que:

\[ \sum^n_{k=1} |x_k| \leq M < \infty\]

Dando así,

\[ \sum^\infty_{k=1} |x_k| < \infty\]

*** Ejercicio 11
#+begin_statement
Sea $\{x_n\}$ una sucesión de escalares tal que la serie $\sum x_ny_n$ es convergente 
para toda sucesión $\{y_n\} \in l_1$. Probar que $\{x_n\} \in l_\infty$.
#+end_statement

Tenemos funcionales $f_n \in l_1^\infty$ definidos como:

\[ f_n(\{ y_n \}) = \sum_{k=0}^n x_ky_k \leq \sum_{k=0}^\infty x_ky_k < \infty \]

Que por estar acotados puntualmente y ser $l_1$ un espacio de Banach, se
tiene por Banach-Steinhaus que están acotados. Esto es:

\[ \sup\left\{ \sum^n_{k=0} x_ky_k \middle| \|\{y_i\}\|_\infty = 1 \right\}
= M < \infty\]

En particular, si tomamos $g_i$ sucesiones con todos los elementos
nulos pero $g_{ii} = \frac{\overline{x_i}}{|x_i|}$, como $g_i \in \mathbb{S}_{l_\infty}$ tenemos que:

\[ |x_i| < \| f_n(g_n) \| \leq M \]

Teniéndose así que $|x_i|$ está acotada.

*** Ejercicio 12
#+begin_statement
Sea $\{x_n\}$ una sucesión de escalares tal que la serie $\sum x_ny_n$ es
convergente para toda sucesión $\{y_n\} \in l_p$ $(1<p<+\infty)$. Probar
que $\{x_n\} \in l_q$, siendo $\frac{1}{p} + \frac{1}{q} = 1$.
#+end_statement

Tomamos los funcionales $f_n \in l_p^\ast$ definidos por:

\[f_n(\{y_k\}) = \sum_{k=0}^n x_ky_k < \sum_{k=0}^\infty x_ky_k \]

Que están acotados y vienen de espacio de Banach, por lo que, por
Banach-Steinhaus, se tiene que:

\[ \sup\left\{ \|f_n\|_p \right\}
= M < \infty\]

Por desigualdad de Hölder, tenemos una cota para la norma de los
operadores, sea $\{y_i\} \in S_{l_p}$:

\[ \|f_n\| \leq \sum^{n}_{k=0} |x_k||y_i| \leq \left(\sum^n_{k=0} |x_k|^q\right)^{1/q} \| \{y_i\}\|_p
 = \left(\sum^n_{k=0} |x_k|^q\right)^{1/q} \]

Y comprobamos que se realiza tomando el vector siguiente:

\[
\frac{1}{\left( \sum^n_{k=0} |x_k|^q \right)^{1/p}}
( |x_1|^{q-1}, |x_2|^{q-1}, \dots, |x_n|^{q-1}, 0,0,\dots )
\]

Que tiene imagen de norma:

\[ \left( \sum_{k=0}^n |x_k|^q  \right)^{1/q}\]

Mientras que él tiene norma $1$.

** 4. Espacios de Hilbert I
*** Ejercicio 2
#+begin_statement
Demuéstrese que si $H$ es un espacio prehiilbertiano respecto de dos productos
escalares $\langle \cdot,\cdot\rangle_1$ y $\langle \cdot,\cdot\rangle_2$ entonces ambos productos coinciden salvo conjugación
ssi sus normas asociadas coinciden.
#+end_statement

**** Si coinciden, coinciden las normas
Si llamamos a las normas $\|\cdot\|_1$ y $\|\cdot\|_2$, tenemos:

\[\|u\|_1 = \sqrt{\langle u,u \rangle_1} 
= \sqrt{\overline{\langle u,u \rangle_2}} = \|u\|_2\]

Donde usamos que el producto escalar es hermítico.

**** Si coinciden las normas, coinciden
# ¿Por qué salvo conjugación?
Por la identidad de polarización, tenemos:

\[
\langle u,v \rangle_1 = 
\frac{1}{4}\left( \|u+v\|^2-\|u-v\|^2+i\|u+iv\|^2-i\|u-iv\|^2 \right) =
\langle u,v \rangle_2
\]

*** Ejercicio 3
#+begin_statement
Sea $H$ un espacio prehilbertiano real. Probar que si $\|u+v\|^2 = \|u\|^2+\|v\|^2$,
entonces $u$ y $v$ son ortogonales. ¿Se verifica esta propiedad en todo espacio
prehilbertiano complejo?
#+end_statement

En un espacio real, esto implica $2\langle u,v \rangle = 0$. En un espacio complejo,
sólo tenemos $\langle u,v \rangle + \langle v,u \rangle = 0$, así que podemos buscar un ejemplo en el que
no se cumpla:

\[2 = \|1+i\|^2 = \|1\|^2 + \|i\|^2 \]

Pero $\langle 1,i \rangle = -i \neq 0$.

*** Ejercicio 4
#+begin_statement
Sea $H$ un espacio prehilbertiano sobre $\mathbb{{K}}$. Sean $u,v \in H$ y $\alpha \in \mathbb{K}$. Probar que
$u$ y $v$ son ortogonales ssi, $\|u+\alpha v\| = \|u-\alpha v\|$.
#+end_statement

Sea $\alpha \neq 0$, tenemos que $u \perp v \iff u \perp \alpha v$. Así, podemos demostrar que son
ortogonales ssi $\|u+v\| = \|u-v\|$. Pero esto sólo ocurre en $\mathbb{R}$, donde el ser
hermítico da simetría al producto escalar, en $\mathbb{C}$ tenemos un contraejemplo
trivial en $u=1,v=i$, que no son ortogonales.

*** Ejercicio 15
#+begin_statement
Demostrar que el espacio ${\cal C}[-1,1]$ es suma directa del espacio de las funciones
pares y del espacio de las funciones impares. ¿Son ortogonales dichos 
subespacios? Encontrar los complementos ortogonales de los siguientes 
conjuntos:

  - las funciones que se anulan en $[-1,0]$.
  - las funciones que se anulan en $x = 0$.
#+end_statement

**** Es suma directa
Sea $f \in {\cal C}[-1,1]$. Podemos escribirla como:

\[
f(x) = \frac{f(x) + f(-x)}{2} + \frac{f(x) - f(-x)}{2}
\]

Siendo cada sumando par e impar. Supongamos un $f$ par e impar, entonces se
tiene $f(x) = f(-x) = -f(-x) = 0$.

**** Es ortogonal
Usando que el producto de par e impar es impar:

\[
\int_{-1}^1 f(x)g(x) dx = \int_0^1 fg - \int_0^1 fg = 0x
\]

**** Complemento de las anuladas en [-1,0]
***** Sólo son ortogonales si se anulan en [0,1]
Para cada intervalo definimos las funciones:

\[
u_{[a,b]}(x) = \left\{\begin{array}{ll} 
(x-a)\frac{2}{b-a}& \mbox{if } a \leq x \leq \frac{a+b}{2} \\
(b-x)\frac{2}{b-a}& \mbox{if } \frac{a+b}{2} \leq x \leq b \\
0 & \mbox{otherwise}
\end{array} 
\right.
\]

Una $f$ ortogonal a las que se anulan en $[-1,0]$ debe ser nula en $(0,1)$. Si
no lo fuera en $x \in (0,1)$, existiría un intervalo $[a,b] \subset (0,1)$ donde la función
preservaría el signo. Y entonces,

\[
\int f(x)u_{[a,b]}(x) \;dx \neq 0
\]

contraviniendo ortogonalidad.

***** Si se anulan en [0,1] son ortogonales
Por otro lado, una función que se anulara en $(0,1)$ sería ortogonal a
cualquiera que se anulara en $[-1,0]$.
**** Complemento de las anuladas en 0
Cualquier función ortogonal a las anuladas en $0$ debe anularse en todo $x \neq 0$.
Se tiene que si no se anulara en algún punto distinto de $0$, existiría
un intervalo $[a,b]$ en el que preservaría el signo:

\[
\int^1_{-1} f(x)u_{[a,b]}(x) \;dx \neq 0
\]

contraviniendo ortogonalidad. Debe anularse en todo punto distinto de $0$,
y, por continuidad, también en $0$.
** 5. Espacios de Hilbert II
*** Ejercicio 1
#+begin_statement
Demostrar que un funcional lineal sobre un espacio de Hilbert es continuo si
y sólo si su núcleo es cerrado. ¿Es cierto esto para espacios de Banach en
general?
#+end_statement
**** Si es continua, tiene núcleo cerrado
Un funcional lineal continuo debe tener siempre un núcleo cerrado 
trivialmente.

**** TODO Si tiene núcleo cerrado, es continua
En el caso de tener el núcleo cerrado, [[*Descomposición canónica: isomorfismo][se tiene]] $\widehat{T} : H/\ker(T) \cong Im(T)$. 
Entonces $H/\ker(T)$ es de dimensión finita y un isomorfismo entre espacios 
de dimensión finita es continuo.

Por último $T = \widehat{T} \circ \pi$.

**** Otra solución
Viendo que hay suma topológica $H = \ker(f) \oplus \mathbb{K}x_0$, ya que podemos escribir:

\[ u = (u - f(u)x_0) + f(u)x_0\]

exigiendo sólo $f(x_0) = 1$.

*** Ejercicio 2
#+begin_statement
Sean $f,g \in l_2 \longrightarrow \mathbb{K}$ los funcionales dados por $f(x) = \alpha_3+\alpha_4$ y $g(x) = 4\alpha_5$,
para cada $x = \{\alpha_n\}_{n \in \mathbb{N}} \in l_2$. Demostrar que son lineales y continuos. 
¿Son inyectivos? Calcular $\|f\|$ y $\|g\|$. Determinar $v,w \in l_2$ tales que
$f = \langle \cdot,g \rangle$ y $g = \langle \cdot,w \rangle$. Dado $n \in \mathbb{N}$, ¿define $h_n(x) = \sum_{k=1}^n \alpha_k$ un funcional
lineal de $l_2$?; ¿y $h(x) = \sum^\infty_{k=1} \alpha_k$?
#+end_statement

**** Continuas
Son trivialmente lineales. Son continuos porque están acotados ambos
en la bola unidad. Sabemos que debe tenerse $|\alpha_i| \leq 1$ para que esté en la
bola unidad, porque en caso contrario, la suma de cuadrados sería mayor
que $1$:

\[ |f(x)| = |\alpha_3+\alpha_4| \leq 2\]
\[ |g(x)| = 4|\alpha_5| \leq 4\]

Son trivialmente no inyectivas.

De otra forma, las proyecciones, producto y suma son continuas.

**** Calcular la norma
***** Primer caso
Tenemos por desigualdad cuadrática-aritmética que $|\alpha_3| + |\alpha_4| \leq 2\sqrt{\frac{1}{2}}$. 
Y se alcanza la cota con la sucesión $f(0,0,0,\sqrt{1/2},\sqrt{1/2},0,\dots)$.

Podemos ver además que $f = \langle \cdot,(0,0,0,1,1,0,\dots)\rangle$.

***** Segundo caso
Tenemos por $g(0,0,0,0,1,0,\dots) = 4$ que la cota anterior era correcta.
Es además el vector por el que multiplicar para tener $g = \langle \cdot,w \rangle$.

**** Otros funcionales
***** Caso finito
Tenemos un funcional que es lineal trivialmente y que es continuo por
acotarse en la bola unidad por la desigualdad aritmético-cuadrática:

\[
\left| \sum^n_{k=1} \alpha_k \right| \leq
\sum_{k=1}^n |\alpha_k| \leq
n \sqrt{\frac{1}{n}\sum^n_{k=1} |\alpha_n|^2} \leq \frac{n}{\sqrt{n}}
\]

***** Caso infinito
No tiene ni por qué estar definido, la sucesión $\{1/n\}$ es cuadrado 
sumable pero no es sumable.

*** Ejercicio 3
#+begin_statement
Sea $f : \mathbb{C}^3 \longrightarrow \mathbb{C}$ el funcional $f(\alpha_1,\alpha_2,\alpha_3) = 3i\alpha_1 + 2\alpha_2 - \alpha_3$. Demostrar que $f$
está en el dual topológico de $\mathbb{C}^3$. Calcular $v \in \mathbb{C}^3$ tal que $f = \langle \cdot,v \rangle$ y
determinar $\|f\|$.
#+end_statement

Es suma y producto por escalares de las proyecciones, así que es continua
y lineal. Comprobamos $f = \langle \cdot,(-3i,2,-1) \rangle$, y por Cauchy-Swarchz sabemos
la norma será:

\[\|f\| = \|(3i,2,-1)\| = \sqrt{9+4+1} = \sqrt{14}\]

*** Ejercicio 4
#+begin_statement
#+end_statement

*** Ejercicio 5
#+begin_statement
Sea ${\cal P}(x)$ el espacio vectorial de los polinomios $p(x) :\mathbb{R} \longrightarrow \mathbb{R}$ con el 
producto interno dado por:

\[
\langle p,q \rangle = \int_0^1 p(t)q(t)\;dt
\]

Dar un ejemplo de un funcional lineal y continuo $\varphi : {\cal P}(x) \longrightarrow \mathbb{R}$ para el que
no exista $v(x) \in {\cal P}(x)$ tal que $\varphi = \langle \cdot,v \rangle$. ¿Contradice este hecho el teorema
de Riesz-Fréchet?
#+end_statement

Un ejemplo es:

\[
\varphi(p) = \int^1_0 e^tp(t) \;dx
\]

Es trivialmente lineal, está acotado en la bola unidad y por tanto es
continuo, de hecho, se tiene:

\[
\left| \int^1_0 e^tp(t) \;dx \right| \leq
\int^1_0 |e^tp(t)| \;dx \leq
e\int^1_0 |p(t)| \;dx = e \langle p,1 \rangle \leq e\|p\| \]

Sin embargo, no puede tenerse $\varphi = \langle \cdot,v \rangle$, porque si se tuviera, se tendría
en el espacio de las funciones un polinomio que contravendría Riesz-Fréchet:

\[\int_0^1(e^t-v(t)) p(t) \;dt = 0
\]

Implicando que $e^t-v(t)$ es ortogonal a todos los polinomios. Como los
polinomios son densos en las continuas, esto implica que es ortogonal
a todas las funciones y por tanto $0$. $e^t = v(t)$, y no tenemos un polinomio
que cumpla eso.

No contradice Riesz-Fréchet por no ser el espacio de los polinomios 
completo.

*** Ejercicio 6
#+begin_statement
Considérese el espacio complejo $C[0,1]$ dotado con la norma del máximo.
Sean $\varphi_1,\varphi_2,\varphi_3$ los funcionales dados por:

\[\varphi_1(f) = \int_0^1 x|f(x)|\;dx \]

\[\varphi_2(f) = \int^1_0 f(x)\;dx\]

\[ \varphi_3(f) = f\left(\frac{1}{2}\right)
\]

respectivamente, para $f \in C[0,1]$. ¿Cuáles de ellos son funcionales lineales
y continuos? Cuando lo sean, determinar su norma. Repetir el ejercicio
considerando la norma dada por $\|f\| = \int_0^1 |f(x)|^2\;dx$. ¿En qué casos existe
$g \in C[0,1]$ tal que el funcional dado es de la forma $\langle \cdot,g \rangle$?
#+end_statement

**** Con la norma del máximo
El primero no es lineal porque no cumple $\varphi_1(if) = i\varphi_1(f)$. El segundo y
el tercero son trivialmente lineales. Se comprueban continuos acotándolos
por la norma en la bola unidad. Calculamos su norma viendo que cumplen
esa acotación en la constante:

\[\varphi_2(1) = 1;\quad \varphi_3(1) =1;\]

**** Con la norma euclídea
Por Hölder tenemos un funcional acotado en la bola unidad:

\[
\left| \int^1_0 f(x)\;dx\right| \leq
\int^1_0 |f(x)|\;dx \leq
\sqrt{\int^1_0 |f(x)|^2\;dx}
\]

Pero el otro no está acotado; podemos tomar una familia $\psi_n$ de funciones
que sean nulas excepto en $[\frac{1}{2} - \frac{1}{2n^2}, \frac{1}{2} + \frac{1}{2n^2}]$, donde crecen hasta llegar
a $\psi_n\left(\frac{1}{2}\right) = n$ y decrecen. Las podemos construir con líneas considerando
su parte imaginaria nula. Tenemos a $\varphi_3(\psi_n) = n$, arbitrariamente grande, 
mientras:

\[
\int_0^1 |\psi_n(t)|^2 \;dt \leq \frac{1}{n^2}n^2 = 1
\]

**** Aplicamos Fréchet en el resto de casos
Para tener que $\varphi_2 = \langle \cdot,1 \rangle$.

*** Ejercicio 7
#+begin_statement
Sea $\varphi : L^2(\mathbb{R}) \longrightarrow \mathbb{R}$ el funcional dado por $\varphi(g) = \int_0^1 3xg(x)\;dx$. Demostrar
que $\varphi$ es un funcional lineal y acotado. Determinar $f \in L^2(\mathbb{R})$ tal que
$\varphi = \langle \cdot,f \rangle$ y calcular $\|f\|$.
#+end_statement

Es lineal trivialmente. Podemos acotarlo en la bola unidad como:

\[
\left|
\int^1_0 3xg(x)\;dx
\right| \leq 
3 \int^1_0 |x||g(x)|\;dx \leq 
3\sqrt{\int_0^1 |g(x)|^2\;dx} \leq
3\sqrt{\int_{-\infty}^\infty |g(x)|^2\;dx} \leq 3
\]

Por otro lado, tenemos que $\varphi = \langle \cdot,\psi \rangle$, siendo:

\[\psi = \left\{\begin{array}{ll} 
3x& \mbox{if } 0 \leq x \leq 1  \\
0 & \mbox{otherwise }  
\end{array} 
\right.\]

La norma de $f$ será la de $\psi$, donde:

\[\|f\| = \int_{-\infty}^\infty \psi(x)\;dx = \frac{3}{2}\]

*** Ejercicio 10
#+begin_statement
Demostrar que los siguientes conjuntos forman una base ortonormal del 
espacio de Hilbert real $L^2[0,\pi]$.

  1. $B := \{ e_n \mid n \in \mathbb{N}_0\}$, donde $e_0 = \frac{1}{\sqrt{\pi}}$ y $e_n = \frac{\sqrt{2}}{\sqrt{\pi}} cos (nx)$.
  2. $B := \{ e_n \mid n \in \mathbb{N}\}$ donde $e_n = \frac{\sqrt{2}}{\sqrt{\pi}} sin(nx)$.

Obtener una base ortonormal del espacio de Hilbert complejo $L^2[0,\pi]$.
#+end_statement

**** Primer punto
***** Generan el espacio
Sabemos que los polinomios son densos en el espacio de funciones
continuas en $[0,1]$, y que la función arcocoseno es una biyección en
ese intervalo. Dado un $f$, tenemos un polinomio $p$ que aproxima a
la función $f \circ arccos$:

\[ 
\left\| f(x) - p(cos(x)) \right\|_2 \leq
\left\| f(x) - p(cos(x)) \right\|_\infty =
\left\| f(arccos(x)) - p(x) \right\|_\infty
\]

Ahora, un polinomio sobre $cos(x)$ puede reescribirse como una 
combinación lineal de los vectores de la base:

\[ cos(nx)cos(mx) = 
\frac{1}{2}\Big( cos((n+m)x) + cos((n-m)x)
\Big)\]

De esta forma, la clausura del espacio que generan los cosenos es
el espacio de las continuas. Si además las continuas son densas
en $L_2[0,1]$, tenemos lo pedido.

***** Son una familia ortonormal
Como además son familia ortonormal, forman una base ortonormal del 
espacio. Cuando $m \neq n$:

\[
\int_0^\pi cos(nx)cos(mx) \;dx = 
\frac{1}{n+m}[sen((n+m)x)]^\pi_0 +
\frac{1}{n-m}[sen((n-m)x)]^\pi_0 = 0
\]

Y cuando $m = n$, se tiene:

\[
\int_0^\pi cos(nx)^2 \;dx
=
\frac{1}{2}\int_0^\pi cos(2nx) - 1 \;dx
= \frac{\pi}{2}
\]

**** Segundo punto
***** Generan el espacio
Usaremos la derivación. Por el teorema anterior, tenemos un $p\circ cos$ que 
aproxima con precisión $\varepsilon$ a la siguiente función:

\[
g(x) = \left\{\begin{array}{ll} 
\frac{f(x)}{sin(x)} & \mbox{if } x \in [0+\varepsilon,\pi+\varepsilon]  \\
\psi(x) & \mbox{otherwise } 
\end{array} 
\right.
\]

Donde $\psi(x)$ la podemos construir con rectas para que haga continua
a la función e integre menos de $\varepsilon$, algo como:

[[./images/epsilonint.png]]

Sea una primitiva suya el polinomio $P$:

\[\begin{aligned} 
\|f(x) - \partial (P\circ cos)(x))\|_2 
&\leq
K + \int_{0-\varepsilon}^{\pi-\varepsilon} 
\left|f(x) - \partial (P\circ cos)(x) \right|^2\;dx \\
&\leq 
K + \int_{0-\varepsilon}^{\pi-\varepsilon} 
\left|\frac{f(x)}{sin(x)} - \frac{\partial (P\circ cos)(x)}{sin(x)} \right|^2\;dx \\
&=
K + \int_{0-\varepsilon}^{\pi-\varepsilon} 
\left|\frac{f(x)}{sin(x)} - p(cos(x)) \right|^2\;dx < \varepsilon + K\\
\end{aligned}\]

Por otro lado, tenemos que:

\[\begin{aligned}
K &= 
\int_0^\varepsilon |f(x) - \partial(P \circ cos)(x)|^2 \;dx
\\&\leq
\int_0^\varepsilon |f(x)|^2\;dx + \int_0^\varepsilon |sin(x)p(cos(x))|^2\;dx
\\&\leq
\int_0^\varepsilon |f(x)|^2\;dx + \int_0^\varepsilon |p(cos(x))|^2\;dx
\\&\leq 
\varepsilon \|f\|_\infty + \int_0^\varepsilon |p(cos(x)) - \psi(x)|^2\;dx + \int_0^\varepsilon |\psi(x)|^2\;dx
\\&\leq
\varepsilon \|f^2\|_\infty + \varepsilon + \varepsilon
\end{aligned}\]

Como $\varepsilon$ es arbitrario, se tiene lo pedido. Nótese que $\partial (P \circ cos)$ es la
derivada de una función polinómica en los cosenos que se puede escribir
como combinación lineal de la base anterior. Y nótese que la derivada
lleva cada elemento de la base anterior en uno de la nueva.

***** Son una familia ortonormal
Por último, como son ortonormales, forman una base ortonormal:

\[
\int^\pi_0 sin(nx)sin(mx) \;dx
= 
\int^\pi_0 cos((n-m)x) - cos((n+m)x)\;dx = 0
\]

**** Tercer punto
Toda función puede escribirse como:

\[
f(x) = \Re(f(x)) + i \Im(f(x))
\]

Y cada una de esas partes puede aproximarse como suma de cosenos o de
senos. Así, cualquier base ortonormal del espacio real que hemos 
construido anteriormente es también base del espacio complejo.

*** Ejercicio 11
#+begin_statement
Demostrar que:

\[B:= \left\{
e_0(x) = \frac{1}{\sqrt{2\pi}},\;
e_n(x) = \frac{1}{\sqrt{\pi}} cos(nx),\;
e_{-n}(x) = \frac{1}{\sqrt{\pi}} sin(nx) 
\mid n \in \mathbb{N}
\right\}\]

define una base ortonormal en un espacio de Hilbert real $L^2[-\pi,\pi]$.
#+end_statement

**** Es ortogonal
Comprobamos integrando la ortonormalidad de la base.

**** Genera el espacio
Las funciones pares pueden aproximarse por la misma función que las
aproximaba en $[0,\pi]$ con los cosenos; las impares pueden aproximarse
por la función que las aproximaba en $[0,\pi]$ con senos.

Toda función es suma de par y de impar.

\[f(x) = \frac{f(x)-f(-x)}{2}+\frac{f(x)+f(-x)}{2}\]

Así que toda función puede aproximarse por suma de senos y cosenos.

*** Ejercicio 12

*** Ejercicio 13
#+begin_statement
En el espacio $L^2[-\pi,\pi]$, en función de la base de Hilbert dada en el 
ejercicio 11, calcular el desarrollo en serie de Fourier de la función
$f(x) = |x|$ y deducir mediante la indentidad de Parseval que:

\[\sum^\infty_{n=1} \frac{1}{(2n-1)^4} = \frac{\pi^4}{96}\]
#+end_statement

**** Desarrollo en serie de Fourier
Usando que es función par

\[
\int_{-\pi}^\pi |x| \frac{1}{\sqrt{2\pi}} \;dx = \frac{\pi^2}{\sqrt{2\pi}}
\]

Usando que es una función par e integrando por partes:

\[
\int_{-\pi}^\pi |x| \frac{1}{\sqrt{\pi}} cos(nx) \;dx
=
\frac{2}{\sqrt{\pi}}\int_{0}^\pi x cos(nx) \;dx 
=
\frac{2}{\sqrt{\pi}n^2}((-1)^n-1)
\]

Usando que es una función impar:

\[
\int_{-\pi}^\pi |x| \frac{1}{\sqrt{\pi}} sin(nx) \;dx 
=
0
\]

**** Identidad de Parseval
Calculamos la norma de la función:

\[
\int_{-\pi}^\pi x^2 \;dx = \frac{2}{3} \pi^3
\]

Y tenemos finalmente, sumando cuadrados de los productos escalares
anteriores:

\[\begin{aligned}
\frac{\pi^3}{2} + \sum_{i=0}^\infty \frac{4}{\pi n^4}((-1)^n-1)^2
&=
\frac{2}{3} \pi^3
\\
\sum_{i=0}^\infty \frac{4}{n^4}((-1)^n-1)^2
&=
\frac{1}{6} \pi^4
\\
\sum_{i=1}^\infty \frac{1}{(2n-1)^4}
&=
\frac{1}{96} \pi^4
\end{aligned}\]

Considerando sólo los términos impares.

*** TODO Ejercicio 14
#+begin_statement
En el espacio $L^2[-\pi,\pi]$, en función de la base de Hilbert dada en el 
ejercicio 11, obtener el desarrollo en serie de Fourier de la función
$f(x) = x^2$. Usar dicho desarrollo para calcular:

\[\sum_{n=1}^\infty \frac{1}{n^2}\] y \[\sum_{n=1}^\infty \frac{1}{n^4}\]
#+end_statement

*** TODO Ejercicio 18
#+begin_statement
Encontrar $min_{\alpha,\beta,\gamma \in \mathbb{C}} \int_{-1}^1 |x^3-\alpha-\beta x -\gamma x^2|^2 \;dx$.
#+end_statement

Buscar la mejor aproximación en el espacio de los polinomios de grado
menor que 2. Hay que buscar primero una ortonormalización de la base
con Gram-Schmitd

** 6. Espacios de Hilbert III
*** Ejercicio 1
#+begin_statement
Sea $H$ un espacio de Hilbert y $P \in L(H)$. Demostrar que las siguientes
afirmaciones son equivalentes:

  1. $P$ es la proyección ortogonal de $H$ sobre un subespacio cerrado $M$.
  2. $P$ es idempotente y autoadjunto.
  3. $P$ es idempotente y $H = P(H) \oplus (I-P)(H)$ siendo los subespacios
     $P(H)$ y $(I-P)(H)$ ortogonales.
  4. $P$ es idempotente y $P(H)^\perp = \ker P$.
#+end_statement

**** Primera implicación
Trivialmente idempotente. Es autoadjunto por tenerse:

\[\begin{aligned}
\langle u,pv \rangle &= \langle pu,v \rangle \\
\langle u-pu,pv \rangle &= \langle pu,v - pv \rangle \\
0 &= 0
\end{aligned}\]

Donde usamos que $pu \in M$, pero $u - pu \in M^\perp$.

**** Segunda implicación
Tenemos $u = p(u) + (u - p(u))$ y son ortogonales por:

\[\langle p(u),v-p(v) \rangle = \langle u , p(v-p(v)) \rangle = 0\]

**** Tercera implicación
Comprobamos que son iguales $(I-P)(H) = \ker P$. Tenemos que $g = g - p(g)$
para un caso y $p(g -p(g)) = p(g)-p(g) = 0$ para el otro.

**** Cuarta implicación
Es una proyección sobre $P(H)$ y es ortogonal por definición.

*** Ejercicio 2
#+begin_statement
Sea $H$ un espacio de Hilbert y $\{e_n\}$ una base ortonormal de $H$. Sea
$\{\alpha_n\}$ una sucesión acotada de números complejos y:

\[\alpha = \sup_{n \in \mathbb{N}} |\alpha_n|\]

Probar que existe un único $T\in L(H)$ tal que $Te_n = \alpha_ne_n$, para cada $n \in \mathbb{N}$,
y que $\|T\| = \alpha$. Calcular $T^\ast$ y $\|T^\ast\|$. Demostrar que $T$ es normal. ¿Qué
condición ha de cumplir la sucesión dada para que el operador $T$ sea
autoadjunto?¿y para que $T$ sea invertible?
#+end_statement

Expresando $u$ en serie de Fourier.

Autoadjunto cuando $\alpha_i = \overline{\alpha_i}$ e invertible cuando $\alpha_i \neq 0$.

*** Ejercicio 2.1
#+begin_statement
Sea $H = \mathbb{C}^3$ y sea $T \in L(H)$ el operador dado por:

\[T(\alpha_1,\alpha_2,\alpha_3) = (\alpha_1+\alpha_2,\alpha_1+\alpha_3,\alpha_3+2\alpha_1)\]

¿Es unitario?¿Es autoadjunto? Determinar el espectro de $T$.
#+end_statement

*** Ejercicio 3
#+begin_statement
Sea $H$ un espacio de Hilbert sobre $\mathbb{K}$ y $T \in L(H)$ un operador tal que
$\langle Tu,u \rangle = 0$ para cada $u \in H$. Demostrar que $T = 0$ si $\mathbb{K}=\mathbb{C}$, pero que no
puede decirse lo mismo si $\mathbb{K}=\mathbb{R}$, y buscar una condición suficiente para
que se verifique dicha propiedad en el caso real.
#+end_statement

**** Caso complejo
Desarrollando:

\[\begin{aligned}
0
&=& 
\langle T(u+v),u+v \rangle
&=&
\langle Tu,v \rangle + \langle Tv,u \rangle\\
0
&=& 
\langle T(u+iv),u+iv \rangle
&=&
(-i)\langle Tu,v \rangle + i\langle Tv,u \rangle
\end{aligned}\]

Por tanto, $\langle Tu,v \rangle = 0$ y debe tenerse $Tu = 0$.

**** Caso real
Hay contraejemplos en el caso real. En $\mathbb{R}^2$ se tiene:

\[T(x,y) = (-y,x)\]

cumpliendo lo pedido. En general, cuando se tiene $T^\ast = -T$, tenemos:

\[\langle Tu,u \rangle = -\langle u,Tu \rangle = -\langle Tu,u \rangle = 0\]

siendo una condición suficiente.

*** Ejercicio 4
#+begin_statement
Sea $H = \mathbb{C}^2$. Calcular el espectro y la norma del operador $T \in L(H)$ dado,
respectivamente, por cada una de las siguientes matrices:

  1. \[\begin{pmatrix} 0 & 1+i \\ 1 & 2+2i \end{pmatrix}\]

  2. \[\begin{pmatrix} 
     cos \theta & e^{i\phi} sen \theta \\
     e^{i\phi} sen \theta & -cos \theta
     \end{pmatrix}\]
#+end_statement

Usaremos que la [[http://math.stackexchange.com/a/586835/85067][norma de la matriz]] es la raíz del mayor valor propio
de $M\overline{M^T}$.

**** Primera matriz
Reduciendo la matriz, tenemos como valores propios:

\[\begin{aligned}
\lambda_1 &= 1+i+\sqrt{1+3i}\\
\lambda_2 &= 1+i-\sqrt{1+3i}
\end{aligned}\]

Calculamos:

\[M\overline{M^T} = 
\begin{pmatrix} 
2 & 4 \\ 4 & 9 
\end{pmatrix}\]

A la que le podemos encontrar los valores propios:

\[\lambda_1 = \frac{1}{2}(11-\sqrt{113})\]

\[\lambda_2 = \frac{1}{2}(11+\sqrt{113})\]

#+BEGIN_SRC sage
M = Matrix([[0,1+i],[1,2+2*i]])
(M*(M.transpose().conjugate())).eigenvalues()
#+END_SRC

#+RESULTS:
: [-1/2*sqrt(113) + 11/2, 1/2*sqrt(113) + 11/2]
: a^2 - 11*a + 18

**** Segunda matriz
Reduciendo la matriz, llegamos a los valores propios
$\lambda_1=1,\lambda_2 = -1$.

Y podemos aplicar lo mismo que en la anterior.

#+BEGIN_SRC sage
t,f = var('t f')
assume(t,'real')
assume(f,'real')
M = Matrix([[cos(t), e^(i*f)*sin(t)],[e^(i*f)*sin(t),-cos(t)]])
expand((M*(M.transpose().conjugate())).eigenvalues())
#+END_SRC

#+RESULTS:
: 
: [(cos(t)^2*e^(I*f) + (-I*e^(2*I*f) + I)*cos(t)*sin(t) + e^(I*f)*sin(t)^2)*e^(-I*f),
:  (cos(t)^2*e^(I*f) + (I*e^(2*I*f) - I)*cos(t)*sin(t) + e^(I*f)*sin(t)^2)*e^(-I*f)]

*** Ejercicio 5
#+begin_statement
Sea $T \in L(H)$ donde $H$ es un espacio de Hilbert de dimensión 3. 
Calcúlese el espectro de $T$ sabiendo que $T$ es autoadjunto,
que $\|T\| = 4$, que $T$ no tiene inverso, y que el rango de $T-2I$ es $2$.
#+end_statement

Sabemos que un valor propio es $2$, que otro valor propio es $0$ por no
tener inversa. Como la norma es la raíz 

*** Ejercicio 6
#+begin_statement
Sea $H$ un espacio de Hilbert complejo de dimensión $n+1$, y sea
$B = \{e_0,\dots,e_n\}$ una base ortonormal. Sea $T \in L(H)$ el operador determinado
por las igualdades:

   - \[T(e_0) = 0\]
   - \[T(e_j) = \sqrt{j} e_{j-1}\]
 
Obtener los operadores $T^\ast$ y $T^\ast T$. Probar que $T^{n+1} = 0$. Calcular el espectro
de los operadores $T$, $T^\ast$ y $T^\ast T$ así como $\|T\|$ y $\|T^\ast T\|$.
#+end_statement

La solución es:

  - $T^\ast T(e_j) = je_j$.
  - $G_p(T^\ast T) = \{0,1,\dots,n\}$.
  - $G_p(T) = \{0\}$.
  - $\|T\| = \sqrt{n}$, $\|T^\ast T\| =n$.

*** Ejercicio 7
#+begin_statement
Diagonalizar (si es posible) los operadores dados (respectivamente) por:

  1. \[\begin{pmatrix} 
     7 & -2 & 1 \\
     -2 & 10 & 2 \\
     -1 & -2 & 7
     \end{pmatrix}\]

  2. \[\begin{pmatrix} 
     2 & -2 & 3 \\
     1 & 1 & 1 \\
     1 & 3 & 1 \\
     \end{pmatrix}\]

  3. \[\begin{pmatrix} 
     2 & 2 & 1 \\
     1 & 3 & 1 \\
     1 & 2 & 2 \\
     \end{pmatrix}\]
#+end_statement
