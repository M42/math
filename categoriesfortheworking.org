#+TITLE: Categories for the working mathematician
#+DESCRIPTION: Exercises on the Saunders MacLane's book

#+SETUPFILE: config.setup
#+SETUPFILE: essay.setup
#+LANGUAGE: en
#+OPTIONS: toc:nil
#+TODO: TODO WIP | CHECK DONE

* Header                                                             :ignore:
#+latex_header: \setcounter{secnumdepth}{0}
#+latex_header: \setlength{\parindent}{0pt}
#+latex_header: \usepackage{amsthm}
#+latex_header: \usepackage{amsmath}
#+latex_header: \usepackage{color}
#+latex_header: \usepackage{bussproofs}\EnableBpAbbreviations{}

#+latex_header: \DeclareMathOperator{\im}{Im}
#+latex_header: \DeclareMathOperator{\coker}{Coker}
#+latex_header: \DeclareMathOperator{\spec}{Spec}

#+latex_header: \newcommand\id{\mathrm{id}}
#+latex_header: \newcommand\Id{\mathrm{Id}}
#+latex_header: \newcommand\hom{\mathrm{hom}}
#+latex_header: \newcommand\Nat{\mathrm{Nat}}
#+latex_header: \newcommand\Grp{\mathsf{Grp}}
#+latex_header: \newcommand\Set{\mathsf{Set}}
#+latex_header: \newcommand\todot{\xrightarrow{.}}

* I. Categories, Functors and Natural Transformations
** I.1. Axioms for categories
*** Metagraph
A *metagraph* consists of objects $a,b,c,\dots$ and arrows $f,g,h,\dots$, with two 
operations:

  - *domain*, $dom(f) = a$, and
  - *codomain*, $cod(f) = b$,

that we write as $f : a \to b$.

*** Metacategory
A *metacategory* is a metagraph with two additional operations:

  - *Identity*: $id_a : a \to a$
  - *Composition*: for a pair of arrows $dom(g) = cod(f)$, it defines a
    new arrow $g \circ f : dom(f) \to cod(g)$.

    \[\begin{tikzcd}
    & b \drar{g} & \\
    a \arrow{rr}{g\circ f} \urar{f} & & c
    \end{tikzcd}\]

Subject to the following axioms:

  - *Associativity*: Given objects and arrows in this configuration:
    
    $a \overset{f}\to b \overset{g}\to c \overset{k}\to d$

    We have the equality: $k \circ (g \circ f) = (k \circ g) \circ f$.

  - *Unit law*: composition with the identity arrow is neutral.

**** Metacategory of Sets
**** Metacategory of Groups
**** Arrow-only axioms
** I.2. Categories
*** Category
An interpretation of a metacategory within set theory.

**** Diagram scheme (directed graphs)
A category is a graph with identity and composition functions.

*** Examples of categories
**** Basic examples
***** The empty category
***** 1, the category with one object and one identity
***** 2, the category a -> b with two objects
***** 3, a triangle category
***** Parallel arrows

**** Discrete categories
Where every arrow is an identity.

**** Monoids and groups
A category with one object.

**** Matrices
Objects: positive integers.
Arrows: $m\times n$ matrices.

**** Sets of sets
**** Preorder
***** Partial orders
***** Linear orders
**** Ordinal numbers
**** Simplicial category
**** Large categories
** I.3. Functors
*** Functor
A morphism of categories. A functor $T : {\cal C} \to {\cal B}$ is given by:

  - The *object function*, $T : Obj({\cal C}) \to Obj({\cal B})$.
  - The *arrow function*, $T : (c \to c') \to (Tc \to Tc')$

With the axioms:

  - $T(1_c) = 1_{Tc}$
  - $T(f\circ g) = Tg \circ Tf$

*** Examples
**** The powerset functor
**** Homology groups
**** General linear group
**** Commutators
**** Forgetful functors
*** Composition of functors, the metacategory Cat
We can define composition of functors, and also functors as isomorphisms.

**** Isomorphisms
A functor is an isomorphism iff there is a functor $S : B \to C$ for 
which both composites are the identity $S \circ T = Id = T \circ S$.

**** Full functor
Every $g : c \to c'$ of $B$ is of the form $Tf : Tc \to Tc'$. In other words,
the arrow function (the map!) is injective.

**** Faithful functor
The equality $Tf_1 = Tf_2$ implies $f_1 = f_2$. In other words, the arrow
function is surjective.

**** Subcategories
A subcategory gives us an inclusion functor.

** I.4. Natural transformations
*** Natural transformation
Given two functors $S,T : C \to B$, a natural transformation $\tau : S \xrightarrow{.} T$
is a function assigning every $c \in C$ an arrow $Sc \to Tc$ and yielding
a commutative diagram:

\[\begin{tikzcd}
c \dar{f} & & Sc \rar{\tau_c}\dar{Sf} & Tc \dar{Tf} \\
c' & & Sc' \rar{\tau_{c'}} & Tc'
\end{tikzcd}\]

We say that $\tau_c$ is natural in $c$.

**** Translation of pictures
A natural transformation translates a diagram from $S$ to $T$.

\[\begin{tikzcd}
a \arrow{dd}{h}\drar{f} &   & & S a \arrow{dd}{S h}\drar{S f} \arrow{rrr}{\tau a} &     & & T a \arrow{dd}{T h}\drar{T f} &     \\
  & b \dlar{g} & &     & S b \dlar{S g} \arrow{rrr}{\tau b} & &     & T b \dlar{T g} \\
c &   & & S c \arrow{rrr}{\tau c} &     & & T c &     \\
\end{tikzcd}\]

*** Natural isomorphisms
A natural transformation is a morphism of functors. We call 
*natural isomorphism* to a natural transformation where every 
component $\tau_c$ is invertible. We write it as:

$\tau : S \cong T$

The inverses form another natural transformation.

*** Examples
**** Determinant
Natural transformation between two functors
$GL, {\cal U}() : \mathtt{CRng} \longrightarrow \mathtt{Grp}$.

**** Identity and factor-commutator functor

**** Double character group
Defined as $D(G) = Hom(G, \mathbb{R}/\mathbb{Z})$, it is a contravariant functor when 
we define $(Df) t = t \circ f$. But the twice iterated functor $D^2$ is a 
covariant one.

There is a natural transformation between $Id$ and $D^2$.

\[
\tau_G(g) t = t(g)
\]

It is easy (with lambda calculus, for example) to check that this
diagram commutes.

**** Double dual of a finite vectorial space

**** Inclusion and cardinality of ordinals

** I.5. Monics, epis and zeros
*** Isomorphism
An arrow $e : a \to b$ is an isomorphism if there is an arrow $e^{-1} : b \to a$
such that $e'e = 1$ and $ee' = 1$.

**** Isomorphic objects
Two objects are isomorphic if there is an isomorphism between them.

*** Monic and epi
An arrow is *monic* if it is left cancellable, it is *epi* if it is
right cancellable.

**** Retractions and sections
A left inverse is called a *retraction*, while a right inverse is
called a *section*.

*** Splits and idempotents
When $gh = 1$, $g$ is a split epi, $h$ is a split monic and the composite
$hg$ is an idempotent. An arrow is *idempotent* if $f^2 = f$, and it is said
to split when there exist arrows $g$ and $h$ such that $f = hg$ and $gh = 1$.

*** Terminal objects and initial objects
An object $t$ is terminal if for every $a$ there is exactly one arrow $a \to t$.
An object $s$ is initial if for every $a$ there is exactly one arrow $s \to a$.
An object $z$ is null if it is both initial and terminal.

**** Zero arrow
There is an unique arrow $a \to z \to b$ called the *zero* arrow. Any 
composite with it is itself a zero arrow.

*** Groupoids
A category where every arrow is invertible.

**** The fundamental groupoid
**** Group of homomorphisms
In a groupoid, each object determines a group, $hom(x,x)$.
If there is an arrow $f : x \to x'$, the groups $hom(x,x)$ and $hom(x',x')$
are isomorphic under conjugation $g \mapsto fgf^{-1}$.

**** Connected groupoid
A *connected groupoid* is deteremined by a group and the set of
all objects.

** I.6. Foundations
*** Universe
An universe is a set $U$ with the closure properties:

  1. $x \in u \in U \implies x \in U$.
  2. e$u,v \in U \implies \{u,v\},(u,v),u\times v \in U$.
  3. $x \in U \implies {\cal P}x, \cup x \in U$.
  4. $\omega \in U$ where $\omega = \{0,1,2,\dots\}$.
  5. $f : a \to b$ surjective and $a \in U$, $b \subseteq U$ implies $b \in U$.

*** Small sets
Fixed an universe, we call a set $u \in U$ a *small set*. The universe is
the set of all small sets. $\mathtt{Set}$ denotes the category of small sets.

**** Small structures
A small group is a small set with a group structure. $\mathtt{Grp}$ denotes the
category of small groups.

*** Small categories
A category is small if the set of its arrows and objects are both small
sets. $\mathtt{Set}$ is not a small category.

** I.7. Large categories
*** Abelian groups
*** Rings
*** Modules over a ring
*** Bimodules
*** Topological spaces with continuous maps
*** Topological spaces with homotopy classes
*** Pointed sets
*** Binary relations
*** Concrete categories
** I.8. Hom-Sets
*** Hom-set
For objects $a,b \in C$, the *hom-set* is the set of all arrows between them:

\[
hom(a,b) = \{ f \mid f : a \to b \}
\]

**** Redefinition of a category
A small category is given by:

  1. Set of objects $a,b,\dots$
  2. Hom-set between two objects $hom(a,b)$
  3. Composition function $hom(b,c)\times hom(a,b) \to hom(a,c)$
  4. Identity function for every object, $id \in hom(a,a)$

The distributivity can be seen as commutativity of the following
diagram:

\[\begin{tikzcd}
hom(c,d)\times hom(b,c)\times hom(a,b) \rar\dar &
hom(b,d)\times hom(a,b) \dar \\
hom(c,d)\times hom(a,c) \rar &
hom(a,d)
\end{tikzcd}\]

*** Preadditive category
A category $A$ where each hom-set $hom(a,b)$ is an additive abelian group
for which composition is bilinear:

\[
(g+g')\circ(f+f') = g\circ f + g\circ f' + g' \circ f + g' \circ f'
\]

*** Preadditive category as an enriched category
A preadditive category is given by:

  1. Set of objects $a,b,\dots$
  2. Hom-set, an abelian group between two objects $hom(a,b)$
  3. A bilinear composition $hom(b,c) \otimes hom(a,b) \to hom(a,c)$
  4. Identity morphism for every object, $\mathbb{Z} \to hom(a,a)$

We can see the similitude with the definition of a category by hom-sets.
Categories created in this way are called *enriched categories*.

* II. Constructions on categories
** II.1. Duality
*** Elementary theory of an abstract category (ETAC)
A theory with statements involving:

  - Domains: $a = dom(f)$
  - Codomains: $b = codom(f)$
  - Composition: $h = g \circ f$

A *sentence* is a statement with all variables quantified, using
the logical connectives and quantifiers.

**** Dual of an statement
A dual is formed by making the following replacements:

  - $a = dom(f)$ changes to $a = codom(f)$
  - $h = g \circ f$ changes to $h = f \circ g$
  - Logic is unchanged.

**** Table of dualities
\begin{tabular}{l|r}
Statement & Dual statement \\
\hline
$f : a \to b$ & $f : b \to a$ \\
$a = \operatorname{dom} f$ & $a = \operatorname{cod} f$ \\
$h = g \circ f$ & $h = f \circ g$ \\
$f$ mono & $f$ epi
\end{tabular}

*** Duality principle
The dual of each of the axioms for a category is also an axiom. Therefore,
if $\Sigma$ is a consequence of the axioms, so is its dual statement.

*** Duality and functors
The elementary theory of one functor has the axioms of two categories
$A,B$, and the properties of a functor $T$ between them. The duality for
a statement involving several categories reverses the arrows in each
category, but does not reverse the functors.

** II.2. Contravariance and opposites
*** Opposite category
The *opposite category*, $C^{op}$, is defined with the objects of $C$; for each 
arrow $f : a \to b$ of $C$, the corresponding $f^{op} : b \to a$ is defined with the 
composition

\[
f^{op} \circ g^{op} = (g\circ f)^{op}.
\]

**** Opposite functors
If $T : C \to B$ is a functor, we can create an opposite functor
$T^{op} : C^{op} \to B^{op}$. The assignment $C \to C^{op}$ defines a covariant functor
$\mathtt{Cat} \to \mathtt{Cat}$.

*** Contravariant functors
A functor $S : C^{op} \to B$ can be seen as a *contravariant* functor $S : C \to B$,
knowing that

\[
S(f^{op}\circ g^{op}) = (Sf^{op})(Sg^{op}) = S((g\circ f)^{op}).
\]

**** Examples: Hom-sets
For each object $a \in C$, the *contravariant hom-functor* $hom(a,-)$ and
the *covariant hom-functor* $hom(-,a)$ are defined.

**** Examples: Sheafs
Given $X$, a topological space. Its open sets define a category by 
inclusion, $\mathtt{Open}(X)$. Let ${\cal C}(U)$ denote the set of continuous functions
$h : U \to \mathbb{R}$, the assignment $h \mapsto h|_V$ is a function ${\cal C}(U)\to{\cal C}(V)$ for
each $V \subset U$; and this gives us a contravariant functor.

**** Examples: R-Modules
$\mathtt{ModR} : \mathtt{Rng} \to \mathtt{Cat}$ is a contravariant functor. If $\rho : R \longrightarrow S$ is a morphism
of rings, given $B$ an S-module, we can define $(Mod\rho) B = B\rho$ by pull-back.

** II.3. Products of categories
*** Product of two categories
We define the *product* $B \times C$ as the category with:

  - pairs of objects $(b,c)$ as objects,
  - pairs of arrows $(f,g)$ as arrows,

with the composition given by the composites in $B$ and $C$

\[
(f',g') \circ (f,g) = (f' \circ f,g' \circ g).
\]

We can define projection functors $P : B\times C \to B$, $Q : B\times C \to C$. Given
any category $D$ and two functors $B \overset{R}\longleftarrow D \overset{T}\longrightarrow C$, there is an unique 
functor $F : D \to B\times C$ with $PF = R, QF = T$.

\[\begin{tikzcd}
& D \drar{T}\dlar[swap]{R} \dar[dashed]{\exists! F} & \\
B & B\times C \rar[swap]{Q}\lar{P} & C
\end{tikzcd}\]

*** Product of functors
Two functors $U : B \to B'$, $V : C\to C'$ have a product:

\[
U\times V : B\times C \to B'\times C'
\]

That can be described as the unique functor making the following
diagram commutative:

\[\begin{tikzcd}
B \dar{U} &
B \times C  \rar{Q}\lar[swap]{P} \dar[dashed]{U \times V}&
C \dar{V} \\
B' &
B' \times C' \rar[swap]{Q'}\lar{P'}&
C'
\end{tikzcd}\]

**** Product as a functor
The product of categories can be seen as a functor:

\[
\times : \mathtt{Cat} \times \mathtt{Cat} \to \mathtt{Cat}
\]

**** Bifunctors
Our definition of product category gives an automatic definition for
a *bifunctor*, a functor of two variables.

*** Bifunctor determined by its currifications
Let $B,C,D$ be categories. For all objects $c \in C, b \in B$, let $L_c : B \to D$
and $M_b : C \to D$ be functors such that $M_b(c) = L_c(b)$.

There exists a bifuctor $S : B\times C \to D$ such that $S(-,c) = L_c$
and $S(b,-) = M_b$ iff for every pair of arrows:

\[
M_{b'}g \circ L_c f = L_{c'}f \circ M_b g
\]

so we can define the value of $S(f,g)$ uniquely.

**** TODO Proof

*** Natural transformations between bifunctors
Given bifunctors $S,S'$, the function $\alpha$ is a natural transformation
$\alpha : S \Rightarrow S'$ iff $\alpha(b,c)$ is natural in $b$ and natural in $c$.

**** TODO Proof

** II.4. Functor categories
*** Composition of natural transformations
Given functors $R,S,T : C \to B$ and natural transformations $\tau : S\to T$
and $\sigma : R \to S$, their compositions define composite arrows which are
the components of the composite natural transformation $\tau \cdot \sigma$.

\[\begin{tikzcd}
Rc \rar{Rf}\dar{\sigma_c}\arrow[dd,bend right=90]{(\tau \circ \sigma)_c} &
Rc' \dar{\sigma_{c'}} \arrow[dd,bend left=90]{(\tau\circ\sigma)_{c'}} \\
Sc \rar{Sf}\dar{\tau_c}  &
Sc' \dar{\tau_{c'}} \\
Tc \rar{Tf}  &  Tc' 
\end{tikzcd}\]

**** Proof
Naturality of the external square follows from the commutativity of the
two internal squares.

*** Functor category
Given categories $B,C$, let $B^C = \mathrm{Funct}(C,B)$ be the *functor category*,
with objects the functors $T\colon C \to B$ and morphisms the natural 
transformations

\[ \mathrm{Nat}(S,T) = \left\{ \tau\mid \tau\colon S \dot\to T \right\}.
\]

**** Example: Category of arrows
The category $\mathrm{Funct}(B,2)$ is called the *category of arrows* of $B$. Its
objects are arrows $f\colon a \to b$ and its morphisms are commutative squares

\[\begin{tikzcd}
a\rar{h} \dar[swap]{f} & a' \dar{f'} \\
b\rar{k} & b'
\end{tikzcd}\]

**** Example: Actions on a set
If $M$ is a monoid, $\mathrm{Funct}(M, \mathtt{Set})$ is the category with objects the actions
of $M$ on some sets and arrows the morphisms of such actions.

**** TODO Example: Group with operators
*** Example: Group representations
Given $K$ a commutative ring, the functor category $\mathrm{Funct}(G, K\mathtt{-mod})$ is the 
category of linear representations of $G$.

**** Objects
Every functor $T \colon G \to K\mathtt{-mod}$ is determined by a $K\text{-module}$ $V$ and
a morphism of groups $T\colon G \to \text{Aut}(V)$.

**** Natural transformations
A natural transformation $\sigma\colon T \to S$ is given by a single module
homomorphism $\sigma\colon V \to V'$, such that

\[\begin{tikzcd}
V\rar{\sigma} \dar[swap]{Tg} & V' \dar{T'g} \\
V\rar{\sigma} & V'
\end{tikzcd}\]

and it is called an *intertwining* operator.

** II.5. The category of all categories
*** Identity natural transformations
The identity functor is the identity for the horizontal and vertical
compositions. We can use the symbol of the functor to denote it like
$S \colon S \dot\to S$.

*** Horizontal composition of natural transformations
Given functors $S,T \colon C \to B$ and $S',T'\colon B \to A$ and natural transformations

\[\begin{tikzcd}
C 
\rar[shift left=7pt, ""{name=UL, below}]{S} 
\rar[shift right=7pt, ""name=LL][swap]{T\vphantom{'}} &
B 
\rar[shift left=7pt, ""{name=UR, below}]{S'}
\rar[shift right=7pt, ""name=LR][swap]{T'} &
A\\
\ar[from=UL, to=LL, "\tau", shorten <= -2pt, shorten >= -2pt]
\ar[from=UR, to=LR, "\tau\smash{'}", shorten <= -2pt, shorten >= -2pt]
\end{tikzcd}\]

we can define the *horizontal composite* $\tau' \circ \tau \colon S'S \to T'T$ as the diagonal
of the commutative square

\[\begin{tikzcd}
S'Sc\rar{\tau'_{Sc}} \dar[swap]{S'\tau_c} & T'Sc \dar{T' \tau_c} \\
S'Tc\rar{\tau'_{Tc}} & T'Tc
\end{tikzcd}\]

explicitly, as $\tau' \circ \tau = T' \tau \circ \tau' = \tau' \circ S'\tau$. It is a natural transformation.

**** Alternative notation
With identity notation, we can then define the horizontal composition
as

\[
\tau'\circ \tau = 
(T' \circ \tau) \cdot (\tau'\circ S) =
(\tau' \circ T) \cdot (S'\circ \tau).
\]

**** Proof
It is natural as the following diagram is the composition of two
naturality squares

\[\begin{tikzcd}
S'Sc \rar{S'\tau} \dar{S'Sf} &
S'Tc \rar{\tau'}  \dar{S'Tf} &
T'Tc \dar{T'Tf} \\
S'Sb \rar{S'\tau} &
S'Tb \rar{\tau'} &
T'Tb
\end{tikzcd}\]

defined respectively by the naturality of $S'\tau$ and $\tau'$.

*** Interchange law
Given three categories and four transformations

\[\begin{tikzcd}
C 
\rar[shift left=15pt, ""{name=UL, below}]{} 
\rar[""name=L]
\rar[shift right=15pt, ""name=LL][swap]{} &
B 
\rar[shift left=15pt, ""{name=UR, below}]{}
\rar[""name=R]
\rar[shift right=15pt, ""name=LR][swap]{} &
A\\
\ar[from=UL, to=L, "\sigma", shorten <= -2pt, shorten >= -2pt]
\ar[from=L, to=LL, "\tau", shorten <= 2pt, shorten >= -2pt]
\ar[from=UR, to=R, "\sigma\smash{'}", shorten <= -2pt, shorten >= -2pt]
\ar[from=R, to=LR, "\tau\smash{'}", shorten <= 2pt, shorten >= -2pt]
\end{tikzcd}\]

the vertical and horizontal composites follow the interchange law

\[
(\tau'\cdot \sigma') \circ (\tau \cdot \sigma) = 
(\tau'\circ \tau) \cdot (\sigma'\circ \sigma).
\]

**** Proof
In this diagram, where every internal square is commutative by
naturality

\[\begin{tikzcd}
G_1F_1x \dar{G_1\sigma} \rar{\sigma'} \drar{\sigma'\circ\sigma} 
\ar[bend left]{rr}{\tau'\cdot\sigma'}
\ar[bend right=60,swap]{dd}{G_1(\tau \cdot \sigma)} & 
G_2F_1x \dar{G_2\sigma} \rar{\tau'} &
G_3F_1x \dar{G_3\sigma} \ar[bend left=60]{dd}{G_3(\tau \cdot \sigma)}\\
G_1F_2x \dar{G_1\tau} \rar{\sigma'} &
G_2F_2x \dar{G_2\tau} \rar{\tau'}  \drar{\tau'\circ\tau} &
G_3F_2x \dar{G_3\tau} \\
G_1F_3x \rar{\sigma'} \ar[bend right,swap]{rr}{\tau'\cdot\sigma'} &
G_2F_3x \rar{\tau'} &
G_3F_3x \\
\end{tikzcd}\]

we know, by definition, that the big diagonal must be $(\tau'\cdot \sigma') \circ (\tau\cdot\sigma)$.

*** Double category
A *double category* is a set of arrows for two different compositions
which together satisfy the [[*Interchange law][interchange law]].

*** 2-category
A *2-category* is a double category in thich every identity for the
first composition is also an identity for the second one.

**** Counterexample: commutative squares in Set
The category of commutative squares in Set is a double category but
not a 2-category.

*** Interchange law for operations
Two binary operations $\cdot,\circ$ are said to satisfy the interchange law when

\[
(a' \cdot b') \circ (a \cdot b) = (a' \circ a) \cdot (b'\circ b).
\]

**** Example: matrices
The usual product of matrices $\circ$ satisfies the interchange law with the
square-composition of matrices

\[
\tau \cdot \sigma = \begin{pmatrix}
\tau & 0\\
0 & \sigma
\end{pmatrix}.
\]

***** Proof
Trivial by definition.

*** Functor category as a functor
The functor category can be regarded as a functor

\[\mathrm{Func} \colon \mathtt{Cat}^{op}\times \mathtt{Cat} \to \mathtt{Cat}.
\]

sending an arrow, consisting of two functors $F,G$, to $F^{G}$, a functor
defined as

  * $F^GS = F \circ S \circ G$, on objects.
  * $F^{G}\tau = F \circ \tau \circ G$, on arrows.

**** Analogue with the hom-functor
Note that this is the categorical analogue of the hom-functor

\[\mathrm{Hom} \colon \mathtt{Set}^{op}\times \mathtt{Set} \to \mathtt{Set}.
\]

** II.6. Comma categories
*** Category of objects under an object
Given $b \in C$, the category of *objects under* it, $(b \downarrow C)$, is the category
with objects all pairs $(f\colon b \to c, c)$, and arrows $h\colon (f,c) \to (f',c')$ for those
arrows such that $h\circ f = f'$.

**** Displayed notation
Objects are of the form

\[\begin{tikzcd}
b \rar{f} & c
\end{tikzcd}\]

morphisms are of the form

\[\begin{tikzcd}
& c \arrow[dd, "h"] \\[-15pt]
b \urar{f}\drar[swap]{f'}& \\[-15pt]
& c'
\end{tikzcd}\]

and the composition is the composition of two commutative triangles
in that form.

*** Category of objects over an object
The category of *objects over* $a$, $(C \downarrow a)$ can be defined similarly in
displayed notation as objects of the form

\[\begin{tikzcd}
c \rar{f} & a
\end{tikzcd}\]

and morphisms

\[\begin{tikzcd}
c \arrow[dd, "h"] \drar{f} &  \\[-15pt]
& b \\[-15pt]
c' \urar[swap]{f'} &
\end{tikzcd}\]

*** Comma category
Given categories and functors $E \overset{T}\longrightarrow C \overset{S}\longleftarrow D$, the comma category
$(T\downarrow S)$ has objects

\[\begin{tikzcd}
Te \rar{f} & Sd
\end{tikzcd}\]

and arrows commutative squares

\[\begin{tikzcd}
Te\rar{Tk} \dar[swap]{f} & Te' \dar{f'} \\
Sd\rar{Sh} & Sd'
\end{tikzcd}\]

The composite is the yuxtaposition of squares.

**** Categories of objects under/over and object
Those are particular cases when the object is seen as a functor
from the unital category $b \colon 1 \to C$.

** II.7. Graphs and free categories
*** TODO Forgetful functor from categories to graphs
*** Free category
Let $G$ be a small graph. There is a small category $C$ called its free
category satisfying the following universal property

\[\begin{tikzcd}
G \rar{P} \drar[swap]{D} & UC\dar[dashed]{\exists! UD'} \\
& UB
\end{tikzcd}\]

which is equivalent to $P\colon G \to UC$ being initial in $(G \downarrow U)$.

** TODO II.8. Quotient categories
* III. Universals and Limits
** III.1. Universal arrows
*** Universal arrow
A *universal arrow* from $c$ to $S$ is an arrow $u \colon c \to Sr$ such that
for every $c \to Sd$ exists a unique $r \to d$ making this diagram commute

\[\begin{tikzcd}
& Sd & d \\
c \rar[swap]{u}\urar{g} & Sr \uar[swap,dashed]{Sf} & r \uar[dashed]{\exists! f} &.
\end{tikzcd}\]

** III.2. The Yoneda lemma
*** Universal arrows as natural bijections
The arrow $u \colon c \to Sr$ is universal iff $f \mapsto Sf \circ u$ is a bijection
$\mathrm{hom}(r,d) \cong \mathrm{hom}(c,Sd)$ natural in $d$. Any natural bijection of this
kind is determined by a unique universal arrow.

**** Proof
Bijection follows from the definition of [[*Universal arrow][universal arrow]], and
naturality follows from $S(gf)\circ u = Sg \circ Sf \circ u$.

Given a bijection $\varphi$, we define $u = \varphi(\mathrm{id}_r)$. By naturality we have
the bijection $\varphi(f) = Sf \circ u$, every arrow is written in this way.

*** Representation
A *representation* of $K \colon D \to \mathtt{Set}$ is a natural isomorphism

\[
\psi\colon \mathrm{hom}_{D}(r,-) \cong K.
\]

A functor is /representable/ if it has a representation. An object $r$ is
called a /representing object/. $D$ must have small hom-sets.

*** Representations from universal arrows
If $u \colon \ast \to Kr$ is a universal arrow for a functor $K\colon D \to \mathtt{Set}$, then
$f \mapsto K(f)(u\ast)$ is a representation. Every representation is obtained
in this way.

**** Proof
We know that $\mathrm{hom}(\ast, X) \xrightarrow{.} X$ is a natural isomorphism in $X$; in particular
$\mathrm{hom}(\ast, K-) \xrightarrow{.} K-$. Every representation is built then as

\[ \mathrm{hom}_{D}(r,-) \cong \mathrm{hom}(\ast,K-) \cong K, \]

for every natural isomorphism $D(r,-) \cong \mathtt{Set}(\ast,K-)$. But every natural
isomorphism of this kind is an [[*Universal arrows as natural bijections][universal arrow]].

*** Yoneda Lemma
For any $K\colon D \to \mathtt{Set}$ and $r \in D$, there is a bijection

\[
y \colon \mathrm{Nat}(\mathrm{hom}_{D}(r,-), K) \cong Kr
\]

sending the natural transformation $\alpha \colon \mathrm{hom}_{D}(r,-) \xrightarrow{.} K$ to the image of
the identity, $\alpha_r1_r$.

**** TODO Proof

*** Corollary to Yoneda Lemma
Given $r,s \in D$, any natural transformation $\mathrm{hom}(r,-) \xrightarrow{.} \mathrm{hom}(s,-)$ has
the form $h_{\ast}$ for a unique $h\colon s \to r$.

**** Proof
Using Yoneda Lemma, we know that

\[ \mathrm{Nat}(\mathrm{hom}_D(r,-), \mathrm{hom}_D(s,-)) \cong \mathrm{hom}_D(s,r),
\]

sending the natural transformation to a morphism $\alpha(id_r) = h \colon s \to r$. The
rest of the natural transformation is determined as $h_{\ast}$ by naturality.

*** Addendum to the Yoneda Lemma
The bijection on the [[*Yoneda Lemma][Yoneda Lemma]] is a natural isomorphism between
two $\mathtt{Set}^D \times D \to \mathtt{Set}$ functors.

*** Yoneda functor
In the conditions of [[*Yoneda Lemma][Yoneda Lemma]], the *Yoneda functor* is a full and
faithful functor $Y \colon D^{op} \to \mathtt{Set}^{D}$ defined with the arrow function

\[
\left(f \colon s \to r\right) \mapsto 
\Big(D(f,-) \colon D(r,-) \to D(s,-)\Big).
\]

**** TODO Proof
** III.3. Coproducts and colimits
*** Diagonal functor
The *diagonal functor* $\Delta \colon C \to C \times C$ is defined by $\Delta(c) = (c,c)$ on objects
and by $\Delta(f) = (f,f)$ on arrows.

*** Coproduct diagram
A *coproduct diagram* of a pair $(a,b)$ is a universal arrow from $(a,b)$ to
the diagonal functor $\Delta$. The object defining this universal arrow up to
isomorphism is called the *coproduct object* and written as $a \amalg b$.

\[\begin{tikzcd}
 & (d,d) \\
(a,b) \rar[swap]{(i_a,i_b)} \urar{(f,g)} & 
(a\amalg b, a\amalg b) \uar[swap]{(f \amalg g, f \amalg g)} & .
\end{tikzcd}\]

**** Diagram rewriting
This universal property can be rewritten as

\[\begin{tikzcd}
a \rar{i}\drar[swap]{f} & a \amalg b \dar[dashed]{\exists! h} & b \lar{j}\dlar{g} \\
& d &  & .
\end{tikzcd}\]

**** Bijection rewriting
This universal arrow is a bijection $\mathrm{hom}(a,d) \times \mathrm{hom}(b,d) \cong \mathrm{hom}(a \amalg b,d)$
natural in $d$.

*** Coproduct functor
In a category $C$ where every pair has a coproduct, the coproduct bifunctor
$\amalg \colon C \times C \to C$ is defined on arrows as the unique arrow

\[\begin{tikzcd}
a \dar[swap]{f}\rar{i} & a \amalg b \dar[dashed]{\exists! f\amalg g} & b \dar{g}\lar[swap]{j} \\
a' \rar[swap]{i'} & a' \amalg b' & b \lar{j'}
\end{tikzcd}\]

making this diagram commute.

*** Infinite coproducts
A *coproduct* of objects of $C$ indexed by a discrete category $X$ is a
universal arrow to the indexed diagonal functor $\Delta \colon C \to C^{X}$. We write
the coproduct object as $\coprod_{x \in X} a_x$.

**** Bijection rewriting
This universal arrow is a bijection

\[\mathrm{hom}\left( \coprod_{x \in X}a_x, c \right)
\cong \prod_{x \in X} \mathrm{hom}(a_x,c)
\]

natural in $c$.

*** Copowers
A *copower* is a coproduct where all the factors are equal. It is written
as 

\[\coprod_{x\in X} b \cong X \cdot b.\]

*** Coequalizers
A *coequalizer* of two arrows $f,g \colon a \to b$ is $u \colon b \to e$ such that $uf = ug$; and
for every other $u'$ with the same property factorizes through it.

*** Pushout
** III.5. Categories with finite products
*** Category with finite products
A category *has finite products* if to any finite number of objects exists
a product diagram. In particular, it has a terminal object.

*** Binary products define finite products
A category having binary products has finite products. There is then a
product bifunctor, an isomorphism

\[
\alpha \colon a \times (b \times c) \cong (a \times b) \times c
\]

natural in $a,b,c$; and isomorphisms

\[
\lambda \colon t \times a \cong a,
\qquad
\varrho\colon a \times t \cong a,
\]

both natural in $a$.

**** TODO Proof
We will prove that $a \times (b \times c)$ is a product of $a,b,c$; due to its universal
property we know it has the universal property of the product of $a,b,c$

\[\begin{tikzcd}[row sep=small]
& & b \\
a & a \times (b \times c) \rar\lar\urar\drar & b \times c \dar \uar \\
& & c
\end{tikzcd}\]

and, by the same reasoning, $(a \times b) \times c$ is also a product. They are
isomorphic due to universality.

# Why is it natural?

** III.6. Groups in categories
*** A group has a group hom functor
In a category with finite products, $c$ is a group iff $\mathrm{hom}(c,-)$ is a group
in the functor category $\mathtt{Set}^{C^{op}}$.

**** TODO Proof

** III.7. Colimits of representable functors
*** Representation as colimits
* IV. Adjoints
** IV.1. Adjunctions
*** IV.1.0. Adjunction
An *adjunction* from categories $X$ to $A$ is a pair of functors
$F\colon X \to A$, $G\colon A \to X$ with a natural bijection

\[
\varphi \colon \mathrm{hom}(Fx,a) \cong \mathrm{hom}(x,Ga),
\] 

natural in both $x\in X$ and $a \in A$. We write it as $F \dashv G$.

*** IV.1.1. Unit and counit
An adjunction determines a *unit* and a *counit*

 1) A natural transformation made with universal arrows $\eta\colon I \xrightarrow{.} GF$, where
    the right adjoint of each $f \colon Fx \to a$ is

    \[
    \varphi f = Gf \circ \eta_x \colon x \to Ga.
    \]

 2) A natural transformation made with universal arrows $\varepsilon \colon FG \xrightarrow{.} I$, where
    the left adjoint of each $g \colon x \to Ga$ is

    \[\varphi^{-1}g = \varepsilon \circ Fg \colon Fx \to a.\]

that follow the /triangle identities/ $\eta G \circ G \varepsilon = \mathrm{id}$ and $F\eta \circ \varepsilon F = \mathrm{id}$.

*** IV.1.2. Characterization of adjunctions
Each adjunction is completely determined by any of

 1) functors $F,G$ and $\eta\colon 1 \xrightarrow{.} GF$ where $\eta_x\colon x \to GFx$ is universal to $G$.
 2) functor $G$ and universals $\eta_x \colon x \to GF_0 x$, creating a functor $F$.
 3) functors $F,G$ and $\varepsilon\colon FG \xrightarrow{.} 1$ where $\varepsilon_a\colon FGa \to a$ is universal from $F$.
 4) functor $F$ and universals $\varepsilon_a\colon FG_0a \to a$, creating a functor $G$.
 5) functors $F,G$, with units and counits satisfiying the triangle
    identities $\eta G \circ G \varepsilon = \mathrm{id}$ and $F\eta \circ \varepsilon F = \mathrm{id}$.

** IV.3. Reflective subcategories
** IV.4. Equivalence of categories
*** Equivalence of categories
A *equivalence of categories* is a pair of functors $S,T$ which are
inverses, $S \circ T = I$. Their domain and codomain are called /equivalent/ 
/categories/.

*** Skeleton of a category
A *skeleton* is a full subcategory where every isomorphism class has
exactly one representative.

** IV.5. Adjoints for preorders
*** Galois connections are adjoint pairs
Let $L\colon P \to Q^{op}$ and $R\colon Q^{op} \to P$ two order preserving functions. They
are adjoints iff for every two objects

\[
Lp \geq q \iff p \leq Rq.
\]

The adjunction is unique and

\[
Lp \geq LRLp \geq Lp, \qquad Rq \leq RLRq \leq Rq.
\]

** IV.6. Cartesian closed categories
*** Cartesian closed category
A *cartesian closed category* is a category with all finite products where
the functors

\[\begin{tabular}{ccc}
$C \to 1$, & 
$C \to C \times C$, & 
$C \to C$, \\
$c \mapsto 0$, &
$c \mapsto (c,c)$, &
$c \mapsto c \times b$;
\end{aligned}\]

have specified adjoints

\[\begin{tabular}{ccc}
$0 \mapsto t$, &
$(a,b) \mapsto a \times b$, &
$c \mapsto c^b$.
\end{aligned}\]

*** TODO Evaluation map

** IV.7. Transformations of adjoints
*** Map of adjunctions
Given two adjunctions $\varphi\colon F \dashv G$ and $\varphi'\colon F' \dashv G'$; we define a *map of adjunctions*
as two functors $K \colon A \to A'$ and $L \colon X \to X'$ such that

\[\begin{tikzcd}
A \dar{K}\rar{G} & X \dar{L} \\
A' \rar{G'} & X'
\end{tikzcd}
\quad
\begin{tikzcd}
X \dar{L}\rar{F} & A \dar{K} \\
X' \rar{F'} & A' &
\end{tikzcd}\]

commute and such that, knowing that $KF = F'L$ and $LG = G'K$,

\[\begin{tikzcd}
\mathrm{hom}(Fx,a) \rar{\varphi} \dar[swap]{K} & \mathrm{hom}(x,Ga) \dar{L} \\
\mathrm{hom}(F'Lx,Ka) \rar{\varphi'} & \mathrm{hom}(Lx,G'Ka)
\end{tikzcd}\]

commutes.

**** Equivalence for units and counits
Given the first property, the condition on hom-sets is equivalent
to $L\eta = \eta'L$ and $\varepsilon'K = K\varepsilon$.

***** TODO Proof

*** TODO Conjugate natural transformations

** IV.9. Subsets and characteristic functions
*** Subobject classifier
A *subobject classifier* for ${\cal C}$ with a terminal object $1$ is a monomorphism
$t \colon 1 \to \Omega$ such that for every monomorphism $m$ exists a unique square

\[\begin{tikzcd}
S\rar{} \dar[swap,hook]{m} & 1 \dar[hook]{t} \\
X\rar[dashed]{\Psi_{S}} & \Omega &,
\end{tikzcd}\]

which is at the same time a pullback.

** IV.10. Categories like sets
*** Elementary topos
An *elementary topos* is a category $E$ which

 1) has all finite limits,
 2) has a subobject classifier,
 3) is cartesian closed.

*** Presheaves
A *presheaf* is a set-valued contravariant functor on a small category.

* V. Limits
** V.1. Creation of limits
*** V.1.0. Small-complete category
A category is *small-complete* when all small diagrams have limits in it.

*** V.1.1. Completeness of Set
$\mathsf{Set}$ has all small limits. Given $J$ small, $F \colon J \to \mathtt{Set}$ has limit $\mathrm{Cone}(\ast,F)$,
the set of all cones $\sigma\colon \ast \to F$; with the functions $v_j\colon \sigma \mapsto \sigma_j(\ast)$.

**** Proof
As $J$ is small, $\mathrm{Cone}(\ast,F)$ is an object of $\mathsf{Set}$. We prove that it is a
cone; for any given $u \colon j \to k$ in $J$,

\[
(Fu)v_j(\sigma) = (Fu)\sigma_j = \sigma_k = v_k(\sigma).
\]

And we prove that it is universal. Given any cone $\tau \colon X \todot F$, for any
$x \in X$ we have a $\mathrm{Cone}(\ast,F)$, so there is a unique function
$h \colon X \to \mathrm{Cone}(\ast,F)$.

**** Adjunction
This can be written as the following adjunction

\[
\Nat(\Delta X,F) \cong \hom(X, \mathrm{Cone}(\ast,F)).
\]

*** TODO V.1.1. Example: p-adic numbers
*** V.1.2. Creation of limits in Grp
If a small $H \colon J \to \Grp$ can be forgot into $\Set$ with a limiting cone $v \colon L \todot UH$,
there is exactly one group structure on $L$ making each $v_i$ a homomorphism;
$L$ is a limit of $H$ with this structure.

**** Proof
We take $L = \mathrm{Cone}(\ast,UH)$ and define a group structure with $(\sigma\tau)_j = \sigma_j\tau_j$
and $(\sigma^{-1})_j = (\sigma_j)^{-1}$; making each $v$ a homomorphism. These are cones because
the functions $UHj$ are homomorphisms. Any other structure making each $v$ a
homomorphism should in particular satisfy these equations; so this structure
is unique.

Given any other group cone $\lambda \colon G \todot H$, then $U\lambda \colon UG \todot UH$ is a set cone
and there exists a unique $h \colon UG \to L$ making the diagram commute; this is
a homomorphism of groups

\[
(h(g_1g_2))_j = \lambda_j(g_1g_2) = \lambda_j(g_1)\lambda_j(g_2) = (hg_1)_j(hg_2)_j.
\]

*** V.1.2. Creation of limits
The functor $V\colon A \to X$ *creates limits* for $F\colon J \to A$ when

 1) for any con $\tau\colon x \xrightarrow{.} VF$ exists $\sigma\colon a \to F$ with $Va = x$ and $V\sigma = \tau$.
 2) this $\sigma$ is a limiting cone.

*** V.1.3. The forgetful Groups to Sets functor creates limits
The forgetful functor $U \colon \Grp\to \Set$ creates limits.

**** Proof
Rereading of the [[*V.1.2. Creation of limits in Grp][previous theorem]].

** V.2. Limits by products and equalizers
*** V.2.1. Existence of limits from products and equalizers
If ${\cal C}$ has all equalizers and all products indexed by the sets of objects
and arrows of $J$, it has every limit $F\colon J \to {\cal C}$.

**** TODO Proof

*** TODO V.2.2. Limits from products and equalizers
*** TODO V.2.2. Finite limits from products and equalizers
If a category ${\cal C}$ has all finite products and all equalizers, it
has all finite limits.

** TODO V.3. Limits with parameters
** V.4. Preservation of limits
*** V.4.0. Preservation of limits
A functor $H\colon C \to D$ *preserves limits* $J \to C$ when every limiting
cone $v$ in $C$ yields a limiting cone $Hv$ in $D$.

*** V.4.0. Continuous functor
A functor is *continuous* if it preserves all small limits.

*** V.4.1. Hom-functors preserve all limits
In ${\cal C}$ with small hom-functors, each $\hom(c,-)$ preserves all limits.

**** TODO Proof

** TODO V.5. Adjoints on limits
*** V.5.1. Right adjointa preserve all limits
If $G \colon A \to X$ has a left adjoint and the diagram $T\colon J \to A$ has a
limiting cone $\tau \colon a\todot T$, then $GT$ has the limiting cone $G\tau \colon Ga \todot GT$
in $X$.

**** Proof
As $G$ is a functor, $G\tau$ is already a cone. Given any other cone $\sigma \colon x \todot GT$,
we can take adjoints on every component and, by naturality of the adjoint,
we have a cone $\sigma_{\ast} \colon Fx \todot T$. This cone uniquely factorizes throught $\tau$ with
$h \colon Fx \to a$, naturality preserves this unique factorization in $h_{\ast} \colon x \to Ga$,

\begin{prooftree}
\AXC{\begin{tikzcd}[fragile,ampersand replacement=\&] 
x \rar{h_\ast}\& Ga \rar{G\tau} \& Gi  \end{tikzcd}}
\doubleLine
\UIC{\begin{tikzcd}[fragile,ampersand replacement=\&]
Fx \rar{h}\& a \rar{\tau} \& i \end{tikzcd}}
\end{prooftree}

so $G\tau$ is universal.

** V.6. Freyd's adjoint functor theorem
*** V.6.1. Existence of an initial object
In ${\cal D}$ small-complete with small hom-sets, there exists an initial object
if and only if it satisfies

 - solution set condition :: there exists a small family $\left\{ k_i \right\}_{i \in I}$ such that
      for each $d \in D$ exists an arrow $k_i \to d$.

**** Proof
If it has an initial object, it trivially satisfies the condition with that
object.

We take $w = \prod k_i$ and we have at least one arrow $w \to d$ for each $d$, given
by projections. We can construct the equalizer of all $\hom(w,w)$, which is
small

\begin{tikzcd}
v \rar{e} & w \rar[bend left] \rar[bend right] & w
\end{tikzcd}

For each $d$ there exists at least one $v \to d$, if there were two $f,g \colon v \to d$,
we take the equalizer of both, $u$, and

\[\begin{tikzcd}
u \rar{e_1} & v \dlar[swap]{e}\dar{e}\rar[bend left]{f}\rar[bend right]{g} & d \\
w \uar[dashed]{s}\rar{ee_1s} & w \rar & k_i \uar
\end{tikzcd}\]

we know that a $s \colon w \to u$ must exist; as $ee_1se = e$ and $e$ is an equalizer
(and thus, a monomorphism), $e_1se =\id$. Then, $e_1$ has a right inverse and
it is also a monomorphism, so it has to be an isomorphism, $f = g$.

*** V.6.2. Lemma to Freyd I: creation of products by adjoints
Given $G \colon A \to X$ preserving all small products, the projection
$Q \colon (x \downarrow G) \to A$, $(x \to Ga) \mapsto a$ from the comma category creates
all small products.

**** Proof
Given $\left\{ f_j\colon x \to Ga_j \right\}$ an indexed family of objects in $(x \downarrow G)$ such
that $p_k \colon \prod a_j \to a_k$ exists in $A$; we know that $Gp_k \colon G\prod a_j \to Ga_j$
is a product, so there is a unique $f \colon x \to G\prod a_j$ with $(Gp_j)f=f_j$,

\[\begin{tikzcd}
\Pi a_j \dar{p_j} & & G\Pi a_j \dar{Gp_j} \\
a_j & x \rar[swap]{f_j}\urar[dashed]{f} & Ga_j \\
\end{tikzcd}\]

We can now verify that these $p_j$ create a product in the comma category.

*** TODO V.6.2. Lemma to Freyd II: creation of equalizers by adjoints
*** V.6.2. The Freyd adjoint functor theorem
A functor $G \colon A \to X$ from a locally small category has
left-adjoint iff it preserves all small limits and satisfies the

 - solution set condition :: for each object $x \in X$ there is a small set $I$
      and a family of arrows $\left\{ f_i \colon x \to Ga \right\}_{i \in I}$ such that every $h \colon x \to Ga$
      can be written as $h = Gt \circ f_i$ for some $i$ with some $t \colon a_i \to a$.

**** Proof
***** First implication
If $G$ has a left-adjoint, it preserves all limits; the unit 
$\eta \colon x \to GFx$ satisfies the solution set condition.

***** Second implication
By [[*IV.1.2. Characterization of adjunctions][characterization of adjoints]], it suffices to create a universal
arrow $x \to Ga$ for each $x$; that is, a initial object in the comma
category $(x \downarrow G)$; the solution set condition gives us the conditions
of [[*V.6.1. Existence of an initial object][existence of an initial object]]. We only need to prove that $(x \downarrow G)$
is small-complete; but $G$ preserving small products makes the projection
create all [[*V.6.2. Lemma to Freyd I: creation of products by adjoints][products]] and create all [[*V.6.2. Lemma to Freyd II: creation of equalizers by adjoints][equalizers]].

*** V.6.3. The representability theorem

** TODO V.7. Subobjects and generators
** TODO V.8. The special adjoint functor theorem
** TODO V.9. Adjoints in topology
* VI. Monads and algebras
** VI.1. Monads in a category
*** Monad
A *monad* is a functor $T\colon X \to X$ with natural transformations

 * $\eta\colon I \xrightarrow{.} T$, called /unit/
 * $\mu \colon T^2 \xrightarrow{.} T$, called /multiplication/

such that

\[\begin{tikzcd}
T^3 \rar{T\mu}\dar{\mu T} & T^2\dar{\mu} \\
T^2 \rar{\mu} & T
\end{tikzcd}
\qquad
\begin{tikzcd}
IT \rar{\eta T}\drar[swap]{\cong} & T^2\dar{\mu} & \lar[swap]{T\eta}\dlar{\cong} TI \\
& T & &.
\end{tikzcd}\]

*** Each adjunction defines a monad
Given $F \dashv G$, $GF$ is a monad.

**** Proof
We take the unit of the adjunction as the monad unit. We define the
product as $\mu = G\varepsilon F$. Associativity follows from these diagrams

\[\begin{tikzcd}
FGFG\rar{FG\varepsilon} \dar[swap]{\varepsilon FG} & FG \dar{\varepsilon} \\
FG\rar{\varepsilon} & I
\end{tikzcd}
\qquad
\begin{tikzcd}
GFGFGF\rar{GFG\varepsilonF} \dar[swap]{G\varepsilon FGF} & GFGF \dar{G\varepsilonF} \\
GFGF\rar{G\varepsilonF} & GF &,
\end{tikzcd}\]

where the first is commutative by the [[*Interchange law][interchange law]] and the second
is obtained by applying functors $G$ and $F$. Unit laws follow from
the [[*Unit and counit][triangular identities]] after applying $F$ and $G$.

*** Comonad
A *comonad* is a functor $L\colon X \to X$ with natural transformations

 * $\varepsilon\colon L\to I$, called /counit/
 * $\delta\colon L \to L^2$, called /comultiplication/

such that

\[\begin{tikzcd}
L\rar{\delta} \dar[swap]{\delta} & L^{2} \dar{L\delta} \\
L^{2}\rar{\delta L} & L^{3}
\end{tikzcd}
\qquad
\begin{tikzcd}
& L \dar{\delta} \dlar[swap]{\cong} \drar{\cong} & \\
IL & 
L^2 \lar{\varepsilon L}\rar[swap]{L \varepsilon} & 
LI
&.
\end{tikzcd}\]

*** TODO Each adjunction defines a comonad
** VI.2. Algebras for a monad
*** T-algebra
For a monad $T$, a $T\text{-algebra}$ is an object $x$ with an arrow $h \colon Tx \to x$ called 
/structure map/ making these diagrams commute

\[\begin{tikzcd}
T^{2}x \rar{Th}\dar[swap]{\mu} & Tx \dar{h} \\
Tx\rar{h} & x &.
\end{tikzcd}\]

*** Morphisms of T-algebras
A morphism of T-algebras is an arrow $f\colon x \to x'$ making the following square
commute

\[\begin{tikzcd}
Tx \dar[swap]{Tf}\rar{h} & Tx \dar{f} \\
Tx' \rar[swap]{h'} & Tx' &.
\end{tikzcd}\]

*** Category of T-algebras
The set of all $T\text{-algebras}$ and their morphisms form a category $X^{T}$.

**** Proof
Given $f\colon x \to x'$ and $g\colon x'\to x''$, $T\text{-algebra}$ morphisms, their composition
is also a $T\text{-algebra}$ morphism, due to the fact that this diagram

\[\begin{tikzcd}
Tx \rar{h}\dar[swap]{Tf} & 
x \dar{f}\\
Tx' \dar[swap]{Tg} \rar{h'} &
x' \dar{g}\\
Tx'' \rar{h''}&
x''
\end{tikzcd}\]

commutes.

*** Every monad is defined by its T-algebras
The monad defined by the adjunction $F^{T} \dashv G^{T}$ is $T$, where the functors
are defined as

\[F^{T}\colon \begin{tikzcd}
x \dar{f} \\
x'
\end{tikzcd} \mapsto \begin{tikzcd}
(Tx,\mu) \dar{Tf} \\
(Tx',\mu)
\end{tikzcd}
\qquad
G^{T}\colon  \begin{tikzcd}
(x,h) \dar{f} \\
(x',h')
\end{tikzcd} \mapsto
\begin{tikzcd}
x \dar{Tf} \\
x' &
\end{tikzcd}\]

knowing that $(Tx,\mu)$ is always a $T\text{-algebra}$.

**** TODO Proof

** VI.3. The comparison with algebras
*** Comparison of adjunctions with algebras
Given $F \dashv G$ with the monad $T$, there is a unique $K\colon A \to X^T$ with
$G^TK = G$ and $KF = F^T$.

**** TODO Proof

** TODO VI.4. Words and free semigroups
** TODO VI.5. Free algebras for a monad
* VII. Monoids
** VII.1. Monoidal categories
*** VII.1.0. Strict monoidal category
A *strict monoidal category* ${\cal B}$ is a category with a bifunctor $\otimes \colon {\cal B} \times {\cal B} \to {\cal B}$
which is associative

\[
\otimes(\otimes \times 1) = \otimes (1 \times \otimes) \colon {\cal B} \times {\cal B}\times {\cal B} \to {\cal B}
\]

and with a *unit* object,

\[
\otimes(e \times \Id) = \Id_{{\cal B}} =\otimes(\Id \times e).
\]

*** VII.1.0. Monoidal category
A *monoidal category* ${\cal B}$ is a category with a bifunctor $\otimes \colon {\cal B} \times {\cal B} \to {\cal B}$
and three natural isomorphisms

 * $\alpha \colon a \otimes (b \otimes c) \cong (a \otimes b) \otimes c$

 * $\lambda \colon e \otimes a \cong a$

 * $\rho \colon a \otimes e \cong a$

such that the pentagonal diagram commutes

\begin{tikzcd}
a \otimes (b \otimes (c \otimes d)) \dar{1 \otimes \alpha} \rar{\alpha}& 
(a \otimes b) \otimes (c \otimes d) \rar{\alpha}& 
((a \otimes b) \otimes c) \otimes d \dar{\alpha \otimes 1}\\
a \otimes ((b \otimes c) \otimes d) \ar[rr, "\alpha"] & & 
(a \otimes (b \otimes c)) \otimes d
\end{tikzcd}

and the following triangular diagram commutes

\[\begin{tikzcd}[row sep=tiny]
& a \otimes (e \otimes c) \ar[dd, "\alpha"]\dlar[swap]{1 \otimes \lambda}\\ 
a \otimes c &\\
& (a \otimes e) \otimes \ular{\rho \otimes 1}
\end{tikzcd}\]

* IX. Special limits
** IX.1. Filtered limits
*** Directed preorder
A preorder $P$ is *directed* when any two elements have an upper bound.

*** Filtered category
A category ${\cal C}$ is *filtered* when

 1) for any $a,b \in {\cal C}$ there exists a $c$ with arrows $a \to c$, $b \to c$.
 2) for any $u,v \colon a \to b$ exists a $w\colon b \to c$ such that $wu=wv$.

In a filtered category, every finite diagram is base of at least one cone.

* Exercises [35/52]
** I. Categories, functors and natural transformations [19/23]
*** I.3. Functors
**** CHECK Exercise I.3.1
#+begin_statement
Show how each of the following constructions can be regarded as a functor:

 - the field of quotients of an integral domain.
 - the Lie algebra of a Lie group.
#+end_statement

***** Field of quotients
Given two integral domains and a ring homomorphism $f : R \to S$, we
define an homomorphism between its fields of quotients as:

\[
\widetilde{f}\left(\frac{a}{b}\right)
=
\frac{f(a)}{f(b)}
\]

We can prove it is well-defined using that $ab=cd$ implies
$f(a)f(b) = f(c)f(d)$, and then:

\[
\widetilde{f}\left(\frac{a}{b}\right)
=
\frac{f(a)}{f(b)}
=
\frac{f(c)}{f(d)}
=
\widetilde{f}\left(\frac{c}{d}\right)
\]

And it respects sums and products:

\[
\widetilde{f}\left(\frac{a}{b} + \frac{c}{d}\right)
=
\widetilde{f}\left(\frac{ad+cb}{bd}\right)
=
\frac{f(a)f(d)+f(c)f(d)}{f(b)f(d)}
=
\frac{f(a)}{f(b)}+\frac{f(c)}{f(d)}
\]

\[
\widetilde{f}\left(\frac{ac}{bd}\right) =
\frac{f(a)f(c)}{f(b)f(d)}
\]

So it is a field homomorphism.

***** TODO Lie algebra
Given $\phi : G \to H$, a Lie group homomorphism, we can compute its first
derivative at the identity $\phi^*$.
**** DONE Exercise I.3.2
#+begin_statement
Show that functors $1 \to C$, $2 \to C$, and $3 \to C$ correspond respectively to
objects, arrows, and composable pairs of arrows in $C$.
#+end_statement

A functor $F\colon 1 \to C$ is determined by $F1$. A functor $F\colon 2 \to C$ is determined
by $F(1\leq 2)\colon F1 \to F2$. A functor $F\colon 3 \to C$ is determined by $F(1\leq 2)$ and
$F(2\leq 3)$, which must be composable in $F2$.

**** DONE Exercise I.3.3
#+begin_statement
Interpret "functor" in the following special types of categories:

  1. A functor between two preorders is a function $T$ which is monotonic
     (i.e. $p \leq p'$ implies $Tp \leq Tp'$).
  2. A functor between two groups (one-object categories) is a morphism
     of groups.
  3. If $G$ is a group, a functor $G \to \mathtt{Set}$ is a permutation representation
     of $G$, while $G \to Matr_K$ is a matrix representation of $G$.
#+end_statement

***** First statement
A functor must be a monotonic function, as it has to send $(p\leq p')$ into
a morphism between $Tp$ and $Tp'$. This morphism exists if and only if 
$Tp \leq Tp'$.

***** Second statement
It respects the identity and the group operation, as functors respect
the identity and the composition.

***** Third statement
A functor $F\colon G \to \mathtt{Set}$ is determined by $FG$ and the assignment of every
element of $G$ to a set automorphism, that is, an element of the permutation
group of the set.

The functor $F\colon G \to \mathtt{Matr}_K$ selects a dimension $n$, and sends every element
of the group to an invertible matrix $M_{n\times n}$.

**** DONE Exercise I.3.4
#+begin_statement
Prove that there is no functor $\mathtt{Grp} \to \mathtt{Ab}$ sending each group $G$ to its
center. (Consider $S_2 \to S_3 \to S_2$, the symmetric groups).
#+end_statement

A functor must preserve identities and composition. We have the following
diagram in $\mathtt{Grp}$,

\[\begin{tikzcd}
S_2 \rar[hook]\arrow[rr,bend left, "id"] & S_3 \rar & S_2
\end{tikzcd}\]

that cannot be translated into $\mathtt{Ab}$ by this functor

\[\begin{tikzcd}
S_2 \rar & \{id\} \rar &  S_2
\end{tikzcd}\]

as we know that the identity is not the zero morphism.

**** DONE Exercise I.3.5
#+begin_statement
Find two different functors $T : \mathtt{Grp} \to \mathtt{Grp}$ with object function $T(G) = G$
the identity for every group $G$.
#+end_statement

The identity functor and a functor sending every morphism to the zero 
morphism.

*** I.4. Natural transformations
**** DONE Exercise I.4.1
#+begin_statement
Let $S$ be a fixed set, and $X^S$ the set of all functions $h : S \longrightarrow X$.
Show that $X \mapsto X^S$ is the object function of a functor $\mathtt{Set} \longrightarrow \mathtt{Set}$,
and that evaluation $e_X : X^S \times S \longrightarrow X$ defined by $e(h,s) = h(s)$, the
value of the function $h$ at $s \in S$ is a natural transformation.
#+end_statement

We define the functor $\_^S$ on arrows as follows. Given a $f : X \to Y$
and a $g : S \longrightarrow X$:

\[
f^S(g) = f \circ g
\]

And it follows the functor laws.

We can see that evaluation is a natural transformation with the
naturality square:

\[\begin{tikzcd}
X^S \times S \dar{e_X}\rar{f^S,id} & Y^S \times S \dar{e_Y}\\
X \rar{f} & Y
\end{tikzcd}\]

Which commutes on its elements:

\[\begin{tikzcd}
(f,s) \dar{e_X}\rar{g^S,id} & (g\circ f, s) \dar{e_Y}\\
f(s) \rar{f} & g(f(s))
\end{tikzcd}\]

**** DONE Exercise I.4.2
#+begin_statement
If $H$ is a fixed group, show that $G \mapsto H \times G$ defines a functor
$H \times - \colon \mathtt{Grp}\to \mathtt{Grp}$ and that each morphism $f \colon H \to K$ of groups defines
a natural transformation $H \times -\; \dot\to \; K \times -$.
#+end_statement

The functor will send a morphism $f \colon G \to G'$ to $\mathrm{id}\times f\colon H\times G \to H \times G'$.
The naturality condition is satisfied if the following diagram commutes

\[\begin{tikzcd}
H \times G \dar{\mathrm{id}\times f} \rar{g\times\mathrm{id}} & 
K \times G \dar{\mathrm{id}\times f} \\
H \times G' \rar{g\times\mathrm{id}} & 
K \times G'
\end{tikzcd}\]

but it is trivial to check commutativity.

**** DONE Exercise I.4.3
#+begin_statement
If $B$ and $C$ are groups (regarded as categories with one object each) and
$S,T \colon B \to C$ are functors (homomorphisms of groups), show that there is a
natural transformation $S \dot\to T$ if and only if $S$ and $T$ are conjugate; i.e.
if and only if there is an element $h \in C$ with $Tg = h(Sg)h^{-1}$ for all
$g \in B$.
#+end_statement

If the only object in $B$ is $b$, then $Sb = Tb = c$ must be the only object
in $c$. Naturality gives us

\[\begin{tikzcd}
c\rar{\varphi} \dar[swap]{Sf} & c \dar{Tf} \\
c\rar{\varphi} & c
\end{tikzcd}\]

so we know that $Sf \circ \varphi = \varphi \circ Tf$, and this is the conjugate condition.

**** DONE Exercise I.4.4
#+begin_statement
For functors $S,T \colon C \to P$ where $C$ is a category and $P$ a preorder, show
that there is a natural transformation $S \dot\to T$ (which is then unique) if
and only if $Sc \leq Tc$ for every object $c \in C$.
#+end_statement

To define a natural transformation, we must have a familiy of morphisms

\[
Sc \to Tc \quad\forall c \in C,
\]

but this morphism exists if and only if $Sc \leq Tc$ for every object. If the
morphisms exist, the naturality condition is trivial, as there will be
an unique morphism between two objects and all squares will commute.

**** DONE Exercise I.4.5
#+begin_statement
Show that every natural transformation $\tau\colon S \dot\to T$ defines a function
(also called $\tau$) which sends each arrow $f\colon c \to c'$ of $C$ to an arrow
$\tau f\colon Sc \to Tc'$ of $B$ in such a way that $Tg \circ \tau f = \tau(gf) = \tau g\circ Sf$ for
each composable pair $(g,f)$. Conversely, show that every such function $\tau$ 
comes from a unique natural transformation with $\tau_c = \tau(1_c)$. (This gives 
an arrows only description of a natural transformation.)
#+end_statement

Given $f\colon c \to c'$, we apply the naturality condition and take $\tau$ to be the
diagonal

\[\begin{tikzcd}
Sc \drar{\tau f} \rar{\tau} \dar[swap]{Sf} & Tc \dar{Tf} \\
Sc'\rar{\tau} & Tc'
\end{tikzcd}\]

i.e. we have defined $\tau f = Tf\circ \tau_c = \tau_{c'} \circ Sf$. The condition holds now 
trivially, as we know that

\[
Tg \circ \tau f = Tg\circ Tf\circ \tau_c = \tau(gf) = \tau_{c'}\circ Sg\circ Sf
= \tau g \circ Sf.
\]

**** TODO Exercise I.4.6
#+begin_statement
Let $F$ be a field. Show that te category of all finite-dimensional vector
spaces over $F$ (with morphisms all lineal transformations) is equivalent
to the category $\mathtt{Matr}$.
#+end_statement
*** I.5. Monics, epis and zeros
**** DONE Exercise I.5.1
#+begin_statement
Find a category with an arrow which is both epi and monic, but not 
invertible (e.g., dense subset of a topological space).
#+end_statement

In the $\mathtt{Top}$ category of topological spaces with continuous functions,
we can include a dense subset in its base space. This inclusion will
be a monomorphism (as it is injective) and an epimorphism as we know
that, if $i \colon U \subset V$ is our inclusion,

\[ f\circ i = i \circ g \implies f|_{U} = g|_{U},\]

and because it is a dense subset, by continuity, $f = g$.

But it has not to be an isomorphism. In fact, it won't be if $U$ is a
proper subset.

**** DONE Exercise I.5.2
#+begin_statement
Prove that the composite of monics is monic, and likewise for epis.
#+end_statement

If $f,g$ are monics, we can apply the definition twice to get

\[
f \circ g \circ a = f \circ g \circ b \implies
g \circ a = g\circ b \implies
a = b.
\]

The same proof can be applied in reverse.

**** DONE Exercise I.5.3
#+begin_statement
If a composite $g\circ f$ is monic, so is $f$. Is this true of $g$?
#+end_statement

No, $f$ could be a zero morphism and $g$ could still give $g\circ h = g\circ h'$ for
two $h \neq h'$.

**** DONE Exercise I.5.4
#+begin_statement
Show that the inclusion $\mathbb{Z} \to \mathbb{Q}$ is epi in the category $\mathtt{Rng}$.
#+end_statement

If $f \circ i = g \circ i$, then $f|_{\mathbb{Z}} = g|_{\mathbb{Z}$, and we can extend the morphisms uniquely
to the ring $\mathbb{Q}$, as the ring morphisms have to preserve inverses.

**** TODO Exercise I.5.5
#+begin_statement
In $\mathtt{Grp}$ prove that every epi is surjective (Hint. If $\varphi\colon G\to H$ has image
$M$ not $H$, use the factor group $H/M$ if $M$ has index 2. Otherwise, let
$\mathrm{Perm}\ H$ be the group of all permutations of the set $H$, choose three
different cosets $M,Mu$ and $Mv$ of $M$, define $\sigma \in \mathrm{Perm}\ H$ by
$\sigma(xu) = xv$, $\sigma(xv) = xu$ for $x \in M$, and $\sigma$ otherwise the identity.
Let $\psi\colon H \to \mathrm{Perm}\ H$ send each $h$ to left multiplication $\psi_h$ by $h$, while
$\psi'_h = \sigma^{-1}\psi_h\sigma$. Then $\psi\varphi = \psi'\varphi$, but $\psi \neq \psi'$).
#+end_statement

**** DONE Exercise I.5.6
#+begin_statement
In $\mathtt{Set}$, show that all idempotents split.
#+end_statement

Given $f \colon A \to A$ idempotent, we can define the set $\mathrm{img}\ f$, and two functions
$g \colon A \to \mathrm{img}\ f$, $h\colon \mathrm{img}\ f \to A$ defined naturally and satisfiying the conditions.
Notice that $g$ is an epimorphism and $h$ a monomorphism.

**** DONE Exercise I.5.7
#+begin_statement
An arrow $f \colon a \to b$ in a category $C$ is /regular/ when there exists an arrow
$g\colon b \to a$ such that $fgf = f$. Show that $f$ is regular if it has either a left or
a right inverse, and prove that every arrow in $\mathtt{Set}$ with $a \neq \varnothing$ is regular.
#+end_statement

If $f$ has either a right or a left inverse, it is trivial that it is regular.

If $a \neq \varnothing$, we can take $x_y \in \left\{ x \in a \mid f(x) = y \right\}$, a representative of the class
of elements that are mapped onto $y$, and $u \in a$ an arbitrary element, and define

\[
g(y) = \left\{\begin{array}{ll} 
x_y & \mbox{if } y \in \mathrm{img}(f)  \\
u & \mbox{otherwise }
\end{array} 
\right.
\]

and this morphism makes the $f$ regular. (Have we used the choice axiom to define
the representatives?)

**** DONE Exercise I.5.8
#+begin_statement
Consider the category with objects $\left\langle X,e,t \right\rangle$, where $X$ is a set, $e \in X$, and
$t \colon X \to X$, and with arrows $f\colon \left\langle X,e,t \right\rangle \to \left\langle X',e',t' \right\rangle$ the functions $f$ on $X$ to $X'$
with $fe=e'$ and $ft = tf'$. Prove that this category has an initial object in
which $X$ is the set of natural numbers, $e=0$, and $t$ is the successor function.
#+end_statement

We will prove that $\left\langle \mathbb{N},0,S \right\rangle$ is the initial object. For every object $\left\langle X,e,t \right\rangle$,
we only can define a function $f$, its image on zero is determined by the
first arrow condition $f(0) = e$, and its image in every other natural is
determined as

\[
f(n) = f(S \circ \overset{n}\dots \circ S(0)) = t\circ \overset{n}\dots \circ t(f(0)).
\]

**** DONE Exercise I.5.9
#+begin_statement
If the functor $T \colon C \to B$ is faithful and $Tf$ is monic, prove $f$ monic.
#+end_statement

If $f\circ g = f \circ h$, we have $Tf\circ Tg = Tf\circ Th$. $Tf$ is monic and $T$ is faithful, so
we get $g = h$.

*** I.6. Foundations
**** CHECK Exercise I.6.1
#+begin_statement
Given a universe $U$ and a function $f \colon I \to b$ with domain $I \in U$ and
with every value $f_i$ an element of $U$, for $i \in I$, prove that the usual
cartesian product $\prod_i f_i$ is an element of $U$.
#+end_statement

An element of the cartesian product will be a function $g \colon I \to \bigcup f_i$,
where $g(i) \in f_i$ for every $i \in I$. Our cartesian product is defined as

\[
\left\{ x \in {\cal P}\left( I \times \bigcup f_i \right) \;\middle|\; 
\left( \forall (i,b) \in x \colon b \in f_i \right) \wedge
\left( \forall j \in I\colon \exists! (i,b) \in x\colon j = i \right)
\right\}.
\]

Notice that the powerset and the union of elements in $U$ are elements
in $U$.

**** TODO Exercise I.6.2
#+begin_statement
(a) Given a universe $U$ and a function $f \colon I \to b$ with domain $I \in U$, show
that the usual union $\bigcup_i f_i$ is a set of $U$.

(b) Show that this one closue property of $U$ may replace condition (v) and the
condition $x \in U$ implies $\bigcup x \in U$ in the definition of a universe.
#+end_statement
** II. Constructions on categories [6/11]
*** II.3. Products of categories
**** DONE Exercise II.3.1
#+begin_statement
Show that the product of categories includes the following known special
cases: The product of monoids (categories with one object), of groups,
of sets (discrete categories).
#+end_statement

The product of two monoids or groups has only one object, and so it is
a monoid or group. Every pair of isomorphisms has an inverse given by
the pair of inverses, and because of that, we know that the product of
two groups is in fact a group.

The product of two sets has no nontrivial morphisms and only pairs of
objects as objects.

**** DONE Exercise II.3.2
#+begin_statement
Show that the product of two preorders is a preorder.
#+end_statement

The product of two preorders gives the product preorder, where $(a,b) \leq (a',b')$
if and only if $a \leq a'$ and $b\leq b'$. That pair of morphisms is witness of the 
order.

**** DONE Exercise II.3.3
#+begin_statement
If $\left\{ C_i \mid i \in I \right\}$ is a family of categories indexed by a set $I$, describe the
product $C= \prod_iC_i$, its projections $P_i\colon C \to C_i$, and establish the universal
property of these projections.
#+end_statement

An object in this category is a function assigning $i \mapsto c_i \in C_i$. A morphism
between it and $i \mapsto d_i \in C_i$ is a function assigning $i \mapsto (f_i \colon c_i \to d_i)$ and
componentwise composition. Its projections are only the functors given by
evaluation on any element in $I$.

Given any other family of functors $D \to C_i$, we can define a functor to $C$
componentwise, being the unique functor making a product diagram commute.

**** TODO Exercise II.3.4
#+begin_statement
Describe the opposite of the category $\mathtt{Matr}_K$.
#+end_statement

**** DONE Exercise II.3.5
#+begin_statement
Show that the ring of continuous real-valued functions on a topological
space is the object function of a contravariant functor on $\mathtt{Top}$ to $\mathtt{Rng}$.
#+end_statement

We are going to define the functor $T \colon \mathtt{Top}\to \mathtt{Rng}$ taking $Tf$ to be
$(\circ f) \colon \mathrm{hom}_{\mathtt{Top}}(Y,\mathbb{R}) \to \mathrm{hom}_{\mathtt{Top}}(X,\mathbb{R})$ for any given $f \colon X \to Y$. It is 
trivially a functor, as it preserves composition.

We know that the composition of two continuous functions is
continuous, and we have to prove that $(\circ f)$ is a ring homomorphism,
but it is trivial that

\[\begin{aligned}
(g\cdot h) \circ f &= (g \circ f) \cdot (h \circ f) \\
(g + h) \circ f &= (g \circ f) + (h \circ f). \\
\end{aligned}
\]

*** II.4. Functor categories
**** TODO Exercise II.4.1
#+begin_statement
For $R$ ring, describe $R\text{-Mod}$ as a full subcategory of the functor category
$\mathtt{Ab}^R$.
#+end_statement

**** TODO Exercise II.4.2
#+begin_statement
Describe $B^X$, for $X$ a finite set (a finite discrete category).
#+end_statement

**** TODO Exercise II.4.3
#+begin_statement
Let $\mathbb{N}$ be the discrete category of natural numbers. Describe the functor
category $\mathtt{Ab}^{\mathbb{N}}$ (commonly known as the category of graded abelian groups). 
#+end_statement

*** II.5. The category of all categories
**** TODO Exercise II.5.1
#+begin_statement
For small categories $A$, $B$ and $C$ establish a bijection

\[ \mathrm{hom}(A \times B, C) \cong \mathrm{hom}(A, C^B),
\]

and show it natural in $A$, $B$ and $C$. Hence show that $-\times B \colon \mathtt{Cat}\to \mathtt{Cat}$ has
a right adjoint.
#+end_statement

*** II.6. Comma categories
**** DONE Exercise II.6.1
#+begin_statement
If $K$ is a commutative ring, show that the comma category $(K \downarrow \mathtt{CRng})$ is
the usual category of all small commutative $K\text{-algebras}$.
#+end_statement

A $K\text{-algebra}$ can be defined as an inclusion from $K$ on a ring, morphisms
of algebras must preserve this inclusion.

# A more detailed proof would be interesting.

**** DONE Exercise II.6.2
#+begin_statement
If $t$ is a terminal object in $C$, prove that $(C \downarrow t)$ is isomorphic to $C$.
#+end_statement

By definition of terminal object, there will be only an arrow 
$\ast \colon u \to t$ for any $u \in C$. Every morphism will create a commutative 
diagram because of the unicity of the morphisms.

** III. Universals and limits [9/16]
*** III.1. Universal arrows
**** DONE Exercise III.1.1
#+begin_statement
Show how each of the following familiar constructions can be interpreted
as a universal arrow:

 * The integral group ring of a group (better, of a monoid).
 * The tensor algebra of a vector space.
 * The exterior algebra of a vector space.
#+end_statement

***** The integral group ring (monoid)
The integral group ring $\mathbb{Z}G$ is defined as the initial object of $(G \downarrow {\cal U})$,
where ${\cal U}$ is the functor that takes a ring and returns its group of units.

***** The tensor algebra of a vector space
The tensor algebra $T(V)$ is defined as the initial object of $(V \downarrow U)$,
where $U\colon \mathtt{Alg}_k \to \mathtt{Vect}_k$ is the forgetful functor.

***** The exterior algebra of a vector space
The same construction as above can be performed on the full subcategory of
external algebras.

**** DONE Exercise III.1.2
#+begin_statement
Find a universal element for the contravariant power set functor
${\cal P} \colon \mathtt{Set}^{op} \to \mathtt{Set}$.
#+end_statement

The universal arrow for $A$ will be its inclusion in ${\cal P}{\cal P}A$ as

\[
i(a) = \left\{ U \in {\cal P}A \mid a \in U \right\}.
\]

Given a morphism $f \colon A \to {\cal P}B$, we define $g \colon B \to {\cal P}A$ as

\[
g(b) = \left\{ a \in A \mid b \in f(a) \right\}.
\]

And its image when the functor is applied is

\[
{\cal P}g(\mathbb{A}) = g^{-1}(\mathbb{A})
= \left\big\{ b \in B \mid \left\{ a \mid b \in f(a) \right\} \in \mathbb{A} \right\big\}.
\]

The $g$ is unique, as it is defined by $x \in f(a) \iff a \in g(x)$.

**** DONE Exercise III.1.3
#+begin_statement
Find (from any given object) universal arrows to the following forgetful
functors: $\mathtt{Ab} \to \mathtt{Grp}$, $\mathtt{Rng}\to \mathtt{Ab}$ (forget the multiplication), $\mathtt{Top} \to \mathtt{Set}$,
$\mathtt{Set}_{\ast} \to \mathtt{Set}$.
#+end_statement

***** Abelian groups to groups
The universal arrow defines the [[https://en.wikipedia.org/wiki/Commutator_subgroup][abelianization]] of the group. A morphism
from a group to an abelian group must have the commutator subgroup in 
its kernel

\[f(aba^{-1}b^{-1}) = f(a)f(b)f(b)^{-1}f(a)^{-1} = 1.\]

Thus, every morphism can be factorized in $G/[G,G]$, giving

\[\begin{tikzcd}
g \rar[hook]{i}\drar[swap]{f} & G/[G,G]\dar[dashed]{\widetilde f} \\
  & h & .
\end{tikzcd}\]

***** WIP Rings to abelian groups
A tensor Z-algebra over the abelian group.

***** Topological spaces to sets
The inclusion on the discrete topology over the set is an universal
arrow. If we define any application $f\colon A \to O$, there is an unique 
continuous function $\widetilde f \colon (A,\tau_d) \to (O,\tau)$ defined by $\widetilde f(x) = f(x)$. It is
trivially continuous, as $\tau_d$ is the discrete topology.

***** Pointed sets to sets
Trivially, the inclusion on $(S \cup \left\{ \ast \right\}, \ast)$ defines an universal arrow.

**** TODO Exercise III.1.4
#+begin_statement
Use only universality (of projections) to prove the following isomorphisms of
group theory:

 1) For normal subgroups $M,N$ of $G$ with $M \subset N$, $(G/M)(N/M) \cong (G/M)$.
 2) For subgroups $S$ and $N$ of $G$, $N$ normal, with join $SN$, $SN/N \cong S/S\cap N$.
#+end_statement

**** TODO Exercise III.1.5
#+begin_statement
Show that the quotient $K\text{-module}$ $A/S$ ($S$ a submodule of $A$) has a description
by universality. Derive isomorphism theorems.
#+end_statement

**** TODO Exercise III.1.6
#+begin_statement
Describe quotients of a ring by a two-sided ideal by universality.
#+end_statement

**** TODO Exercise III.1.7
#+begin_statement
Show that the construction of the polynomial ring $K[x]$ in a indeterminate $x$
over a commutative ring $K$ is a universal construction.
#+end_statement

*** III.2. Yoneda Lemma
**** DONE Exercise III.2.1
#+begin_statement
Let functors $K,K' \colon D \to \mathtt{Set}$ have representations $\left\langle r,\psi \right\rangle$ and $\left\langle r',\psi' \right\rangle$, 
respectively. Prove that to each natural transformation $\tau\colon K \overset{\cdot}\to K'$,
there is a unique morphism $h \colon r' \to r$ of $D$ such that

\[
\tau\circ \psi = \psi' \circ D(h,-) \colon D(r,-) \overset{\cdot}\to K'.
\]
#+end_statement

The following natural transformation

\[\begin{tikzcd} 
\mathrm{hom}(r,-) \rar{\psi}&
K \rar{\tau}&
K' \rar{\psi'^{-1}}& 
\mathrm{hom}(r',-),
\end{tikzcd}\]

[[*Corollary to Yoneda Lemma][must]] have the form $h_{\ast}$ for a unique $h\colon r' \to r$, so $\tau \circ \psi = \psi' \circ h_{\ast}$.

**** TODO Exercise III.2.2
#+begin_statement
State the dual of the Yoneda Lemma ($D$ replaced by $D^{op}$).
#+end_statement

*** III.3. Coproducts and colimits
**** DONE Exercise III.3.1
#+begin_statement
In the category of commutative rings, show that $R \to R \otimes S \gets S$, with maps
$r \mapsto r \otimes 1$, $s \mapsto 1\otimes s$, is a coproduct diagram.
#+end_statement

Given $\alpha\colon R \to T$ and $\beta\colon S \to T$; the unique homomorphism making the diagram
commute must be defined by

\[f(r\otimes s) = f(r\otimes 1)f(1 \otimes s) = \alpha(r) \beta(s).\]
*** III.4. Products and limits
**** DONE Exercise III.4.1
#+begin_statement
In $\mathtt{Set}$, show that the pullback of $f\colon X \to Z$ and $g \colon Y \to Z$ is given
by the set of pairs $\left\{ (x,y) \mid x \in X, y \in Y, fx = gy \right\}$. Describe pullbacks
in $\mathtt{Top}$.
#+end_statement

Let $h_x,h_y$ be two functions such that $f(h_x(c)) = g(h_y(c))$. Then the only
possible $\phi \colon C \to P = \left\{ (x,y) \mid fx =gy \right\}$ is $\Phi(c) = (h_xc,h_yc) \in P$.

In $\mathtt{Top}$, the pullback is similar: it is a subspace of the product given
by $\left\{ (x,y) \mid fx = gy \right\}$.

**** DONE Exercise III.4.4
#+begin_statement
In any category, prove that $f\colon a \to b$ is epi if and only if the following
square is a pushout

\[\begin{tikzcd}
a\rar{f} \dar[swap]{f} & b \dar{1} \\
b\rar{1} & b &.
\end{tikzcd}\]
#+end_statement

The usual definition of epimorphism is equivalent to the universal
property.

**** DONE Exercise III.4.5
#+begin_statement
In a pullback square, show that $f$ monic implies $q$ monic.
#+end_statement

If $n,m \colon c \to b \times d$, with $n\pi_2 = m\pi_{2}$; as we know that $n\pi_1 f = m\pi_1 f$, we
can use monicity to get $n\pi_1 = n\pi_2$. By universal property of the pullback
square, $n = m$.

*** III.5. Categories with Finite Products
**** DONE Exercise III.5.1
#+begin_statement
Prove that the diagonal $\delta_c \colon c \to c \times c$ is natural in $c$.
#+end_statement

We use the identity $\pi_1\delta_c = 1_c = \pi_2\delta_c$ to create the four commutative
triangles that we use in this diagram. The commutativity of the diagram
follows from the universal property of the product.

\[\begin{tikzcd}
& c\dar{\delta}\dlar[swap,bend right]{id}\drar[bend left]{id} & \\
c \dar{f} & c \times c\lar[swap]{\pi}\rar{\pi} \dar{f \times f} & c \dar{f} \\
d\drar[bend right]{\delta} & d \times d \lar[swap]{\pi}\rar{\pi}\dar{id} & 
d\dlar[bend left,swap]{\delta} \\
& d\times d \\
\end{tikzcd}\]

**** TODO Exercise III.5.5
#+begin_statement
If $B$ has (finite) products show that any functor category $B^C$ also has (finite)
products (calculated "pointwise").
#+end_statement
** IV. Adjoints [1/2]
*** IV.1. Adjunctions
**** DONE Exercise IV.1.2
#+begin_statement
Given functors $G\colon A \to X$ and $F \colon X \to A$, show that each adjunction $\left\langle F,G,\varphi \right\rangle$ can
be described as an isomorphism $\theta$ of comma categories such that the following diagram
commutes

\begin{tikzcd}[column sep=none]
\theta\colon & (F \downarrow I_{A})\dar & \cong & (I_x \downarrow G)\dar \\
& X \times A & = & X \times A & &.
\end{tikzcd}

Here the vertical maps have components the projection functors $P$ and
$Q$ of II.6(5).
#+end_statement

Given an adjunction $\varphi \colon \mathrm{hom}(Fx,y) \cong \mathrm{hom}(x,Gy)$, we can define the isomorphism
in objects as $\theta(f \colon Fx \to y) = (\varphi f \colon x \to Gy)$. And the isomorphism on morphisms
as

\begin{tabular}{ccc}
\begin{tikzcd}
Fx \dar{f}\rar{Fk} & Fx' \dar{f'} \\
y \rar{h} & y'
\end{tikzcd} 
& \Longrightarrow &
\begin{tikzcd}
x \dar{\varphi f}\rar{k} & x' \dar{\varphi f'} \\
Gy \rar{Gh} & Gy'
\end{tikzcd}
\end{tabular}

where the commutativity of the second diagram follows from the commutativity of the
first one if we apply naturality of $\varphi$. This $\theta$ is bijective and respects composition
trivially. The given diagram commutes.

# Are all isomorphisms on this form adjunctions?

**** TODO Exercise IV.1.3
#+begin_statement
For the adjunction $\left\langle \Delta,\times,\varphi \right\rangle$, show that the unit $\delta_c : c \to c \times c$ for each object
$c \in C$ is the unique arrow such that the diagram

\[\begin{tikzcd}
& C\drar{1}\dlar[swap]{1}\dar[dashed]{\delta_c} & \\
c & c \times c \rar[swap]{q}\lar{p} & c
\end{tikzcd}\]

commutes. This arrow is often called the /diagonal arrow/ of $c$. If $C = \mathtt{Set}$, show
that $\delta_cx = \left\langle x,x \right\rangle$ for $x \in c$.
#+end_statement
