#+TITLE: Categories for the working mathematician
#+DESCRIPTION: Exercises on the Saunders MacLane's book

#+SETUPFILE: config.setup
#+SETUPFILE: essay.setup
#+LANGUAGE: en
#+OPTIONS: toc:nil
#+TODO: TODO WIP | CHECK

* Categories for the working mathematician
** I. Categories, Functors and Natural Transformations
*** I.1. Axioms for categories
**** Metagraph
A *metagraph* consists of objects $a,b,c,\dots$ and arrows $f,g,h,\dots$, with two 
operations:

  - *domain*, $dom(f) = a$, and
  - *codomain*, $cod(f) = b$,

that we write as $f : a \to b$.

**** Metacategory
A *metacategory* is a metagraph with two additional operations:

  - *Identity*: $id_a : a \to a$
  - *Composition*: for a pair of arrows $dom(g) = cod(f)$, it defines a
    new arrow $g \circ f : dom(f) \to cod(g)$.

    \[\begin{tikzcd}
    & b \drar{g} & \\
    a \arrow{rr}{g\circ f} \urar{f} & & c
    \end{tikzcd}\]

Subject to the following axioms:

  - *Associativity*: Given objects and arrows in this configuration:
    
    $a \overset{f}\to b \overset{g}\to c \overset{k}\to d$

    We have the equality: $k \circ (g \circ f) = (k \circ g) \circ f$.

  - *Unit law*: composition with the identity arrow is neutral.

***** Metacategory of Sets
***** Metacategory of Groups
***** Arrow-only axioms
*** I.2. Categories
**** Category
An interpretation of a metacategory within set theory.

***** Diagram scheme (directed graphs)
A category is a graph with identity and composition functions.

**** Examples of categories
***** Basic examples
****** The empty category
****** 1, the category with one object and one identity
****** 2, the category a -> b with two objects
****** 3, a triangle category
****** Parallel arrows

***** Discrete categories
Where every arrow is an identity.

***** Monoids and groups
A category with one object.

***** Matrices
Objects: positive integers.
Arrows: $m\times n$ matrices.

***** Sets of sets
***** Preorder
****** Partial orders
****** Linear orders
***** Ordinal numbers
***** Simplicial category
***** Large categories
*** I.3. Functors
**** Functor
A morphism of categories. A functor $T : {\cal C} \to {\cal B}$ is given by:

  - The *object function*, $T : Obj({\cal C}) \to Obj({\cal B})$.
  - The *arrow function*, $T : (c \to c') \to (Tc \to Tc')$

With the axioms:

  - $T(1_c) = 1_{Tc}$
  - $T(f\circ g) = Tg \circ Tf$

**** Examples
***** The powerset functor
***** Homology groups
***** General linear group
***** Commutators
***** Forgetful functors
**** Composition of functors, the metacategory Cat
We can define composition of functors, and also functors as isomorphisms.

***** Isomorphisms
A functor is an isomorphism iff there is a functor $S : B \to C$ for 
which both composites are the identity $S \circ T = Id = T \circ S$.

***** Full functor
Every $g : c \to c'$ of $B$ is of the form $Tf : Tc \to Tc'$. In other words,
the arrow function (the map!) is injective.

***** Faithful functor
The equality $Tf_1 = Tf_2$ implies $f_1 = f_2$. In other words, the arrow
function is surjective.

***** Subcategories
A subcategory gives us an inclusion functor.

*** I.4. Natural transformations
**** Natural transformation
Given two functors $S,T : C \to B$, a natural transformation $\tau : S \xrightarrow{.} T$
is a function assigning every $c \in C$ an arrow $Sc \to Tc$ and yielding
a commutative diagram:

\[\begin{tikzcd}
c \dar{f} & & Sc \rar{\tau_c}\dar{Sf} & Tc \dar{Tf} \\
c' & & Sc' \rar{\tau_{c'}} & Tc'
\end{tikzcd}\]

We say that $\tau_c$ is natural in $c$.

***** Translation of pictures
A natural transformation translates a diagram from $S$ to $T$.

\[\begin{tikzcd}
a \arrow{dd}{h}\drar{f} &   & & S a \arrow{dd}{S h}\drar{S f} \arrow{rrr}{\tau a} &     & & T a \arrow{dd}{T h}\drar{T f} &     \\
  & b \dlar{g} & &     & S b \dlar{S g} \arrow{rrr}{\tau b} & &     & T b \dlar{T g} \\
c &   & & S c \arrow{rrr}{\tau c} &     & & T c &     \\
\end{tikzcd}\]

**** Natural isomorphisms
A natural transformation is a morphism of functors. We call 
*natural isomorphism* to a natural transformation where every 
component $\tau_c$ is invertible. We write it as:

$\tau : S \cong T$

The inverses form another natural transformation.

**** Examples
***** Determinant
Natural transformation between two functors
$GL, {\cal U}() : \mathtt{CRng} \longrightarrow \mathtt{Grp}$.

***** Identity and factor-commutator functor

***** Double character group
Defined as $D(G) = Hom(G, \mathbb{R}/\mathbb{Z})$, it is a contravariant functor when 
we define $(Df) t = t \circ f$. But the twice iterated functor $D^2$ is a 
covariant one.

There is a natural transformation between $Id$ and $D^2$.

\[
\tau_G(g) t = t(g)
\]

It is easy (with lambda calculus, for example) to check that this
diagram commutes.

***** Double dual of a finite vectorial space

***** Inclusion and cardinality of ordinals

*** I.5. Monics, epis and zeros
**** Isomorphism
An arrow $e : a \to b$ is an isomorphism if there is an arrow $e^{-1} : b \to a$
such that $e'e = 1$ and $ee' = 1$.

***** Isomorphic objects
Two objects are isomorphic if there is an isomorphism between them.

**** Monic and epi
An arrow is *monic* if it is left cancellable, it is *epi* if it is
right cancellable.

***** Retractions and sections
A left inverse is called a *retraction*, while a right inverse is
called a *section*.

**** Splits and idempotents
When $gh = 1$, $g$ is a split epi, $h$ is a split monic and the composite
$hg$ is an idempotent. An arrow is *idempotent* if $f^2 = f$, and it is said
to split when there exist arrows $g$ and $h$ such that $f = hg$ and $gh = 1$.

**** Terminal objects and initial objects
An object $t$ is terminal if for every $a$ there is exactly one arrow $a \to t$.
An object $s$ is initial if for every $a$ there is exactly one arrow $s \to a$.
An object $z$ is null if it is both initial and terminal.

***** Zero arrow
There is an unique arrow $a \to z \to b$ called the *zero* arrow. Any 
composite with it is itself a zero arrow.

**** Groupoids
A category where every arrow is invertible.

***** The fundamental groupoid
***** Group of homomorphisms
In a groupoid, each object determines a group, $hom(x,x)$.
If there is an arrow $f : x \to x'$, the groups $hom(x,x)$ and $hom(x',x')$
are isomorphic under conjugation $g \mapsto fgf^{-1}$.

***** Connected groupoid
A *connected groupoid* is deteremined by a group and the set of
all objects.

*** I.6. Foundations
**** Universe
An universe is a set $U$ with the closure properties:

  1. $x \in u \in U \implies x \in U$.
  2. e$u,v \in U \implies \{u,v\},(u,v),u\times v \in U$.
  3. $x \in U \implies {\cal P}x, \cup x \in U$.
  4. $\omega \in U$ where $\omega = \{0,1,2,\dots\}$.
  5. $f : a \to b$ surjective and $a \in U$, $b \subseteq U$ implies $b \in U$.

**** Small sets
Fixed an universe, we call a set $u \in U$ a *small set*. The universe is
the set of all small sets. $\mathtt{Set}$ denotes the category of small sets.

***** Small structures
A small group is a small set with a group structure. $\mathtt{Grp}$ denotes the
category of small groups.

***** Small categories
A category is small if the set of its arrows and objects are both small
sets. $\mathtt{Set}$ is not a small category.

*** I.7. Large categories
**** Abelian groups
**** Rings
**** Modules over a ring
**** Bimodules
**** Topological spaces with continuous maps
**** Topological spaces with homotopy classes
**** Pointed sets
**** Binary relations
**** Concrete categories
*** I.8. Hom-Sets
**** Hom-set
For objects $a,b \in C$, the *hom-set* is the set of all arrows between them:

\[
hom(a,b) = \{ f \mid f : a \to b \}
\]

***** Redefinition of a category
A small category is given by:

  1. Set of objects $a,b,\dots$
  2. Hom-set between two objects $hom(a,b)$
  3. Composition function $hom(b,c)\times hom(a,b) \to hom(a,c)$
  4. Identity function for every object, $id \in hom(a,a)$

The distributivity can be seen as commutativity of the following
diagram:

\[\begin{tikzcd}
hom(c,d)\times hom(b,c)\times hom(a,b) \rar\dar &
hom(b,d)\times hom(a,b) \dar \\
hom(c,d)\times hom(a,c) \rar &
hom(a,d)
\end{tikzcd}\]

**** Preadditive category
A category $A$ where each hom-set $hom(a,b)$ is an additive abelian group
for which composition is bilinear:

\[
(g+g')\circ(f+f') = g\circ f + g\circ f' + g' \circ f + g' \circ f'
\]

**** Preadditive category as an enriched category
A preadditive category is given by:

  1. Set of objects $a,b,\dots$
  2. Hom-set, an abelian group between two objects $hom(a,b)$
  3. A bilinear composition $hom(b,c) \otimes hom(a,b) \to hom(a,c)$
  4. Identity morphism for every object, $\mathbb{Z} \to hom(a,a)$

We can see the similitude with the definition of a category by hom-sets.
Categories created in this way are called *enriched categories*.

** II. Constructions on categories
*** II.1. Duality
**** Elementary theory of an abstract category (ETAC)
A theory with statements involving:

  - Domains: $a = dom(f)$
  - Codomains: $b = codom(f)$
  - Composition: $h = g \circ f$

A *sentence* is a statement with all variables quantified, using
the logical connectives and quantifiers.

***** Dual of an statement
A dual is formed by making the following replacements:

  - $a = dom(f)$ changes to $a = codom(f)$
  - $h = g \circ f$ changes to $h = f \circ g$
  - Logic is unchanged.

***** Table of dualities
\begin{tabular}{l|r}
Statement & Dual statement \\
\hline
$f : a \to b$ & $f : b \to a$ \\
$a = \operatorname{dom} f$ & $a = \operatorname{cod} f$ \\
$h = g \circ f$ & $h = f \circ g$ \\
$f$ mono & $f$ epi
\end{tabular}

**** Duality principle
The dual of each of the axioms for a category is also an axiom. Therefore,
if $\Sigma$ is a consequence of the axioms, so is its dual statement.

**** Duality and functors
The elementary theory of one functor has the axioms of two categories
$A,B$, and the properties of a functor $T$ between them. The duality for
a statement involving several categories reverses the arrows in each
category, but does not reverse the functors.

*** II.2. Contravariance and opposites
**** Opposite category
The *opposite category*, $C^{op}$, is defined with the objects of $C$; for each 
arrow $f : a \to b$ of $C$, the corresponding $f^{op} : b \to a$ is defined with the 
composition

\[
f^{op} \circ g^{op} = (g\circ f)^{op}.
\]

***** Opposite functors
If $T : C \to B$ is a functor, we can create an opposite functor
$T^{op} : C^{op} \to B^{op}$. The assignment $C \to C^{op}$ defines a covariant functor
$\mathtt{Cat} \to \mathtt{Cat}$.

**** Contravariant functors
A functor $S : C^{op} \to B$ can be seen as a *contravariant* functor $S : C \to B$,
knowing that

\[
S(f^{op}\circ g^{op}) = (Sf^{op})(Sg^{op}) = S((g\circ f)^{op}).
\]

***** Examples: Hom-sets
For each object $a \in C$, the *contravariant hom-functor* $hom(a,-)$ and
the *covariant hom-functor* $hom(-,a)$ are defined.

***** Examples: Sheafs
Given $X$, a topological space. Its open sets define a category by 
inclusion, $\mathtt{Open}(X)$. Let ${\cal C}(U)$ denote the set of continuous functions
$h : U \to \mathbb{R}$, the assignment $h \mapsto h|_V$ is a function ${\cal C}(U)\to{\cal C}(V)$ for
each $V \subset U$; and this gives us a contravariant functor.

***** Examples: R-Modules
$\mathtt{ModR} : \mathtt{Rng} \to \mathtt{Cat}$ is a contravariant functor. If $\rho : R \longrightarrow S$ is a morphism
of rings, given $B$ an S-module, we can define $(Mod\rho) B = B\rho$ by pull-back.

*** II.3. Products of categories
**** Product of two categories
Given $B,C$ two categories, we construct a category $B \times C$ with:

  - Objects: pairs of objects $(b,c)$
  - Arrows: pairs of arrows $(f,g)$

and the composition is given by the composites in $B$ and $C$:

\[
(f',g') \circ (f,g) = (f' \circ f,g' \circ g)
\]

We can define projection functors $P : B\times C \to B$, $Q : B\times C \to C$. Given
any category $D$ and two functors $B \overset{R}\longleftarrow D \overset{T}\longrightarrow C$, there is an unique 
functor $F : D \to B\times C$ with $PF = R, QF = T$.

\[\begin{tikzcd}
& D \drar{T}\dlar[swap]{R} \dar[dashed]{\exists! F} & \\
B & B\times C \rar[swap]{Q}\lar{P} & C
\end{tikzcd}\]

**** Product of functors
Two functors $U : B \to B'$, $V : C\to C'$ have a product:

\[
U\times V : B\times C \to B'\times C'
\]

That can be described as the unique functor making the following
diagram commutative:

\[\begin{tikzcd}
B \dar{U} &
B \times C  \rar{Q}\lar[swap]{P} \dar[dashed]{U \times V}&
C \dar{V} \\
B' &
B' \times C' \rar[swap]{Q'}\lar{P'}&
C'
\end{tikzcd}\]

***** Product as a functor
The product of categories can be seen as a functor:

\[
\times : \mathtt{Cat} \times \mathtt{Cat} \to \mathtt{Cat}
\]

***** Bifunctors
Our definition of product category gives an automatic definition for
a *bifunctor*, a functor of two variables.

**** Bifunctor determined by its currifications
Let $B,C,D$ be categories. For all objects $c \in C, b \in B$, let $L_c : B \to D$
and $M_b : C \to D$ be functors such that $M_b(c) = L_c(b)$.

There exists a bifuctor $S : B\times C \to D$ such that $S(-,c) = L_c$
and $S(b,-) = M_b$ iff for every pair of arrows:

\[
M_{b'}g \circ L_c f = L_{c'}f \circ M_b g
\]

so we can define the value of $S(f,g)$ uniquely.

***** TODO Proof

**** Natural transformations between bifunctors
Given bifunctors $S,S'$, the function $\alpha$ is a natural transformation
$\alpha : S \Rightarrow S'$ iff $\alpha(b,c)$ is natural in $b$ and natural in $c$.

***** TODO Proof

*** II.4. Functor categories
**** Composition of natural transformations
Given functors $R,S,T : C \to B$ and natural transformations $\tau : S\to T$
and $\sigma : R \to S$, their compositions define composite arrows which are
the components of the composite natural transformation $\tau \cdot \sigma$.

\[\begin{tikzcd}
Rc \rar{Rf}\dar{\sigma_c}\arrow[dd,bend right=90]{(\tau \circ \sigma)_c} &
Rc' \dar{\sigma_{c'}} \arrow[dd,bend left=90]{(\tau\circ\sigma)_{c'}} \\
Sc \rar{Sf}\dar{\tau_c}  &
Sc' \dar{\tau_{c'}} \\
Tc \rar{Tf}  &  Tc' 
\end{tikzcd}\]

***** Proof
Naturality of the external square follows from the commutativity of the
two internal squares.

**** Functor category
Given categories $B,C$, let $B^C = \mathrm{Funct}(C,B)$ be the *functor category*,
with objects the functors $T\colon C \to B$ and morphisms the natural 
transformations

\[ \mathrm{Nat}(S,T) = \left\{ \tau\mid \tau\colon S \dot\to T \right\}.
\]

***** Example: Category of arrows
The category $\mathrm{Funct}(B,2)$ is called the *category of arrows* of $B$. Its
objects are arrows $f\colon a \to b$ and its morphisms are commutative squares

\[\begin{tikzcd}
a\rar{h} \dar[swap]{f} & a' \dar{f'} \\
b\rar{k} & b'
\end{tikzcd}\]

***** Example: Actions on a set
If $M$ is a monoid, $\mathrm{Funct}(M, \mathtt{Set})$ is the category with objects the actions
of $M$ on some sets and arrows the morphisms of such actions.

***** TODO Example: Group with operators
**** Example: Group representations
Given $K$ a commutative ring, the functor category $\mathrm{Funct}(G, K\mathtt{-mod})$ is the 
category of linear representations of $G$.

***** Objects
Every functor $T \colon G \to K\mathtt{-mod}$ is determined by a $K\text{-module}$ $V$ and
a morphism of groups $T\colon G \to \text{Aut}(V)$.

***** Natural transformations
A natural transformation $\sigma\colon T \to S$ is given by a single module
homomorphism $\sigma\colon V \to V'$, such that

\[\begin{tikzcd}
V\rar{\sigma} \dar[swap]{Tg} & V' \dar{T'g} \\
V\rar{\sigma} & V'
\end{tikzcd}\]

and it is called an *intertwining* operator.

*** II.5. The category of all categories
**** Horizontal composition of natural transformations
Given functors $S,T \colon C \to B$ and $S',T'\colon B \to A$ and natural transformations

\[\begin{tikzcd}
C 
\rar[shift left=7pt, ""{name=UL, below}]{S} 
\rar[shift right=7pt, ""name=LL][swap]{T\vphantom{'}} &
B 
\rar[shift left=7pt, ""{name=UR, below}]{S'}
\rar[shift right=7pt, ""name=LR][swap]{T'} &
A\\
\ar[from=UL, to=LL, "\tau", shorten <= -2pt, shorten >= -2pt]
\ar[from=UR, to=LR, "\tau\smash{'}", shorten <= -2pt, shorten >= -2pt]
\end{tikzcd}\]

we can define the horizontal composite $\tau' \circ \tau \colon S'S \to T'T$ as the diagonal
of the square

\[\begin{tikzcd}
S'Sc\rar{\tau'_{Sc}} \dar[swap]{S'\tau_c} & T'Sc \dar{T' \tau_c} \\
S'Tc\rar{\tau'_{Tc}} & T'Tc
\end{tikzcd}\]

explicitely, as $\tau' \circ \tau = T' \tau \circ \tau' = \tau' \circ S'\tau$.

***** Naturality of the composition
It is natural as the following diagram is the composition of two
naturality squares

\[\begin{tikzcd}
S'Sc \rar{S'\tau} \dar{S'Sf} &
S'Tc \rar{\tau'}  \dar{S'Tf} &
T'Tc \dar{T'Tf} \\
S'Sb \rar{S'\tau} &
S'Tb \rar{\tau'} &
T'Tb
\end{tikzcd}\]

defined respectively by the naturality of $S'\tau$ and $\tau'$.

**** Identities
The identity functor is the identity for the horizontal and vertical
compositions. We can use the symbol of the functor to denote it like
$S \colon S \dot\to S$.

***** Horizontal composition
With this notation, we can then define the horizontal composition
as

\[
\tau'\circ \tau = 
(T' \circ \tau) \cdot (\tau'\circ S) =
(\tau' \circ T) \cdot (S'\circ \tau).
\]

**** Interchange law
Given three categories and four transformations

\[\begin{tikzcd}
C 
\rar[shift left=15pt, ""{name=UL, below}]{} 
\rar[""name=L]
\rar[shift right=15pt, ""name=LL][swap]{} &
B 
\rar[shift left=15pt, ""{name=UR, below}]{}
\rar[""name=R]
\rar[shift right=15pt, ""name=LR][swap]{} &
A\\
\ar[from=UL, to=L, "\sigma", shorten <= -2pt, shorten >= -2pt]
\ar[from=L, to=LL, "\tau", shorten <= 2pt, shorten >= -2pt]
\ar[from=UR, to=R, "\sigma\smash{'}", shorten <= -2pt, shorten >= -2pt]
\ar[from=R, to=LR, "\tau\smash{'}", shorten <= 2pt, shorten >= -2pt]
\end{tikzcd}\]

the vertical and horizontal composites follow the interchange law

\[
(\tau'\cdot \sigma') \circ (\tau \cdot \sigma) = 
(\tau'\circ \tau) \cdot (\sigma'\circ \sigma).
\]

***** TODO Proof

**** Double category
A *double category* is a set of arrows for two different compositions
which together satisfy the [[*Interchange law][interchange law]].

***** 2-category
A *2-category* is a double category in thich every identity for the
first composition is also an identity for the second one.

***** Example: commutative squares in Set
The category of commutative squares in Set is a double category but
not a 2-category.

**** Interchange law for operations
Two binary operations $\cdot,\circ$ are said to satisfy the interchange law when

\[
(a' \cdot b') \circ (a \cdot b) = (a' \circ a) \cdot (b'\circ b).
\]

***** Example: matrices
The usual product of matrices $\circ$ satisfies the interchange law with the
square-composition of matrices

\[
\tau \cdot \sigma = \begin{pmatrix}
\tau & 0\\
0 & \sigma
\end{pmatrix}.
\]

****** Proof
Trivial by definition.

**** Functor category as a functor
The functor category can be regarded as a functor

\[\mathrm{Func} \colon \mathtt{Cat}^{op}\times \mathtt{Cat} \to \mathtt{Cat}.
\]

sending an arrow, consisting of two functors $F,G$, to $F^{G}$, a functor
defined as

  * $F^GS = F \circ S \circ G$, on objects.
  * $F^{G}\tau = F \circ \tau \circ G$, on arrows.

***** Analogue with the hom-functor
Note that this is the categorical analogue of the hom-functor

\[\mathrm{Hom} \colon \mathtt{Set}^{op}\times \mathtt{Set} \to \mathtt{Set}.
\]

*** II.6. Comma categories
**** Category of objects under an object
Given $b \in C$, the category of *objects under* it, $(b \downarrow C)$, is the category
with objects all pairs $(f\colon b \to c, c)$, and arrows $h\colon (f,c) \to (f',c')$ for those
arrows such that $h\circ f = f'$.

***** Displayed notation
Objects are of the form

\[\begin{tikzcd}
b \rar{f} & c
\end{tikzcd}\]

morphisms are of the form

\[\begin{tikzcd}
& c \arrow[dd, "h"] \\[-15pt]
b \urar{f}\drar[swap]{f'}& \\[-15pt]
& c'
\end{tikzcd}\]

and the composition is the composition of two commutative triangles
in that form.

**** Category of objects over an object
The category of *objects over* $a$, $(C \downarrow a)$ can be defined similarly in
displayed notation as objects of the form

\[\begin{tikzcd}
c \rar{f} & a
\end{tikzcd}\]

and morphisms

\[\begin{tikzcd}
c \arrow[dd, "h"] \drar{f} &  \\[-15pt]
& b \\[-15pt]
c' \urar[swap]{f'} &
\end{tikzcd}\]

**** Comma category
Given categories and functors $E \overset{T}\longrightarrow C \overset{S}\longleftarrow D$, the comma category
$(T\downarrow S)$ has objects

\[\begin{tikzcd}
Te \rar{f} & Sd
\end{tikzcd}\]

and arrows commutative squares

\[\begin{tikzcd}
Te\rar{Tk} \dar[swap]{f} & Te' \dar{f'} \\
Sd\rar{Sh} & Sd'
\end{tikzcd}\]

The composite is the yuxtaposition of squares.

***** Categories of objects under/over and object
Those are particular cases when the object is seen as a functor
from the unital category $b \colon 1 \to C$.

*** II.7. Graphs and free categories
**** TODO Forgetful functor from categories to graphs
**** Free category
Let $G$ be a small graph. There is a small category $C$ called its free
category satisfying the following universal property

\[\begin{tikzcd}
G \rar{P} \drar[swap]{D} & UC\dar[dashed]{\exists! UD'} \\
& UB
\end{tikzcd}\]

which is equivalent to $P\colon G \to UC$ being initial in $(G \downarrow U)$.

*** TODO II.8. Quotient categories
** III. Universals and Limits
*** III.1. Universal arrows
**** Universal arrow
A *universal arrow* from $c$ to $S$ is an arrow $u \colon c \to Sr$ such that
for every $c \to Sd$ exists a unique $r \to d$ making this diagram commute

\[\begin{tikzcd}
& Sd & d \\
c \rar[swap]{u}\urar{g} & Sr \uar[swap,dashed]{Sf} & r \uar[dashed]{\exists! f} &.
\end{tikzcd}\]

*** III.2. The Yoneda lemma
**** Universal arrows as natural bijections
The arrow $u \colon c \to Sr$ is universal iff $f \mapsto Sf \circ u$ is a bijection
$\mathrm{hom}(r,d) \cong \mathrm{hom}(c,Sd)$ natural in $d$. Any natural bijection of this
kind is determined by a unique universal arrow.

***** Proof
Bijection follows from the definition of [[*Universal arrow][universal arrow]], and
naturality follows from $S(gf)\circ u = Sg \circ Sf \circ u$.

Given a bijection $\varphi$, we define $u = \varphi(\mathrm{id}_r)$. By naturality we have
the bijection $\varphi(f) = Sf \circ u$, every arrow is written in this way.

**** Yoneda Lemma
For any $K\colon D \to \mathtt{Set}$ and $r \in D$, there is a bijection

\[
y \colon \mathrm{Nat}(D(r,-), K) \cong Kr
\]

sending the natural transformation $\alpha \colon D(r,-) \xrightarrow{.} K$ to the image of
the identity, $\alpha_r1_r$.

***** TODO Proof

**** Addendum to the Yoneda Lemma
The bijection on the [[*Yoneda Lemma][Yoneda Lemma]] is a natural isomorphism between
two $\mathtt{Set}^D \times D \to \mathtt{Set}$ functors.

**** Yoneda functor
In the conditions of [[*Yoneda Lemma][Yoneda Lemma]], the *Yoneda functor* is a full and
faithful functor $Y \colon D^{op} \to \mathtt{Set}^{D}$ defined with the arrow function

\[
\left(f \colon s \to r\right) \mapsto 
\Big(D(f,-) \colon D(r,-) \to D(s,-)\Big).
\]

***** TODO Proof
*** III.3. Coproducts and colimits
**** Diagonal functor
The *diagonal functor* $\Delta \colon C \to C \times C$ is defined by $\Delta(c) = (c,c)$ on objects
and by $\Delta(f) = (f,f)$ on arrows.

**** Coproduct diagram
A *coproduct diagram* of a pair $(a,b)$ is a universal arrow from $(a,b)$ to
the diagonal functor $\Delta$. The object defining this universal arrow up to
isomorphism is called the *coproduct object* and written as $a \amalg b$.

\[\begin{tikzcd}
 & (d,d) \\
(a,b) \rar[swap]{(i_a,i_b)} \urar{(f,g)} & 
(a\amalg b, a\amalg b) \uar[swap]{(f \amalg g, f \amalg g)} & .
\end{tikzcd}\]

***** Diagram rewriting
This universal property can be rewritten as

\[\begin{tikzcd}
a \rar{i}\drar[swap]{f} & a \amalg b \dar[dashed]{\exists! h} & b \lar{j}\dlar{g} \\
& d &  & .
\end{tikzcd}\]

***** Bijection rewriting
This universal arrow is a bijection $\mathrm{hom}(a,d) \times \mathrm{hom}(b,d) \cong \mathrm{hom}(a \amalg b,d)$
natural in $d$.

**** Coproduct functor
In a category $C$ where every pair has a coproduct, the coproduct bifunctor
$\amalg \colon C \times C \to C$ is defined on arrows as the unique arrow

\[\begin{tikzcd}
a \dar[swap]{f}\rar{i} & a \amalg b \dar[dashed]{\exists! f\amalg g} & b \dar{g}\lar[swap]{j} \\
a' \rar[swap]{i'} & a' \amalg b' & b \lar{j'}
\end{tikzcd}\]

making this diagram commute.

**** Infinite coproducts
A *coproduct* of objects of $C$ indexed by a discrete category $X$ is a
universal arrow to the indexed diagonal functor $\Delta \colon C \to C^{X}$. We write
the coproduct object as $\coprod_{x \in X} a_x$.

***** Bijection rewriting
This universal arrow is a bijection

\[\mathrm{hom}\left( \coprod_{x \in X}a_x, c \right)
\cong \prod_{x \in X} \mathrm{hom}(a_x,c)
\]

natural in $c$.

**** Copowers
A *copower* is a coproduct where all the factors are equal. It is written
as 

\[\coprod_{x\in X} b \cong X \cdot b.\]

*** III.5. Categories with finite products
**** Category with finite products
A category *has finite products* if to any finite number of objects exists
a product diagram. In particular, it has a terminal object.

**** Binary products define finite products
A category having binary products has finite products. There is then a
product bifunctor, an isomorphism

\[
\alpha \colon a \times (b \times c) \cong (a \times b) \times c
\]

natural in $a,b,c$; and isomorphisms

\[
\lambda \colon t \times a \cong a,
\qquad
\varrho\colon a \times t \cong a,
\]

both natural in $a$.

***** TODO Proof
We will prove that $a \times (b \times c)$ is a product of $a,b,c$; due to its universal
property we know it has the universal property of the product of $a,b,c$

\[\begin{tikzcd}[row sep=small]
& & b \\
a & a \times (b \times c) \rar\lar\urar\drar & b \times c \dar \uar \\
& & c
\end{tikzcd}\]

and, by the same reasoning, $(a \times b) \times c$ is also a product. They are
isomorphic due to universality.

# Why is it natural?

*** III.6. Groups in categories
** IV. Adjoints
*** IV.1. Adjunctions
**** Adjunction
An *adjunction* from categories $X$ to $A$ is a pair of functors
$F\colon X \to A$, $G\colon A \to X$ with a natural bijection

\[
\varphi \colon \mathrm{hom}(Fx,a) \cong \mathrm{hom}(x,Ga),
\] 

natural in both $x\in X$ and $a \in A$. We write it as $F \dashv G$.

**** Unit and counit
An adjunction determines a *unit* and a *counit*

 1) A natural transformation made with universal arrows $\eta\colon I \xrightarrow{.} GF$, where
    the right adjoint of each $f \colon Fx \to a$ is

    \[
    \varphi f = Gf \circ \eta_x \colon x \to Ga.
    \]

 2) A natural transformation made with universal arrows $\varepsilon \colon FG \xrightarrow{.} I$, where
    the left adjoint of each $g \colon x \to Ga$ is

    \[\varphi^{-1}g = \varepsilon \circ Fg \colon Fx \to a.\]

that follow the triangle identities $\eta G \circ G \varepsilon = \mathrm{id}$ and $F\eta \circ \varepsilon F = \mathrm{id}$.

**** Characterization of adjunctions
Each adjunction is completely determined by any of

 1) functors $F,G$ and $\eta\colon 1 \xrightarrow{.} GF$ where $\eta_x\colon x \to GFx$ is universal to $G$.
 2) functor $G$ and universals $\eta_x \colon x \to GF_0 x$, creating a functor $F$.
 3) functors $F,G$ and $\varepsilon\colon FG \xrightarrow{.} 1$ where $\varepsilon_a\colon FGa \to a$ is universal from $F$.
 4) functor $F$ and universals $\varepsilon_a\colon FG_0a \to a$, creating a functor $G$.
 5) functors $F,G$, with units and counits satisfiying the triangle
    identities.

*** IV.3. Reflective subcategories
*** IV.4. Equivalence of categories
**** Equivalence of categories
A *equivalence of categories* is a pair of functors $S,T$ which are
inverses, $S \circ T = I$. Their domain and codomain are called /equivalent/ 
/categories/.

**** Skeleton of a category
A *skeleton* is a full subcategory where every isomorphism class has
exactly one representative.

*** IV.5. Adjoints for preorders
**** Galois connections are adjoint pairs
Let $L\colon P \to Q^{op}$ and $R\colon Q^{op} \to P$ two order preserving functions. They
are adjoints iff for every two objects

\[
Lp \geq q \iff p \leq Rq.
\]

The adjunction is unique and

\[
Lp \geq LRLp \geq Lp, \qquad Rq \leq RLRq \leq Rq.
\]

*** IV.6. Cartesian closed categories
*** IV.10. Categories like sets
**** Elementary topos
An *elementary topos* is a category $E$ which

 1) has all finite limits,
 2) has a subobject classifier,
 3) is cartesian closed.

** V. Limits
** VI. Monads and algebras
** VII. Monoids
* I. Categories, functors and natural transformations
** I.3. Functors
*** Exercise I.3.1
#+begin_statement
Show how each of the following constructions can be regarded as a functor:

 - the field of quotients of an integral domain.
 - the Lie algebra of a Lie group.
#+end_statement

**** Field of quotients
Given two integral domains and a ring homomorphism $f : R \to S$, we
define an homomorphism between its fields of quotients as:

\[
\widetilde{f}\left(\frac{a}{b}\right)
=
\frac{f(a)}{f(b)}
\]

We can prove it is well-defined using that $ab=cd$ implies
$f(a)f(b) = f(c)f(d)$, and then:

\[
\widetilde{f}\left(\frac{a}{b}\right)
=
\frac{f(a)}{f(b)}
=
\frac{f(c)}{f(d)}
=
\widetilde{f}\left(\frac{c}{d}\right)
\]

And it respects sums and products:

\[
\widetilde{f}\left(\frac{a}{b} + \frac{c}{d}\right)
=
\widetilde{f}\left(\frac{ad+cb}{bd}\right)
=
\frac{f(a)f(d)+f(c)f(d)}{f(b)f(d)}
=
\frac{f(a)}{f(b)}+\frac{f(c)}{f(d)}
\]

\[
\widetilde{f}\left(\frac{ac}{bd}\right) =
\frac{f(a)f(c)}{f(b)f(d)}
\]

So it is a field homomorphism.

**** TODO Lie algebra
Given $\phi : G \to H$, a Lie group homomorphism, we can compute its first
derivative at the identity $\phi^*$.
*** Exercise I.3.2
#+begin_statement
Show that functors $1 \to C$, $2 \to C$, and $3 \to C$ correspond respectively to
objects, arrows, and composable pairs of arrows in $C$.
#+end_statement

A functor $F\colon 1 \to C$ is determined by $F1$. A functor $F\colon 2 \to C$ is determined
by $F(1\leq 2)\colon F1 \to F2$. A functor $F\colon 3 \to C$ is determined by $F(1\leq 2)$ and
$F(2\leq 3)$, which must be composable in $F2$.

*** Exercise I.3.3
#+begin_statement
Interpret "functor" in the following special types of categories:

  1. A functor between two preorders is a function $T$ which is monotonic
     (i.e. $p \leq p'$ implies $Tp \leq Tp'$).
  2. A functor between two groups (one-object categories) is a morphism
     of groups.
  3. If $G$ is a group, a functor $G \to \mathtt{Set}$ is a permutation representation
     of $G$, while $G \to Matr_K$ is a matrix representation of $G$.
#+end_statement

**** First statement
A functor must be a monotonic function, as it has to send $(p\leq p')$ into
a morphism between $Tp$ and $Tp'$. This morphism exists if and only if 
$Tp \leq Tp'$.

**** Second statement
It respects the identity and the group operation, as functors respect
the identity and the composition.

**** Third statement
A functor $F\colon G \to \mathtt{Set}$ is determined by $FG$ and the assignment of every
element of $G$ to a set automorphism, that is, an element of the permutation
group of the set.

The functor $F\colon G \to \mathtt{Matr}_K$ selects a dimension $n$, and sends every element
of the group to an invertible matrix $M_{n\times n}$.

*** Exercise I.3.4
#+begin_statement
Prove that there is no functor $\mathtt{Grp} \to \mathtt{Ab}$ sending each group $G$ to its
center. (Consider $S_2 \to S_3 \to S_2$, the symmetric groups).
#+end_statement

A functor must preserve identities and composition. We have the following
diagram in $\mathtt{Grp}$,

\[\begin{tikzcd}
S_2 \rar[hook]\arrow[rr,bend left, "id"] & S_3 \rar & S_2
\end{tikzcd}\]

that cannot be translated into $\mathtt{Ab}$ by this functor

\[\begin{tikzcd}
S_2 \rar & \{id\} \rar &  S_2
\end{tikzcd}\]

as we know that the identity is not the zero morphism.

*** Exercise I.3.5
#+begin_statement
Find two different functors $T : \mathtt{Grp} \to \mathtt{Grp}$ with object function $T(G) = G$
the identity for every group $G$.
#+end_statement

The identity functor and a functor sending every morphism to the zero 
morphism.

** I.4. Natural transformations
*** Exercise I.4.1
#+begin_statement
Let $S$ be a fixed set, and $X^S$ the set of all functions $h : S \longrightarrow X$.
Show that $X \mapsto X^S$ is the object function of a functor $\mathtt{Set} \longrightarrow \mathtt{Set}$,
and that evaluation $e_X : X^S \times S \longrightarrow X$ defined by $e(h,s) = h(s)$, the
value of the function $h$ at $s \in S$ is a natural transformation.
#+end_statement

We define the functor $\_^S$ on arrows as follows. Given a $f : X \to Y$
and a $g : S \longrightarrow X$:

\[
f^S(g) = f \circ g
\]

And it follows the functor laws.

We can see that evaluation is a natural transformation with the
naturality square:

\[\begin{tikzcd}
X^S \times S \dar{e_X}\rar{f^S,id} & Y^S \times S \dar{e_Y}\\
X \rar{f} & Y
\end{tikzcd}\]

Which commutes on its elements:

\[\begin{tikzcd}
(f,s) \dar{e_X}\rar{g^S,id} & (g\circ f, s) \dar{e_Y}\\
f(s) \rar{f} & g(f(s))
\end{tikzcd}\]

*** Exercise I.4.2
#+begin_statement
If $H$ is a fixed group, show that $G \mapsto H \times G$ defines a functor
$H \times - \colon \mathtt{Grp}\to \mathtt{Grp}$ and that each morphism $f \colon H \to K$ of groups defines
a natural transformation $H \times -\; \dot\to \; K \times -$.
#+end_statement

The functor will send a morphism $f \colon G \to G'$ to $\mathrm{id}\times f\colon H\times G \to H \times G'$.
The naturality condition is satisfied if the following diagram commutes

\[\begin{tikzcd}
H \times G \dar{\mathrm{id}\times f} \rar{g\times\mathrm{id}} & 
K \times G \dar{\mathrm{id}\times f} \\
H \times G' \rar{g\times\mathrm{id}} & 
K \times G'
\end{tikzcd}\]

but it is trivial to check commutativity.

*** Exercise I.4.3
#+begin_statement
If $B$ and $C$ are groups (regarded as categories with one object each) and
$S,T \colon B \to C$ are functors (homomorphisms of groups), show that there is a
natural transformation $S \dot\to T$ if and only if $S$ and $T$ are conjugate; i.e.
if and only if there is an element $h \in C$ with $Tg = h(Sg)h^{-1}$ for all
$g \in B$.
#+end_statement

If the only object in $B$ is $b$, then $Sb = Tb = c$ must be the only object
in $c$. Naturality gives us

\[\begin{tikzcd}
c\rar{\varphi} \dar[swap]{Sf} & c \dar{Tf} \\
c\rar{\varphi} & c
\end{tikzcd}\]

so we know that $Sf \circ \varphi = \varphi \circ Tf$, and this is the conjugate condition.

*** Exercise I.4.4
#+begin_statement
For functors $S,T \colon C \to P$ where $C$ is a category and $P$ a preorder, show
that there is a natural transformation $S \dot\to T$ (which is then unique) if
and only if $Sc \leq Tc$ for every object $c \in C$.
#+end_statement

To define a natural transformation, we must have a familiy of morphisms

\[
Sc \to Tc \quad\forall c \in C,
\]

but this morphism exists if and only if $Sc \leq Tc$ for every object. If the
morphisms exist, the naturality condition is trivial, as there will be
an unique morphism between two objects and all squares will commute.

*** Exercise I.4.5
#+begin_statement
Show that every natural transformation $\tau\colon S \dot\to T$ defines a function
(also called $\tau$) which sends each arrow $f\colon c \to c'$ of $C$ to an arrow
$\tau f\colon Sc \to Tc'$ of $B$ in such a way that $Tg \circ \tau f = \tau(gf) = \tau g\circ Sf$ for
each composable pair $(g,f)$. Conversely, show that every such function $\tau$ 
comes from a unique natural transformation with $\tau_c = \tau(1_c)$. (This gives 
an arrows only description of a natural transformation.)
#+end_statement

Given $f\colon c \to c'$, we apply the naturality condition and take $\tau$ to be the
diagonal

\[\begin{tikzcd}
Sc \drar{\tau f} \rar{\tau} \dar[swap]{Sf} & Tc \dar{Tf} \\
Sc'\rar{\tau} & Tc'
\end{tikzcd}\]

i.e. we have defined $\tau f = Tf\circ \tau_c = \tau_{c'} \circ Sf$. The condition holds now 
trivially, as we know that

\[
Tg \circ \tau f = Tg\circ Tf\circ \tau_c = \tau(gf) = \tau_{c'}\circ Sg\circ Sf
= \tau g \circ Sf.
\]

*** TODO Exercise I.4.6
#+begin_statement
Let $F$ be a field. Show that te category of all finite-dimensional vector
spaces over $F$ (with morphisms all lineal transformations) is equivalent
to the category $\mathtt{Matr}$.
#+end_statement
** I.5. Monics, epis and zeros
*** Exercise I.5.1
#+begin_statement
Find a category with an arrow which is both epi and monic, but not 
invertible (e.g., dense subset of a topological space).
#+end_statement

In the $\mathtt{Top}$ category of topological spaces with continuous functions,
we can include a dense subset in its base space. This inclusion will
be a monomorphism (as it is injective) and an epimorphism as we know
that, if $i \colon U \subset V$ is our inclusion,

\[ f\circ i = i \circ g \implies f|_{U} = g|_{U},\]

and because it is a dense subset, by continuity, $f = g$.

But it has not to be an isomorphism. In fact, it won't be if $U$ is a
proper subset.

*** Exercise I.5.2
#+begin_statement
Prove that the composite of monics is monic, and likewise for epis.
#+end_statement

If $f,g$ are monics, we can apply the definition twice to get

\[
f \circ g \circ a = f \circ g \circ b \implies
g \circ a = g\circ b \implies
a = b.
\]

The same proof can be applied in reverse.

*** Exercise I.5.3
#+begin_statement
If a composite $g\circ f$ is monic, so is $f$. Is this true of $g$?
#+end_statement

No, $f$ could be a zero morphism and $g$ could still give $g\circ h = g\circ h'$ for
two $h \neq h'$.

*** Exercise I.5.4
#+begin_statement
Show that the inclusion $\mathbb{Z} \to \mathbb{Q}$ is epi in the category $\mathtt{Rng}$.
#+end_statement

If $f \circ i = g \circ i$, then $f|_{\mathbb{Z}} = g|_{\mathbb{Z}$, and we can extend the morphisms uniquely
to the ring $\mathbb{Q}$, as the ring morphisms have to preserve inverses.

*** TODO Exercise I.5.5
#+begin_statement
In $\mathtt{Grp}$ prove that every epi is surjective (Hint. If $\varphi\colon G\to H$ has image
$M$ not $H$, use the factor group $H/M$ if $M$ has index 2. Otherwise, let
$\mathrm{Perm}\ H$ be the group of all permutations of the set $H$, choose three
different cosets $M,Mu$ and $Mv$ of $M$, define $\sigma \in \mathrm{Perm}\ H$ by
$\sigma(xu) = xv$, $\sigma(xv) = xu$ for $x \in M$, and $\sigma$ otherwise the identity.
Let $\psi\colon H \to \mathrm{Perm}\ H$ send each $h$ to left multiplication $\psi_h$ by $h$, while
$\psi'_h = \sigma^{-1}\psi_h\sigma$. Then $\psi\varphi = \psi'\varphi$, but $\psi \neq \psi'$).
#+end_statement

*** Exercise I.5.6
#+begin_statement
In $\mathtt{Set}$, show that all idempotents split.
#+end_statement

Given $f \colon A \to A$ idempotent, we can define the set $\mathrm{img}\ f$, and two functions
$g \colon A \to \mathrm{img}\ f$, $h\colon \mathrm{img}\ f \to A$ defined naturally and satisfiying the conditions.
Notice that $g$ is an epimorphism and $h$ a monomorphism.

*** Exercise I.5.7
#+begin_statement
An arrow $f \colon a \to b$ in a category $C$ is /regular/ when there exists an arrow
$g\colon b \to a$ such that $fgf = f$. Show that $f$ is regular if it has either a left or
a right inverse, and prove that every arrow in $\mathtt{Set}$ with $a \neq \varnothing$ is regular.
#+end_statement

If $f$ has either a right or a left inverse, it is trivial that it is regular.

If $a \neq \varnothing$, we can take $x_y \in \left\{ x \in a \mid f(x) = y \right\}$, a representative of the class
of elements that are mapped onto $y$, and $u \in a$ an arbitrary element, and define

\[
g(y) = \left\{\begin{array}{ll} 
x_y & \mbox{if } y \in \mathrm{img}(f)  \\
u & \mbox{otherwise }
\end{array} 
\right.
\]

and this morphism makes the $f$ regular. (Have we used the choice axiom to define
the representatives?)

*** Exercise I.5.8
#+begin_statement
Consider the category with objects $\left\langle X,e,t \right\rangle$, where $X$ is a set, $e \in X$, and
$t \colon X \to X$, and with arrows $f\colon \left\langle X,e,t \right\rangle \to \left\langle X',e',t' \right\rangle$ the functions $f$ on $X$ to $X'$
with $fe=e'$ and $ft = tf'$. Prove that this category has an initial object in
which $X$ is the set of natural numbers, $e=0$, and $t$ is the successor function.
#+end_statement

We will prove that $\left\langle \mathbb{N},0,S \right\rangle$ is the initial object. For every object $\left\langle X,e,t \right\rangle$,
we only can define a function $f$, its image on zero is determined by the
first arrow condition $f(0) = e$, and its image in every other natural is
determined as

\[
f(n) = f(S \circ \overset{n}\dots \circ S(0)) = t\circ \overset{n}\dots \circ t(f(0)).
\]

*** Exercise I.5.9
#+begin_statement
If the functor $T \colon C \to B$ is faithful and $Tf$ is monic, prove $f$ monic.
#+end_statement

If $f\circ g = f \circ h$, we have $Tf\circ Tg = Tf\circ Th$. $Tf$ is monic and $T$ is faithful, so
we get $g = h$.

** I.6. Foundations
*** CHECK Exercise I.6.1
#+begin_statement
Given a universe $U$ and a function $f \colon I \to b$ with domain $I \in U$ and
with every value $f_i$ an element of $U$, for $i \in I$, prove that the usual
cartesian product $\prod_i f_i$ is an element of $U$.
#+end_statement

An element of the cartesian product will be a function $g \colon I \to \bigcup f_i$,
where $g(i) \in f_i$ for every $i \in I$. Our cartesian product is defined as

\[
\left\{ x \in {\cal P}\left( I \times \bigcup f_i \right) \;\middle|\; 
\left( \forall (i,b) \in x \colon b \in f_i \right) \wedge
\left( \forall j \in I\colon \exists! (i,b) \in x\colon j = i \right)
\right\}.
\]

Notice that the powerset and the union of elements in $U$ are elements
in $U$.

*** TODO Exercise I.6.2
#+begin_statement
(a) Given a universe $U$ and a function $f \colon I \to b$ with domain $I \in U$, show
that the usual union $\bigcup_i f_i$ is a set of $U$.

(b) Show that this one closue property of $U$ may replace condition (v) and the
condition $x \in U$ implies $\bigcup x \in U$ in the definition of a universe.
#+end_statement

* II. Constructions on categories
** II.3. Products of categories
*** TODO Exercise II.3.1
#+begin_statement
Show that the product of categories includes the following known special
cases: The product of monoids (categories with one object), of groups,
of sets (discrete categories).
#+end_statement

*** TODO Exercise II.3.2
#+begin_statement
Show that the product of two preorders is a preorder.
#+end_statement

*** TODO Exercise II.3.4
#+begin_statement
Describe the opposite of the category $\mathtt{Matr}_K$.
#+end_statement

*** Exercise II.3.5
#+begin_statement
Show that the ring of continuous real-valued functions on a topological
space is the object function of a contravariant functor on $\mathtt{Top}$ to $\mathtt{Rng}$.
#+end_statement

We are going to define the functor $T \colon \mathtt{Top}\to \mathtt{Rng}$ taking $Tf$ to be
$(\circ f) \colon \mathrm{hom}_{\mathtt{Top}}(Y,\mathbb{R}) \to \mathrm{hom}_{\mathtt{Top}}(X,\mathbb{R})$ for any given $f \colon X \to Y$. It is 
trivially a functor, as it preserves composition.

We know that the composition of two continuous functions is
continuous, and we have to prove that $(\circ f)$ is a ring homomorphism,
but it is trivial that

\[\begin{aligned}
(g\cdot h) \circ f &= (g \circ f) \cdot (h \circ f) \\
(g + h) \circ f &= (g \circ f) + (h \circ f). \\
\end{aligned}
\]

** TODO II.4. Functor categories
** TODO II.5. The category of all categories
** II.6. Comma categories
*** Exercise II.6.1
#+begin_statement
If $K$ is a commutative ring, show that the comma category $(K \downarrow \mathtt{CRng})$ is
the usual category of all small commutative $K\text{-algebras}$.
#+end_statement

A $K\text{-algebra}$ can be defined as an inclusion from $K$ on a ring, morphisms
of algebras must preserve this inclusion.

# A more detailed proof would be interesting.

*** Exercise II.6.2
#+begin_statement
If $t$ is a terminal object in $C$, prove that $(C \downarrow t)$ is isomorphic to $C$.
#+end_statement

By definition of terminal object, there will be only an arrow 
$\ast \colon u \to t$ for any $u \in C$. Every morphism will create a commutative 
diagram because of the unicity of the morphisms.

* III. Universals and limits
** III.1. Universal arrows
*** Exercise III.1.1
#+begin_statement
Show how each of the following familiar constructions can be interpreted
as a universal arrow:

 * The integral group ring of a group (better, of a monoid).
 * The tensor algebra of a vector space.
 * The exterior algebra of a vector space.
#+end_statement

**** The integral group ring (monoid)
The integral group ring $\mathbb{Z}G$ is defined as the initial object of $(G \downarrow {\cal U})$,
where ${\cal U}$ is the functor that takes a ring and returns its group of units.

**** The tensor algebra of a vector space
The tensor algebra $T(V)$ is defined as the initial object of $(V \downarrow U)$,
where $U\colon \mathtt{Alg}_k \to \mathtt{Vect}_k$ is the forgetful functor.

**** The exterior algebra of a vector space
The same construction as above can be performed on the full subcategory of
external algebras.

*** Exercise III.1.2
#+begin_statement
Find a universal element for the contravariant power set functor
${\cal P} \colon \mathtt{Set}^{op} \to \mathtt{Set}$.
#+end_statement

The universal arrow for $A$ will be its inclusion in ${\cal P}{\cal P}A$ as

\[
i(a) = \left\{ U \in {\cal P}A \mid a \in U \right\}.
\]

Given a morphism $f \colon A \to {\cal P}B$, we define $g \colon B \to {\cal P}A$ as

\[
g(b) = \left\{ a \in A \mid b \in f(a) \right\}.
\]

And its image when the functor is applied is

\[
{\cal P}g(\mathbb{A}) = g^{-1}(\mathbb{A})
= \left\big\{ b \in B \mid \left\{ a \mid b \in f(a) \right\} \in \mathbb{A} \right\big\}.
\]

The $g$ is unique, as it is defined by $x \in f(a) \iff a \in g(x)$.

*** Exercise III.1.3
#+begin_statement
Find (from any given object) universal arrows to the following forgetful
functors: $\mathtt{Ab} \to \mathtt{Grp}$, $\mathtt{Rng}\to \mathtt{Ab}$ (forget the multiplication), $\mathtt{Top} \to \mathtt{Set}$,
$\mathtt{Set}_{\ast} \to \mathtt{Set}$.
#+end_statement

**** Abelian groups to groups
The universal arrow defines the [[https://en.wikipedia.org/wiki/Commutator_subgroup][abelianization]] of the group. A morphism
from a group to an abelian group must have the commutator subgroup in 
its kernel

\[f(aba^{-1}b^{-1}) = f(a)f(b)f(b)^{-1}f(a)^{-1} = 1.\]

Thus, every morphism can be factorized in $G/[G,G]$, giving

\[\begin{tikzcd}
g \rar[hook]{i}\drar[swap]{f} & G/[G,G]\dar[dashed]{\widetilde f} \\
  & h & .
\end{tikzcd}\]

**** WIP Rings to abelian groups
A tensor Z-algebra over the abelian group.

**** Topological spaces to sets
The inclusion on the discrete topology over the set is an universal
arrow. If we define any application $f\colon A \to O$, there is an unique 
continuous function $\widetilde f \colon (A,\tau_d) \to (O,\tau)$ defined by $\widetilde f(x) = f(x)$. It is
trivially continuous, as $\tau_d$ is the discrete topology.

**** Pointed sets to sets
Trivially, the inclusion on $(S \cup \left\{ \ast \right\}, \ast)$ defines an universal arrow.

*** TODO Exercise III.1.4
#+begin_statement
Use only universality (of projections) to prove the following isomorphisms of
group theory:

 1) For normal subgroups $M,N$ of $G$ with $M \subset N$, $(G/M)(N/M) \cong (G/M)$.
 2) For subgroups $S$ and $N$ of $G$, $N$ normal, with join $SN$, $SN/N \cong S/S\cap N$.
#+end_statement

*** TODO Exercise III.1.5
#+begin_statement
Show that the quotient $K\text{-module}$ $A/S$ ($S$ a submodule of $A$) has a description
by universality. Derive isomorphism theorems.
#+end_statement

*** TODO Exercise III.1.6
#+begin_statement
Describe quotients of a ring by a two-sided ideal by universality.
#+end_statement

*** TODO Exercise III.1.7
#+begin_statement
Show that the construction of the polynomial ring $K[x]$ in a indeterminate $x$
over a commutative ring $K$ is a universal construction.
#+end_statement

** III.2. Yoneda Lemma
*** TODO Exercise III.2.1
#+begin_statement
Let functors $K,K' \colon D \to \mathtt{Set}$ have representations $\left\langle r,\psi \right\rangle$ and $\left\langle r',\psi' \right\rangle$, 
respectively. Prove that to each natural transformation $\tau\colon K \overset{\cdot}\to K'$,
there is a unique morphism $h \colon r' \to r$ of $D$ such that

\[
\tau\circ \psi = \psi' \circ D(h,-) \colon D(r,-) \overset{\cdot}\to K'.
\]
#+end_statement

*** TODO Exercise III.2.2
#+begin_statement
State the dual of the Yoneda Lemma ($D$ replaced by $D^{op}$).
#+end_statement

** III.3. Universals and Limits
*** Exercise III.3.1
#+begin_statement
In the category of commutative rings, show that $R \to R \otimes S \gets S$, with maps
$r \mapsto r \otimes 1$, $s \mapsto 1\otimes s$, is a coproduct diagram.
#+end_statement

Given $\alpha\colon R \to T$ and $\beta\colon S \to T$; the unique homomorphism making the diagram
commute must be defined by

\[f(r\otimes s) = f(r\otimes 1)f(1 \otimes s) = \alpha(r) \beta(s).\]

** III.5. Categories with Finite Products
*** Exercise III.5.1
#+begin_statement
Prove that the diagonal $\delta_c \colon c \to c \times c$ is natural in $c$.
#+end_statement

We use the identity $\pi_1\delta_c = 1_c = \pi_2\delta_c$ to create the four commutative
triangles that we use in this diagram. The commutativity of the diagram
follows from the universal property of the product.

\[\begin{tikzcd}
& c\dar{\delta}\dlar[swap,bend right]{id}\drar[bend left]{id} & \\
c \dar{f} & c \times c\lar[swap]{\pi}\rar{\pi} \dar{f \times f} & c \dar{f} \\
d\drar[bend right]{\delta} & d \times d \lar[swap]{\pi}\rar{\pi}\dar{id} & 
d\dlar[bend left,swap]{\delta} \\
& d\times d \\
\end{tikzcd}\]

*** TODO Exercise III.5.5
#+begin_statement
If $B$ has (finite) products show that any functor category $B^C$ also has (finite)
products (calculated "pointwise").
#+end_statement
